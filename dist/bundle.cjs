/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "body-parser":
/*!******************************!*\
  !*** external "body-parser" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("body-parser");

/***/ }),

/***/ "compression":
/*!******************************!*\
  !*** external "compression" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("compression");

/***/ }),

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("cors");

/***/ }),

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("dotenv");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("express");

/***/ }),

/***/ "express-rate-limit":
/*!*************************************!*\
  !*** external "express-rate-limit" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("express-rate-limit");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "minio":
/*!************************!*\
  !*** external "minio" ***!
  \************************/
/***/ ((module) => {

module.exports = require("minio");

/***/ }),

/***/ "multer":
/*!*************************!*\
  !*** external "multer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("multer");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("pg");

/***/ }),

/***/ "random-hex-color-generator":
/*!*********************************************!*\
  !*** external "random-hex-color-generator" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("random-hex-color-generator");

/***/ }),

/***/ "swagger-ui-express":
/*!*************************************!*\
  !*** external "swagger-ui-express" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("swagger-ui-express");

/***/ }),

/***/ "console":
/*!**************************!*\
  !*** external "console" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("console");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "./docs/apidoc.js":
/*!************************!*\
  !*** ./docs/apidoc.js ***!
  \************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   apiDocumentation: () => (/* binding */ apiDocumentation)\n/* harmony export */ });\n/* harmony import */ var _user_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user.js */ \"./docs/user.js\");\n/* harmony import */ var _category_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./category.js */ \"./docs/category.js\");\n/* harmony import */ var _documents_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./documents.js */ \"./docs/documents.js\");\n/* harmony import */ var _templates_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./templates.js */ \"./docs/templates.js\");\n\n\n\n\nvar apiDocumentation = {\n  openapi: \"3.0.1\",\n  info: {\n    version: \"1.3.0\",\n    title: \"IPVMS api descriptions\",\n    description: \"Description of api\",\n    termsOfService: \"https://mysite.com/terms\",\n    contact: {\n      name: \"Developer name\",\n      email: \"dev@example.com\",\n      url: \"https://devwebsite.com\"\n    },\n    license: {\n      name: \"Apache 2.0\",\n      url: \"https://www.apache.org/licenses/LICENSE-2.0.html\"\n    }\n  },\n  servers: [{\n    url: \"http://127.0.0.1:5001\",\n    description: \"Local Server\"\n  }, {\n    url: \"http://ipvms-api.exitest.com\",\n    description: \"Production Server\"\n  }],\n  tags: [{\n    name: \"Roles\"\n  }, {\n    name: \"Users\"\n  }, {\n    name: \"Category\"\n  }, {\n    name: \"Documents\"\n  }, {\n    name: \"Templates\"\n  }],\n  paths: {\n    \"/api/user/registerUser\": {\n      post: _user_js__WEBPACK_IMPORTED_MODULE_0__.registerUser\n    },\n    \"/api/user/loginUser\": {\n      post: _user_js__WEBPACK_IMPORTED_MODULE_0__.loginUser\n    },\n    \"/api/user/getAllUsers\": {\n      get: _user_js__WEBPACK_IMPORTED_MODULE_0__.getAllUsers\n    },\n    \"/api/user/forgotPassword\": {\n      post: _user_js__WEBPACK_IMPORTED_MODULE_0__.forgotPassword\n    },\n    \"/api/user/resetPassword/{token}\": {\n      post: _user_js__WEBPACK_IMPORTED_MODULE_0__.resetPassword\n    },\n    \"/api/user/resetPassword\": {\n      post: _user_js__WEBPACK_IMPORTED_MODULE_0__.resetPasswordAuth\n    },\n    \"/api/categories/createNewCategory\": {\n      post: _category_js__WEBPACK_IMPORTED_MODULE_1__.createNewCategory\n    },\n    \"/api/categories/getAllCategories\": {\n      get: _category_js__WEBPACK_IMPORTED_MODULE_1__.getAllCategories\n    },\n    \"/api/categories/editCategory\": {\n      patch: _category_js__WEBPACK_IMPORTED_MODULE_1__.editCategory\n    },\n    // \"/api/categories/deleteCategory\": {\n    //   patch: deleteCategory,\n    // },\n    // \"/documents/count/category\": {\n    //   get: getDocumentCategories,\n    // },\n    \"/api/versioncontrol/createDocumentVersion\": {\n      post: _documents_js__WEBPACK_IMPORTED_MODULE_2__.createDocumentVersion\n    },\n    \"/api/versioncontrol/getDocumentVersionsDatewise?docId=\": {\n      get: _documents_js__WEBPACK_IMPORTED_MODULE_2__.getDocumentVersionsDatewise\n    },\n    \"/api/versioncontrol/getDocumentVersionById?id=\": {\n      get: _documents_js__WEBPACK_IMPORTED_MODULE_2__.getDocumentVersionById\n    },\n    \"/api/versioncontrol/createTemplateVersion\": {\n      post: _templates_js__WEBPACK_IMPORTED_MODULE_3__.createTemplateVersion\n    },\n    \"/api/versioncontrol/getTemplateVersionsDatewise?docId=\": {\n      get: _templates_js__WEBPACK_IMPORTED_MODULE_3__.getTemplateVersionsDatewise\n    },\n    \"/api/versioncontrol/getTemplateVersionById?id=\": {\n      get: _templates_js__WEBPACK_IMPORTED_MODULE_3__.getTemplateVersionById\n    }\n  },\n  components: {\n    securitySchemes: {\n      bearerAuth: {\n        type: \"http\",\n        scheme: \"bearer\",\n        bearerFormat: \"JWT\"\n      }\n    },\n    schemas: {\n      registerUserBody: _user_js__WEBPACK_IMPORTED_MODULE_0__.registerUserBody,\n      loginUserBody: _user_js__WEBPACK_IMPORTED_MODULE_0__.loginUserBody,\n      forgotUserBody: _user_js__WEBPACK_IMPORTED_MODULE_0__.forgotUserBody,\n      resetUserBody: _user_js__WEBPACK_IMPORTED_MODULE_0__.resetUserBody,\n      resetAuthUserBody: _user_js__WEBPACK_IMPORTED_MODULE_0__.resetAuthUserBody,\n      registerCategoryBody: _category_js__WEBPACK_IMPORTED_MODULE_1__.registerCategoryBody,\n      // editCategoryBody,\n      // deleteCategoryBody,\n      createDocumentVersionBody: _documents_js__WEBPACK_IMPORTED_MODULE_2__.createDocumentVersionBody,\n      createTemplateVersionBody: _templates_js__WEBPACK_IMPORTED_MODULE_3__.createTemplateVersionBody\n    }\n  }\n};\n\n\n//# sourceURL=webpack://backend/./docs/apidoc.js?");

/***/ }),

/***/ "./docs/category.js":
/*!**************************!*\
  !*** ./docs/category.js ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNewCategory: () => (/* binding */ createNewCategory),\n/* harmony export */   editCategory: () => (/* binding */ editCategory),\n/* harmony export */   getAllCategories: () => (/* binding */ getAllCategories),\n/* harmony export */   registerCategoryBody: () => (/* binding */ registerCategoryBody)\n/* harmony export */ });\n/* unused harmony exports editCategoryBody, deleteCategory, deleteCategoryBody, getDocumentCategories */\nvar createNewCategory = {\n  tags: [\"Category\"],\n  description: \"Create a new category in the system\",\n  operationId: \"createNewCategory\",\n  security: [{\n    bearerAuth: []\n  }],\n  requestBody: {\n    content: {\n      \"application/json\": {\n        schema: {\n          $ref: \"#/components/schemas/registerCategoryBody\"\n        }\n      }\n    },\n    required: true\n  },\n  responses: {\n    201: {\n      description: \"Category created successfully!\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"Category Registered\"\n              },\n              data: {\n                type: \"object\",\n                properties: {\n                  id: {\n                    type: \"number\",\n                    example: \"980765\"\n                  },\n                  category: {\n                    type: \"string\",\n                    example: \"IT\"\n                  },\n                  created_at: {\n                    type: \"string\",\n                    example: \"2024-04-16T01:05:55.959Z\"\n                  },\n                  is_active: {\n                    type: \"boolean\",\n                    example: true\n                  },\n                  svg: {\n                    type: \"string\",\n                    example: null\n                  },\n                  color: {\n                    type: 'string',\n                    example: null\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    500: {\n      description: \"Internal Server Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: false\n              },\n              message: {\n                type: \"string\",\n                example: \"Error in creating Category\"\n              }\n            }\n          }\n        }\n      }\n    },\n    409: {\n      description: \"Conflict\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: false\n              },\n              message: {\n                type: \"string\",\n                example: \"Category already Exists\"\n              }\n            }\n          }\n        }\n      }\n    },\n    400: {\n      description: \"bad request\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: false\n              },\n              message: {\n                type: \"string\",\n                example: \"Category name required\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\nvar registerCategoryBody = {\n  type: \"object\",\n  properties: {\n    category: {\n      type: \"string\",\n      example: \"IT\"\n    }\n  }\n};\nvar getAllCategories = {\n  tags: [\"Category\"],\n  description: \"Get All Categories in the system\",\n  operationId: \"getAllCategories\",\n  security: [{\n    bearerAuth: []\n  }],\n  responses: {\n    200: {\n      description: \"Get All Categories Succeess\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"All Categories are :\"\n              },\n              length: {\n                type: \"number\",\n                example: 8\n              },\n              data: {\n                type: \"array\",\n                items: {\n                  type: \"object\",\n                  properties: {\n                    id: {\n                      type: \"number\",\n                      example: \"4818\"\n                    },\n                    category: {\n                      type: \"string\",\n                      example: \"IT\"\n                    },\n                    created_at: {\n                      type: \"string\",\n                      example: \"2024-04-16T01:05:55.959Z\"\n                    },\n                    is_active: {\n                      type: \"boolean\",\n                      example: true\n                    },\n                    svg: {\n                      type: \"string\",\n                      example: ''\n                    },\n                    color: {\n                      type: \"sting\",\n                      example: '#0C3D99'\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    500: {\n      description: \"Internal Server Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: false\n              },\n              message: {\n                type: \"string\",\n                example: \"Internal Server Error\"\n              }\n            }\n          }\n        }\n      }\n    },\n    404: {\n      description: \"Not found\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"No categories exists.\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\nvar editCategory = {\n  tags: [\"Category\"],\n  description: \"Editing name of category.\",\n  operationId: \"editCategory\",\n  security: [{\n    bearerAuth: []\n  }],\n  requestBody: {\n    content: {\n      \"application/json\": {\n        schema: {\n          $ref: \"#/components/schemas/editCategoryBody\"\n        }\n      }\n    },\n    required: true\n  },\n  responses: {\n    200: {\n      description: \"Editing name of category Success\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"Updated category:\"\n              },\n              length: {\n                type: \"number\",\n                example: 1\n              },\n              data: {\n                type: \"object\",\n                properties: {\n                  id: {\n                    type: \"number\",\n                    example: 818\n                  },\n                  category: {\n                    type: \"string\",\n                    example: \"IT\"\n                  },\n                  created_at: {\n                    type: \"string\",\n                    example: \"2024-04-16T01:05:55.959Z\"\n                  },\n                  is_active: {\n                    type: \"boolean\",\n                    example: true\n                  },\n                  svg: {\n                    type: \"string\",\n                    example: \"\"\n                  },\n                  color: {\n                    type: \"string\",\n                    example: \"#987hj\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    500: {\n      description: \"Database Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: false\n              },\n              message: {\n                type: \"string\",\n                example: \"Internal Server error happened\"\n              }\n            }\n          }\n        }\n      }\n    },\n    400: {\n      description: \"Validation Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: false\n              },\n              message: {\n                type: \"string\",\n                example: \"id or Category name should not be empty.\"\n              }\n            }\n          }\n        }\n      }\n    },\n    404: {\n      description: \"Not found\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: false\n              },\n              message: {\n                type: \"string\",\n                example: \"Category not found to update.\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\nvar editCategoryBody = {\n  type: \"object\",\n  properties: {\n    category: {\n      type: \"string\",\n      example: \"IT\"\n    }\n  }\n};\nvar deleteCategory = {\n  tags: [\"Category\"],\n  description: \"Setting isActive false i.e deleting category.\",\n  operationId: \"deleteCategory\",\n  security: [{\n    bearerAuth: []\n  }],\n  requestBody: {\n    content: {\n      \"application/json\": {\n        schema: {\n          $ref: \"#/components/schemas/deleteCategoryBody\"\n        }\n      }\n    },\n    required: true\n  },\n  responses: {\n    200: {\n      description: \"Successfully deleted category\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"Successfully deleted category\"\n              },\n              length: {\n                type: \"number\",\n                example: 1\n              }\n            }\n          }\n        }\n      }\n    },\n    500: {\n      description: \"Database Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: false\n              },\n              message: {\n                type: \"string\",\n                example: \"Internal Server error happened\"\n              }\n            }\n          }\n        }\n      }\n    },\n    400: {\n      description: \"Validation Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: false\n              },\n              message: {\n                type: \"string\",\n                example: \"id should be not be empty.\"\n              }\n            }\n          }\n        }\n      }\n    },\n    404: {\n      description: \"Not found\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: false\n              },\n              message: {\n                type: \"string\",\n                example: \"Category not found to delete.\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\nvar deleteCategoryBody = {\n  type: \"object\",\n  properties: {\n    id: {\n      type: \"number\",\n      example: 20\n    }\n  }\n};\nvar getDocumentCategories = {\n  tags: [\"Category\"],\n  description: \"Get All document Categories in the system\",\n  operationId: \"getDocumentCategories\",\n  security: [{\n    bearerAuth: []\n  }],\n  responses: {\n    200: {\n      description: \"Get All Categories Succeess\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"All Categories are :\"\n              },\n              length: {\n                type: \"number\",\n                example: 8\n              },\n              data: {\n                type: \"array\",\n                items: {\n                  type: \"object\",\n                  properties: {\n                    // id: {\n                    //     type: \"number\",\n                    //     example: \"4818\",\n                    // },\n                    category: {\n                      type: \"string\",\n                      example: \"IT\"\n                    },\n                    svg: {\n                      type: \"string\",\n                      example: ''\n                    },\n                    color: {\n                      type: \"sting\",\n                      example: '#0C3D99'\n                    },\n                    total_documents: {\n                      type: 'string',\n                      example: '9'\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    500: {\n      description: \"Internal Server Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: false\n              },\n              message: {\n                type: \"string\",\n                example: \"Internal Server Error\"\n              }\n            }\n          }\n        }\n      }\n    },\n    404: {\n      description: \"Not found\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"No categories exists.\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\n\n\n//# sourceURL=webpack://backend/./docs/category.js?");

/***/ }),

/***/ "./docs/documents.js":
/*!***************************!*\
  !*** ./docs/documents.js ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDocumentVersion: () => (/* binding */ createDocumentVersion),\n/* harmony export */   createDocumentVersionBody: () => (/* binding */ createDocumentVersionBody),\n/* harmony export */   getDocumentVersionById: () => (/* binding */ getDocumentVersionById),\n/* harmony export */   getDocumentVersionsDatewise: () => (/* binding */ getDocumentVersionsDatewise)\n/* harmony export */ });\nvar createDocumentVersion = {\n  tags: [\"Documents\"],\n  description: \"Create a new version of Document in the system\",\n  operationId: \"createDocumentVersion\",\n  security: [{\n    bearerAuth: []\n  }],\n  requestBody: {\n    content: {\n      \"application/json\": {\n        schema: {\n          $ref: \"#/components/schemas/createDocumentVersionBody\"\n        }\n      }\n    },\n    required: true\n  },\n  responses: {\n    201: {\n      description: \"Category created successfully!\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"Document version created:\"\n              },\n              length: {\n                type: \"number\",\n                example: 1\n              },\n              data: {\n                type: \"object\",\n                properties: {\n                  id: {\n                    type: \"number\",\n                    example: \"980765\"\n                  },\n                  version_number: {\n                    type: \"number\",\n                    example: \"1.3\"\n                  },\n                  doc_id: {\n                    type: \"number\",\n                    example: '4'\n                  },\n                  delta: {\n                    type: \"json\",\n                    example: \"{'hioini': 'ninianolanc'}\"\n                  },\n                  created_at: {\n                    type: \"string\",\n                    example: \"2024-04-16T01:05:55.959Z\"\n                  },\n                  created_by: {\n                    type: \"number\",\n                    example: \"3\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    400: {\n      description: \"Version creation error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: false\n              },\n              message: {\n                type: \"string\",\n                example: \"version_number or doc_id or delta are missing\"\n              }\n            }\n          }\n        }\n      }\n    },\n    500: {\n      description: \"Internal Server Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: false\n              },\n              message: {\n                type: \"string\",\n                example: \"Error in Creating Document Versions\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\nvar createDocumentVersionBody = {\n  type: \"object\",\n  properties: {\n    version_number: {\n      type: \"string\",\n      example: '2.2'\n    },\n    doc_id: {\n      type: \"string\",\n      example: \"2\"\n    },\n    delta: {\n      type: \"json\",\n      example: \"{\\\"hioini\\\":\\\"ninianolanc\\\"}\"\n    },\n    created_by: {\n      type: \"string\",\n      example: '5'\n    }\n  }\n};\nvar getDocumentVersionsDatewise = {\n  tags: [\"Documents\"],\n  description: \"Get document versions Datewise to show in editor\",\n  operationId: \"getDocumentVersionsDatewise\",\n  security: [{\n    bearerAuth: []\n  }],\n  parameters: [{\n    name: \"docId\",\n    \"in\": \"query\",\n    required: true,\n    schema: {\n      type: \"string\"\n    },\n    description: \"Document id to get all version  details of it\"\n  }],\n  responses: {\n    200: {\n      description: \"reset Password Success\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"reset password success\"\n              },\n              length: {\n                type: \"number\",\n                example: 3\n              },\n              data: {\n                type: \"array\",\n                items: {\n                  type: \"object\",\n                  properties: {\n                    date: {\n                      type: \"string\",\n                      example: \"2024-04-30T18:30:00.000Z\"\n                    },\n                    grouped_values: {\n                      type: \"string\",\n                      example: \"[28,1.1,4,2024-05-01 04:54:00.505154,Dev], [26,1.1,4,2024-05-01 04:46:29.035146,Dev]\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    500: {\n      description: \"Database Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"Error in getting Document Versions details.\"\n              }\n            }\n          }\n        }\n      }\n    },\n    400: {\n      description: \"Validation Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"doc id required\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\nvar getDocumentVersionById = {\n  tags: [\"Documents\"],\n  description: \"Get document version\",\n  operationId: \"getDocumentVersionById\",\n  security: [{\n    bearerAuth: []\n  }],\n  parameters: [{\n    name: \"id\",\n    \"in\": \"query\",\n    required: true,\n    schema: {\n      type: \"string\"\n    },\n    description: \"id to get specific version of document\"\n  }],\n  responses: {\n    200: {\n      description: \"reset Password Success\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"reset password success\"\n              },\n              length: {\n                type: \"number\",\n                example: 1\n              },\n              data: {\n                type: \"object\",\n                properties: {\n                  id: {\n                    type: \"number\",\n                    example: 1\n                  },\n                  version_number: {\n                    type: \"number\",\n                    example: '2.2'\n                  },\n                  doc_id: {\n                    type: \"string\",\n                    example: \"2\"\n                  },\n                  delta: {\n                    type: \"json\",\n                    example: \"\\n                                        {\\\"hioini\\\":\\\"ninianolanc\\\"}\\n                                        \"\n                  },\n                  created_by: {\n                    type: \"string\",\n                    example: '5'\n                  },\n                  created_at: {\n                    type: \"string\",\n                    example: \"2024-04-30T23:18:30.263Z\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  500: {\n    description: \"Database Error\",\n    content: {\n      \"application/json\": {\n        schema: {\n          type: \"object\",\n          properties: {\n            message: {\n              type: \"string\",\n              example: \"Error in getting Document Version.\"\n            }\n          }\n        }\n      }\n    }\n  },\n  400: {\n    description: \"Validation Error\",\n    content: {\n      \"application/json\": {\n        schema: {\n          type: \"object\",\n          properties: {\n            message: {\n              type: \"string\",\n              example: \"id required\"\n            }\n          }\n        }\n      }\n    }\n  }\n};\n\n\n//# sourceURL=webpack://backend/./docs/documents.js?");

/***/ }),

/***/ "./docs/templates.js":
/*!***************************!*\
  !*** ./docs/templates.js ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTemplateVersion: () => (/* binding */ createTemplateVersion),\n/* harmony export */   createTemplateVersionBody: () => (/* binding */ createTemplateVersionBody),\n/* harmony export */   getTemplateVersionById: () => (/* binding */ getTemplateVersionById),\n/* harmony export */   getTemplateVersionsDatewise: () => (/* binding */ getTemplateVersionsDatewise)\n/* harmony export */ });\nvar createTemplateVersion = {\n  tags: [\"Templates\"],\n  description: \"Create a new version of Template in the system\",\n  operationId: \"createTemplateVersion\",\n  security: [{\n    bearerAuth: []\n  }],\n  requestBody: {\n    content: {\n      \"application/json\": {\n        schema: {\n          $ref: \"#/components/schemas/createTemplateVersionBody\"\n        }\n      }\n    },\n    required: true\n  },\n  responses: {\n    201: {\n      description: \"Category created successfully!\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"Template version created:\"\n              },\n              length: {\n                type: \"number\",\n                example: 1\n              },\n              data: {\n                type: \"object\",\n                properties: {\n                  id: {\n                    type: \"number\",\n                    example: \"980765\"\n                  },\n                  version_number: {\n                    type: \"number\",\n                    example: \"1.3\"\n                  },\n                  doc_id: {\n                    type: \"number\",\n                    example: '4'\n                  },\n                  delta: {\n                    type: \"json\",\n                    example: \"{'hioini': 'ninianolanc'}\"\n                  },\n                  created_at: {\n                    type: \"string\",\n                    example: \"2024-04-16T01:05:55.959Z\"\n                  },\n                  created_by: {\n                    type: \"number\",\n                    example: \"3\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    400: {\n      description: \"Version creation error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: false\n              },\n              message: {\n                type: \"string\",\n                example: \"version_number or doc_id or delta are missing\"\n              }\n            }\n          }\n        }\n      }\n    },\n    500: {\n      description: \"Internal Server Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: false\n              },\n              message: {\n                type: \"string\",\n                example: \"Internal Server Error\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\nvar createTemplateVersionBody = {\n  type: \"object\",\n  properties: {\n    version_number: {\n      type: \"string\",\n      example: '2.2'\n    },\n    doc_id: {\n      type: \"string\",\n      example: \"2\"\n    },\n    delta: {\n      type: \"json\",\n      example: \"\\n            {\\\"hioini\\\":\\\"ninianolanc\\\"}\\n            \"\n    },\n    created_by: {\n      type: \"string\",\n      example: '5'\n    }\n  }\n};\nvar getTemplateVersionsDatewise = {\n  tags: [\"Templates\"],\n  description: \"Get document versions Datewise to show in editor\",\n  operationId: \"getTemplateVersionsDatewise\",\n  security: [{\n    bearerAuth: []\n  }],\n  parameters: [{\n    name: \"docId\",\n    \"in\": \"query\",\n    required: true,\n    schema: {\n      type: \"string\"\n    },\n    description: \"Template id to get all version  details of it\"\n  }],\n  responses: {\n    200: {\n      description: \"reset Password Success\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"reset password success\"\n              },\n              length: {\n                type: \"number\",\n                example: 3\n              },\n              data: {\n                type: \"array\",\n                items: {\n                  type: \"object\",\n                  properties: {\n                    date: {\n                      type: \"string\",\n                      example: \"2024-04-30T18:30:00.000Z\"\n                    },\n                    grouped_values: {\n                      type: \"string\",\n                      example: \"[28,1.1,4,2024-05-01 04:54:00.505154,Dev], [26,1.1,4,2024-05-01 04:46:29.035146,Dev]\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    500: {\n      description: \"Database Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"Error in getting Template Versions details.\"\n              }\n            }\n          }\n        }\n      }\n    },\n    400: {\n      description: \"Validation Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"doc id required\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\nvar getTemplateVersionById = {\n  tags: [\"Templates\"],\n  description: \"Get document version\",\n  operationId: \"getTemplateVersionById\",\n  security: [{\n    bearerAuth: []\n  }],\n  parameters: [{\n    name: \"id\",\n    \"in\": \"query\",\n    required: true,\n    schema: {\n      type: \"string\"\n    },\n    description: \"id to get specific version of document\"\n  }],\n  responses: {\n    200: {\n      description: \"reset Password Success\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"reset password success\"\n              },\n              length: {\n                type: \"number\",\n                example: 1\n              },\n              data: {\n                type: \"object\",\n                properties: {\n                  id: {\n                    type: \"number\",\n                    example: 1\n                  },\n                  version_number: {\n                    type: \"number\",\n                    example: '2.2'\n                  },\n                  doc_id: {\n                    type: \"string\",\n                    example: \"2\"\n                  },\n                  delta: {\n                    type: \"json\",\n                    example: \"\\n                                        {\\\"hioini\\\":\\\"ninianolanc\\\"}\\n                                        \"\n                  },\n                  created_by: {\n                    type: \"string\",\n                    example: '5'\n                  },\n                  created_at: {\n                    type: \"string\",\n                    example: \"2024-04-30T23:18:30.263Z\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  500: {\n    description: \"Database Error\",\n    content: {\n      \"application/json\": {\n        schema: {\n          type: \"object\",\n          properties: {\n            message: {\n              type: \"string\",\n              example: \"Error in getting Template Version.\"\n            }\n          }\n        }\n      }\n    }\n  },\n  400: {\n    description: \"Validation Error\",\n    content: {\n      \"application/json\": {\n        schema: {\n          type: \"object\",\n          properties: {\n            message: {\n              type: \"string\",\n              example: \"id required.\"\n            }\n          }\n        }\n      }\n    }\n  }\n};\n\n\n//# sourceURL=webpack://backend/./docs/templates.js?");

/***/ }),

/***/ "./docs/user.js":
/*!**********************!*\
  !*** ./docs/user.js ***!
  \**********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   forgotPassword: () => (/* binding */ forgotPassword),\n/* harmony export */   forgotUserBody: () => (/* binding */ forgotUserBody),\n/* harmony export */   getAllUsers: () => (/* binding */ getAllUsers),\n/* harmony export */   loginUser: () => (/* binding */ loginUser),\n/* harmony export */   loginUserBody: () => (/* binding */ loginUserBody),\n/* harmony export */   registerUser: () => (/* binding */ registerUser),\n/* harmony export */   registerUserBody: () => (/* binding */ registerUserBody),\n/* harmony export */   resetAuthUserBody: () => (/* binding */ resetAuthUserBody),\n/* harmony export */   resetPassword: () => (/* binding */ resetPassword),\n/* harmony export */   resetPasswordAuth: () => (/* binding */ resetPasswordAuth),\n/* harmony export */   resetUserBody: () => (/* binding */ resetUserBody)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar registerUser = {\n  tags: [\"Users\"],\n  description: \"Create a new use in the system\",\n  operationId: \"registerUser\",\n  security: [{\n    bearerAuth: []\n  }],\n  requestBody: {\n    content: {\n      \"application/json\": {\n        schema: {\n          $ref: \"#/components/schemas/registerUserBody\"\n        }\n      }\n    },\n    required: true\n  },\n  responses: {\n    201: {\n      description: \"User created successfully!\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"User Registered\"\n              },\n              data: {\n                type: \"object\",\n                properties: {\n                  id: {\n                    type: \"string\",\n                    example: \"60564fcb544047cdc3844818\"\n                  },\n                  first_name: {\n                    type: \"string\",\n                    example: \"John\"\n                  },\n                  last_name: {\n                    type: \"string\",\n                    example: \"snow\"\n                  },\n                  created_at: {\n                    type: \"string\",\n                    example: \"2024-04-16T01:05:55.959Z\"\n                  },\n                  updated_at: {\n                    type: \"string\",\n                    example: \"2024-04-16T01:05:55.959Z\"\n                  },\n                  email: {\n                    type: \"string\",\n                    example: \"Tarora@ex2india.com\"\n                  },\n                  is_active: {\n                    type: \"boolean\",\n                    example: true\n                  },\n                  password_reset: {\n                    type: \"boolean\",\n                    example: true\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    500: {\n      description: \"Internal Server Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"Internal Server Error\"\n              }\n            }\n          }\n        }\n      }\n    },\n    400: {\n      description: \"Bad Request\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"Invalid format\"\n              }\n            }\n          }\n        }\n      }\n    },\n    409: {\n      description: \"Conflict\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"User Email Already Exist\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\nvar registerUserBody = {\n  type: \"object\",\n  properties: {\n    firstName: {\n      type: \"string\",\n      example: \"John\"\n    },\n    lastName: {\n      type: \"string\",\n      example: \"Snow\"\n    },\n    email: {\n      type: \"string\",\n      example: \"johnsnow@ex2india.com\"\n    },\n    password: {\n      type: \"string\",\n      description: \"user's password\",\n      example: \"Hello@12345\",\n      pattern: \"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})\"\n    }\n  }\n};\nvar loginUser = {\n  tags: [\"Users\"],\n  description: \"Login new User in the system\",\n  operationId: \"loginUser\",\n  security: [{\n    bearerAuth: []\n  }],\n  requestBody: {\n    content: {\n      \"application/json\": {\n        schema: {\n          $ref: \"#/components/schemas/loginUserBody\"\n        }\n      }\n    },\n    required: true\n  },\n  responses: {\n    200: {\n      description: \"User logged in successfully!\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"Login Success\"\n              },\n              token: {\n                type: \"string\",\n                example: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\"\n              },\n              data: {\n                type: \"object\",\n                properties: {\n                  id: {\n                    type: \"string\",\n                    example: \"60564fcb544047cdc3844818\"\n                  },\n                  first_name: {\n                    type: \"string\",\n                    example: \"John\"\n                  },\n                  last_name: {\n                    type: \"string\",\n                    example: \"snow\"\n                  },\n                  created_at: {\n                    type: \"string\",\n                    example: \"2024-04-16T01:05:55.959Z\"\n                  },\n                  updated_at: {\n                    type: \"string\",\n                    example: \"2024-04-16T01:05:55.959Z\"\n                  },\n                  email: {\n                    type: \"string\",\n                    example: \"Tarora@ex2india.com\"\n                  },\n                  is_active: {\n                    type: \"boolean\",\n                    example: true\n                  },\n                  password_reset: {\n                    type: \"boolean\",\n                    example: true\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    500: {\n      description: \"Internal Server Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"Internal Server Error\"\n              }\n            }\n          }\n        }\n      }\n    },\n    400: {\n      description: \"Bad Request\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"Invalid format\"\n              }\n            }\n          }\n        }\n      }\n    },\n    404: {\n      description: \"Not found\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"user not found\"\n              }\n            }\n          }\n        }\n      }\n    },\n    401: {\n      description: \"Unauthorized\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"Invalid Credentials\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\nvar loginUserBody = {\n  type: \"object\",\n  properties: {\n    email: {\n      type: \"string\",\n      example: \"johnsnow@ex2india.com\"\n    },\n    password: {\n      type: \"string\",\n      description: \"user's password\",\n      example: \"Hello@12345\",\n      pattern: \"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})\"\n    }\n  }\n};\nvar getAllUsers = {\n  tags: [\"Users\"],\n  description: \"get All User in the system\",\n  operationId: \"getAllUsers\",\n  security: [{\n    bearerAuth: []\n  }],\n  responses: {\n    200: {\n      description: \"get All Users Succeess\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"all user are\"\n              },\n              data: {\n                type: \"array\",\n                items: {\n                  type: \"object\",\n                  properties: {\n                    id: {\n                      type: \"string\",\n                      example: \"60564fcb544047cdc3844818\"\n                    },\n                    first_name: {\n                      type: \"string\",\n                      example: \"John\"\n                    },\n                    last_name: {\n                      type: \"string\",\n                      example: \"snow\"\n                    },\n                    created_at: {\n                      type: \"string\",\n                      example: \"2024-04-16T01:05:55.959Z\"\n                    },\n                    updated_at: {\n                      type: \"string\",\n                      example: \"2024-04-16T01:05:55.959Z\"\n                    },\n                    email: {\n                      type: \"string\",\n                      example: \"Tarora@ex2india.com\"\n                    },\n                    is_active: {\n                      type: \"boolean\",\n                      example: true\n                    },\n                    password_reset: {\n                      type: \"boolean\",\n                      example: true\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    500: {\n      description: \"Internal Server Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"Internal Server Error\"\n              }\n            }\n          }\n        }\n      }\n    },\n    400: {\n      description: \"Bad Request\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"Invalid format\"\n              }\n            }\n          }\n        }\n      }\n    },\n    404: {\n      description: \"Not found\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"user not found\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\nvar forgotPassword = {\n  tags: [\"Users\"],\n  description: \"forgot password\",\n  operationId: \"forgotPassword\",\n  security: [{\n    bearerAuth: []\n  }],\n  requestBody: {\n    content: {\n      \"application/json\": {\n        schema: {\n          $ref: \"#/components/schemas/forgotUserBody\"\n        }\n      }\n    },\n    required: true\n  },\n  responses: {\n    200: {\n      description: \"forgot Password Success\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"mail is sent to the registered mail id\"\n              },\n              secretToken: {\n                type: \"string\",\n                example: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\"\n              }\n            }\n          }\n        }\n      }\n    },\n    500: {\n      description: \"Internal Server Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"Internal Server Error\"\n              }\n            }\n          }\n        }\n      }\n    },\n    400: {\n      description: \"Bad Request\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"Invalid format\"\n              }\n            }\n          }\n        }\n      }\n    },\n    404: {\n      description: \"Not found\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"user not found\"\n              }\n            }\n          }\n        }\n      }\n    },\n    502: {\n      description: \"Not found\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"can't send email\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\nvar forgotUserBody = {\n  type: \"object\",\n  properties: {\n    email: {\n      type: \"string\",\n      example: \"johnsnow@ex2india.com\"\n    }\n  }\n};\nvar resetPassword = {\n  tags: [\"Users\"],\n  description: \"for reset password after mail send\",\n  operationId: \"resetPassword\",\n  security: [{\n    bearerAuth: []\n  }],\n  parameters: [{\n    name: \"token\",\n    \"in\": \"path\",\n    required: true,\n    schema: {\n      type: \"string\"\n    },\n    description: \"Token for user authentication\"\n  }],\n  requestBody: {\n    content: {\n      \"application/json\": {\n        schema: {\n          $ref: \"#/components/schemas/resetUserBody\"\n        }\n      }\n    },\n    required: true\n  },\n  responses: {\n    200: {\n      description: \"reset Password Success\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"reset password success\"\n              },\n              user: _defineProperty(_defineProperty({\n                type: \"object\"\n              }, \"type\", \"object\"), \"properties\", {\n                id: {\n                  type: \"string\",\n                  example: \"60564fcb544047cdc3844818\"\n                },\n                first_name: {\n                  type: \"string\",\n                  example: \"John\"\n                },\n                last_name: {\n                  type: \"string\",\n                  example: \"snow\"\n                },\n                created_at: {\n                  type: \"string\",\n                  example: \"2024-04-16T01:05:55.959Z\"\n                },\n                updated_at: {\n                  type: \"string\",\n                  example: \"2024-04-16T01:05:55.959Z\"\n                },\n                email: {\n                  type: \"string\",\n                  example: \"Tarora@ex2india.com\"\n                },\n                is_active: {\n                  type: \"boolean\",\n                  example: true\n                },\n                password_reset: {\n                  type: \"boolean\",\n                  example: true\n                }\n              }),\n              token: {\n                type: \"string\",\n                example: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\"\n              }\n            }\n          }\n        }\n      }\n    },\n    500: {\n      description: \"Database Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"Error in reseting user password\"\n              }\n            }\n          }\n        }\n      }\n    },\n    400: {\n      description: \"Validation Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"Error in reseting User password\"\n              }\n            }\n          }\n        }\n      }\n    },\n    404: {\n      description: \"Not found\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"user not found\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\nvar resetUserBody = {\n  type: \"object\",\n  properties: {\n    password: {\n      type: \"string\",\n      example: \"Hello@12345\"\n    },\n    confirmPassword: {\n      type: \"string\",\n      example: \"Hello@12345\"\n    }\n  }\n};\nvar resetPasswordAuth = {\n  tags: [\"Users\"],\n  description: \"for reset password of logged in user\",\n  operationId: \"resetPasswordAuth\",\n  security: [{\n    bearerAuth: []\n  }],\n  requestBody: {\n    content: {\n      \"application/json\": {\n        schema: {\n          $ref: \"#/components/schemas/resetAuthUserBody\"\n        }\n      }\n    },\n    required: true\n  },\n  responses: {\n    200: {\n      description: \"reset Password Success\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              success: {\n                type: \"boolean\",\n                example: true\n              },\n              message: {\n                type: \"string\",\n                example: \"mail is sent to the registered mail id\"\n              },\n              user: _defineProperty(_defineProperty({\n                type: \"object\"\n              }, \"type\", \"object\"), \"properties\", {\n                id: {\n                  type: \"string\",\n                  example: \"60564fcb544047cdc3844818\"\n                },\n                first_name: {\n                  type: \"string\",\n                  example: \"John\"\n                },\n                last_name: {\n                  type: \"string\",\n                  example: \"snow\"\n                },\n                created_at: {\n                  type: \"string\",\n                  example: \"2024-04-16T01:05:55.959Z\"\n                },\n                updated_at: {\n                  type: \"string\",\n                  example: \"2024-04-16T01:05:55.959Z\"\n                },\n                email: {\n                  type: \"string\",\n                  example: \"Tarora@ex2india.com\"\n                },\n                is_active: {\n                  type: \"boolean\",\n                  example: true\n                },\n                password_reset: {\n                  type: \"boolean\",\n                  example: true\n                }\n              }),\n              token: {\n                type: \"string\",\n                example: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\"\n              }\n            }\n          }\n        }\n      }\n    },\n    500: {\n      description: \"Database Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"Error in reseting user password\"\n              }\n            }\n          }\n        }\n      }\n    },\n    400: {\n      description: \"Validation Error\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"Error in reseting User password\"\n              }\n            }\n          }\n        }\n      }\n    },\n    404: {\n      description: \"Not found\",\n      content: {\n        \"application/json\": {\n          schema: {\n            type: \"object\",\n            properties: {\n              message: {\n                type: \"string\",\n                example: \"user not found\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\nvar resetAuthUserBody = {\n  type: \"object\",\n  properties: {\n    password: {\n      type: \"string\",\n      example: \"Hello@12345\"\n    },\n    confirmPassword: {\n      type: \"string\",\n      example: \"Hello@12345\"\n    }\n  }\n};\n\n\n//# sourceURL=webpack://backend/./docs/user.js?");

/***/ }),

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/***/ ((__unused_webpack___webpack_module__, __unused_webpack___webpack_exports__, __webpack_require__) => {

eval("/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var body_parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! body-parser */ \"body-parser\");\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cors */ \"cors\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dotenv */ \"dotenv\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var _src_routes_user_routes_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./src/routes/user.routes.js */ \"./src/routes/user.routes.js\");\n/* harmony import */ var compression__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! compression */ \"compression\");\n/* harmony import */ var _src_routes_file_routes_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./src/routes/file.routes.js */ \"./src/routes/file.routes.js\");\n/* harmony import */ var express_rate_limit__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! express-rate-limit */ \"express-rate-limit\");\n/* harmony import */ var swagger_ui_express__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! swagger-ui-express */ \"swagger-ui-express\");\n/* harmony import */ var _docs_apidoc_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./docs/apidoc.js */ \"./docs/apidoc.js\");\n/* harmony import */ var _src_routes_catogery_routes_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./src/routes/catogery.routes.js */ \"./src/routes/catogery.routes.js\");\n/* harmony import */ var _src_routes_globalsearch_routes_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./src/routes/globalsearch.routes.js */ \"./src/routes/globalsearch.routes.js\");\n/* harmony import */ var _src_routes_versioncontrol_routes_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./src/routes/versioncontrol.routes.js */ \"./src/routes/versioncontrol.routes.js\");\n/* harmony import */ var _src_middleware_errorHandlingMiddleware_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./src/middleware/errorHandlingMiddleware.js */ \"./src/middleware/errorHandlingMiddleware.js\");\n/* harmony import */ var _src_core_database_db_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./src/core/database/db.js */ \"./src/core/database/db.js\");\n/* harmony import */ var _src_Error_customError_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./src/Error/customError.js */ \"./src/Error/customError.js\");\n/* harmony import */ var _src_routes_webhook_routes_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./src/routes/webhook.routes.js */ \"./src/routes/webhook.routes.js\");\n/* harmony import */ var _src_services_notification_services_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./src/services/notification.services.js */ \"./src/services/notification.services.js\");\n/* harmony import */ var _src_constants_notificationsConstants_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./src/constants/notificationsConstants.js */ \"./src/constants/notificationsConstants.js\");\n/* harmony import */ var _src_utils_notification_config_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./src/utils/notification.config.js */ \"./src/utils/notification.config.js\");\n/* harmony import */ var _src_routes_notifications_routes_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./src/routes/notifications.routes.js */ \"./src/routes/notifications.routes.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar __dirname = path__WEBPACK_IMPORTED_MODULE_4__.resolve();\ndotenv__WEBPACK_IMPORTED_MODULE_3__.config({\n  path: path__WEBPACK_IMPORTED_MODULE_4__.resolve(__dirname, \"./.env\")\n});\nvar app = express__WEBPACK_IMPORTED_MODULE_0__();\napp.use(body_parser__WEBPACK_IMPORTED_MODULE_1__.json({\n  limit: \"50mb\"\n}));\napp.use(body_parser__WEBPACK_IMPORTED_MODULE_1__.urlencoded({\n  limit: \"50mb\",\n  extended: true\n}));\napp.use(cors__WEBPACK_IMPORTED_MODULE_2__());\napp.use(compression__WEBPACK_IMPORTED_MODULE_6__());\napp.use(\"/documentation\", swagger_ui_express__WEBPACK_IMPORTED_MODULE_9__.serve, swagger_ui_express__WEBPACK_IMPORTED_MODULE_9__.setup(_docs_apidoc_js__WEBPACK_IMPORTED_MODULE_10__.apiDocumentation));\napp.use(\"/api/user\", _src_routes_user_routes_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\napp.use(\"/api/categories\", _src_routes_catogery_routes_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]);\napp.use(\"/api/file\", _src_routes_file_routes_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\napp.use(\"/api/globalsearch\", _src_routes_globalsearch_routes_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]);\napp.use(\"/api/versioncontrol\", _src_routes_versioncontrol_routes_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"]);\napp.use(\"/api/notification\", _src_routes_notifications_routes_js__WEBPACK_IMPORTED_MODULE_21__[\"default\"]);\napp.use(\"/webhook\", _src_routes_webhook_routes_js__WEBPACK_IMPORTED_MODULE_17__[\"default\"]);\napp.get(\"/documents/count/category\", /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var result, count;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _src_core_database_db_js__WEBPACK_IMPORTED_MODULE_15__.pool.query(\"SELECT c.id, c.category, c.color, c.svg, COUNT(d.id) AS total_documents\\n      FROM category c\\n      LEFT JOIN document d ON c.id = d.category_id\\n      GROUP BY c.id, c.category,c.color,c.svg UNION\\n\\nSELECT \\n    NULL,'Total',NULL,NULL,\\n    COUNT(*) AS total_documents\\nFROM \\n    document\\n    \\n    Order BY total_documents DESC;\");\n        case 3:\n          result = _context.sent;\n          count = result.rows;\n          res.json(count);\n          _context.next = 12;\n          break;\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](0);\n          console.error(\"Error executing query\", _context.t0);\n          res.status(500).json({\n            error: \"Internal server error\"\n          });\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 8]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\napp.get(\"/getversions/datewise\", /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var docId, result, count;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          docId = parseInt(req.query.docId);\n          _context2.prev = 1;\n          _context2.next = 4;\n          return _src_core_database_db_js__WEBPACK_IMPORTED_MODULE_15__.pool.query(\"SELECT \\n      datew,\\n      STRING_AGG(grouped_value, ', ') AS grouped_values\\n  FROM (\\n      SELECT \\n          dv.created_at,\\n          DATE(dv.created_at) as datew,\\n          '[' || dv.id::text || ',' || dv.version_number || ',' || dv.doc_id ||  ',' || dv.created_at || ',' || u.first_name || ']' AS grouped_value\\n      FROM \\n          document_version dv\\n      JOIN \\n          user_table u ON dv.created_by = u.id\\n      WHERE \\n          dv.doc_id = $1\\n      ORDER BY \\n          dv.created_at DESC\\n  ) subquery\\n  GROUP BY \\n      datew\\n  ORDER BY \\n      datew DESC;\\n  \\n  \", [docId]);\n        case 4:\n          result = _context2.sent;\n          count = result.rows;\n          res.json(count);\n          _context2.next = 13;\n          break;\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](1);\n          console.error(\"Error executing query\", _context2.t0);\n          res.status(500).json({\n            error: \"Internal server error\"\n          });\n        case 13:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 9]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\napp.get(\"/getVersionbyID\", /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var docId, result, count;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          docId = parseInt(req.query.id);\n          _context3.prev = 1;\n          _context3.next = 4;\n          return _src_core_database_db_js__WEBPACK_IMPORTED_MODULE_15__.pool.query(\"SELECT * from document_version where id=$1;\", [docId]);\n        case 4:\n          result = _context3.sent;\n          count = result.rows;\n          res.json(count);\n          _context3.next = 13;\n          break;\n        case 9:\n          _context3.prev = 9;\n          _context3.t0 = _context3[\"catch\"](1);\n          console.error(\"Error executing query\", _context3.t0);\n          res.status(500).json({\n            error: \"Internal server error\"\n          });\n        case 13:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 9]]);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\napp.get(\"/getLatestVersionbyDocIdandUserId\", /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var docId, userId, result, count;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          docId = parseInt(req.query.id);\n          userId = parseInt(req.query.user);\n          _context4.prev = 2;\n          _context4.next = 5;\n          return _src_core_database_db_js__WEBPACK_IMPORTED_MODULE_15__.pool.query(\"SELECT * from document_version where doc_id=$1 and created_by=$2 ORDER BY created_at DESC LIMIT 1\", [docId, userId]);\n        case 5:\n          result = _context4.sent;\n          count = result.rows;\n          res.json(count);\n          _context4.next = 14;\n          break;\n        case 10:\n          _context4.prev = 10;\n          _context4.t0 = _context4[\"catch\"](2);\n          console.error(\"Error executing query\", _context4.t0);\n          res.status(500).json({\n            error: \"Internal server error\"\n          });\n        case 14:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[2, 10]]);\n  }));\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}());\napp.get(\"/getPolicyApprovalsByUserId\", /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var docId, result, count;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          docId = parseInt(req.query.id);\n          _context5.prev = 1;\n          _context5.next = 4;\n          return _src_core_database_db_js__WEBPACK_IMPORTED_MODULE_15__.pool.query(\"SELECT \\n      d.id, \\n      ar.id,\\n      d.title, \\n      ar.status,\\n      ar.doc_id,\\n      ar.reason,\\n      ar.request_to,\\n      ar.request_by,\\n     \\n      u2.first_name AS sent_by_first_name, \\n      u2.last_name AS sent_by_last_name\\n  FROM \\n      approval_request ar\\n  \\n  JOIN \\n      user_table u2 ON ar.request_by = u2.id\\n   JOIN document d ON ar.doc_id  = d.id\\n  WHERE \\n      ar.request_to = $1 and ar.status = 'VIEW'; \", [docId]);\n        case 4:\n          result = _context5.sent;\n          count = result.rows;\n          res.json(count);\n          _context5.next = 13;\n          break;\n        case 9:\n          _context5.prev = 9;\n          _context5.t0 = _context5[\"catch\"](1);\n          console.error(\"Error executing query\", _context5.t0);\n          res.status(500).json({\n            error: \"Internal server error\"\n          });\n        case 13:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[1, 9]]);\n  }));\n  return function (_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}());\napp.get(\"/deleteTemplate\", /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res) {\n    var docId, result, count;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          docId = parseInt(req.query.id);\n          _context6.prev = 1;\n          _context6.next = 4;\n          return _src_core_database_db_js__WEBPACK_IMPORTED_MODULE_15__.pool.query(\"DELETE FROM template WHERE id = $1\", [docId]);\n        case 4:\n          result = _context6.sent;\n          count = result.rows;\n          res.json(count);\n          _context6.next = 13;\n          break;\n        case 9:\n          _context6.prev = 9;\n          _context6.t0 = _context6[\"catch\"](1);\n          console.error(\"Error executing query\", _context6.t0);\n          res.status(500).json({\n            error: \"Internal server error\"\n          });\n        case 13:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[1, 9]]);\n  }));\n  return function (_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}());\napp.get(\"/getPolicyApprovalsUserSent\", /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res) {\n    var docId, result, count;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          docId = parseInt(req.query.id);\n          _context7.prev = 1;\n          _context7.next = 4;\n          return _src_core_database_db_js__WEBPACK_IMPORTED_MODULE_15__.pool.query(\"SELECT \\n      d.id, \\n      ar.id,\\n      d.title, \\n      ar.status,\\n      ar.doc_id,\\n      ar.reason,\\n      ar.request_to,\\n      ar.request_by,\\n     \\n      u2.first_name AS sent_by_first_name, \\n      u2.last_name AS sent_by_last_name\\n  FROM \\n      approval_request ar\\n  \\n  JOIN \\n      user_table u2 ON ar.request_to = u2.id\\n   JOIN document d ON ar.doc_id  = d.id\\n  WHERE \\n      ar.request_by = $1 and ar.status != 'APPROVED';\", [docId]);\n        case 4:\n          result = _context7.sent;\n          count = result.rows;\n          res.json(count);\n          _context7.next = 13;\n          break;\n        case 9:\n          _context7.prev = 9;\n          _context7.t0 = _context7[\"catch\"](1);\n          console.error(\"Error executing query\", _context7.t0);\n          res.status(500).json({\n            error: \"Internal server error\"\n          });\n        case 13:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[1, 9]]);\n  }));\n  return function (_x13, _x14) {\n    return _ref7.apply(this, arguments);\n  };\n}());\napp.post(\"/api/setDocumentToApprove\", /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res) {\n    var _req$body, admin_id, doc_id, user_id, query, values, result;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          console.log(req.body);\n          _req$body = req.body, admin_id = _req$body.admin_id, doc_id = _req$body.doc_id, user_id = _req$body.user_id;\n          query = \"\\n  INSERT INTO approval_request(request_to, request_by,doc_id) VALUES($1,$2,$3) RETURNING *\\n\";\n          values = [parseInt(admin_id), parseInt(user_id), parseInt(doc_id)];\n          _context8.prev = 4;\n          _context8.next = 7;\n          return _src_core_database_db_js__WEBPACK_IMPORTED_MODULE_15__.pool.query(query, values);\n        case 7:\n          result = _context8.sent;\n          console.log(result);\n          return _context8.abrupt(\"return\", res.status(201).json({\n            success: true,\n            message: \"Document TO APPROVED SET\"\n          }));\n        case 12:\n          _context8.prev = 12;\n          _context8.t0 = _context8[\"catch\"](4);\n          console.log(_context8.t0.message, \"rg\");\n          throw new _src_Error_customError_js__WEBPACK_IMPORTED_MODULE_16__.DatabaseError(\"cant set to_approve field\");\n        case 16:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8, null, [[4, 12]]);\n  }));\n  return function (_x15, _x16) {\n    return _ref8.apply(this, arguments);\n  };\n}());\napp.post(\"/api/rejectPolicyApproval\", /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res) {\n    var _req$body2, id, reason, query, values, result;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          _req$body2 = req.body, id = _req$body2.id, reason = _req$body2.reason;\n          console.log(id, reason);\n          query = \"\\n  UPDATE approval_request SET status = 'REJECTED' , reason=$2 where id =$1\\n\";\n          values = [parseInt(id), reason];\n          _context9.prev = 4;\n          _context9.next = 7;\n          return _src_core_database_db_js__WEBPACK_IMPORTED_MODULE_15__.pool.query(query, values);\n        case 7:\n          result = _context9.sent;\n          console.log(result);\n          return _context9.abrupt(\"return\", res.status(201).json({\n            success: true,\n            message: \"Document TO APPROVED SET\"\n          }));\n        case 12:\n          _context9.prev = 12;\n          _context9.t0 = _context9[\"catch\"](4);\n          console.log(_context9.t0.message, \"rg\");\n          throw new _src_Error_customError_js__WEBPACK_IMPORTED_MODULE_16__.DatabaseError(\"cant set to_approve field\");\n        case 16:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[4, 12]]);\n  }));\n  return function (_x17, _x18) {\n    return _ref9.apply(this, arguments);\n  };\n}());\napp.get(\"/api/approvePolicyApproval\", /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(req, res) {\n    var id, query, actor_id, values, result, docId, entity_group;\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          id = parseInt(req.query.id);\n          query = \"UPDATE approval_request SET status = 'APPROVED' where id =$1 RETURNING *\";\n          actor_id = \"22\";\n          values = [parseInt(id)];\n          _context10.prev = 4;\n          _context10.next = 7;\n          return _src_core_database_db_js__WEBPACK_IMPORTED_MODULE_15__.pool.query(query, values);\n        case 7:\n          result = _context10.sent;\n          // console.log(result);\n          docId = result.rows[0].doc_id;\n          console.log(docId, \"Dco id is\");\n          entity_group = \"EMPLOYEE\";\n          _context10.next = 13;\n          return (0,_src_services_notification_services_js__WEBPACK_IMPORTED_MODULE_18__.add_notification)(_src_utils_notification_config_js__WEBPACK_IMPORTED_MODULE_20__.entityTypeIdMapping.APPROVED, docId, _src_constants_notificationsConstants_js__WEBPACK_IMPORTED_MODULE_19__.Entity_Group.POLICY, 0, actor_id, _src_constants_notificationsConstants_js__WEBPACK_IMPORTED_MODULE_19__.RoleGroupIdMapping.EMPLOYEE);\n        case 13:\n          return _context10.abrupt(\"return\", res.status(201).json({\n            success: true,\n            message: \"Policy Request Approved\"\n          }));\n        case 16:\n          _context10.prev = 16;\n          _context10.t0 = _context10[\"catch\"](4);\n          console.log(_context10.t0.message, \"rg\");\n          throw new _src_Error_customError_js__WEBPACK_IMPORTED_MODULE_16__.DatabaseError(\"cant set to_approve field\");\n        case 20:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10, null, [[4, 16]]);\n  }));\n  return function (_x19, _x20) {\n    return _ref10.apply(this, arguments);\n  };\n}());\napp.post(\"/api/updatePolicyHtmlData\", /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(req, res) {\n    var _req$body3, id, htmldata, htmlJson, query, values, query2, values2, result, result2;\n    return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          _req$body3 = req.body, id = _req$body3.id, htmldata = _req$body3.htmldata, htmlJson = _req$body3.htmlJson;\n          console.log(id);\n          query = \"\\n  UPDATE document SET htmldata=$1, htmljson=$2  WHERE id=$3 RETURNING *\\n\";\n          values = [htmldata, htmlJson, parseInt(id)];\n          query2 = \"\\n  DELETE FROM document_version WHERE doc_id=$1;\\n\";\n          values2 = [parseInt(id)];\n          _context11.prev = 6;\n          _context11.next = 9;\n          return _src_core_database_db_js__WEBPACK_IMPORTED_MODULE_15__.pool.query(query, values);\n        case 9:\n          result = _context11.sent;\n          _context11.next = 12;\n          return _src_core_database_db_js__WEBPACK_IMPORTED_MODULE_15__.pool.query(query2, values2);\n        case 12:\n          result2 = _context11.sent;\n          console.log(result);\n          return _context11.abrupt(\"return\", res.status(201).json({\n            success: true,\n            message: \"Policy Request Approved\"\n          }));\n        case 17:\n          _context11.prev = 17;\n          _context11.t0 = _context11[\"catch\"](6);\n          console.log(_context11.t0.message, \"rg\");\n          throw new _src_Error_customError_js__WEBPACK_IMPORTED_MODULE_16__.DatabaseError(\"cant set to_approve field\");\n        case 21:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11, null, [[6, 17]]);\n  }));\n  return function (_x21, _x22) {\n    return _ref11.apply(this, arguments);\n  };\n}());\napp.get(\"/getAdminList\", /*#__PURE__*/function () {\n  var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(req, res) {\n    var result, count;\n    return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n      while (1) switch (_context12.prev = _context12.next) {\n        case 0:\n          _context12.prev = 0;\n          _context12.next = 3;\n          return _src_core_database_db_js__WEBPACK_IMPORTED_MODULE_15__.pool.query(\"SELECT * from user_table where group_id = 2;\");\n        case 3:\n          result = _context12.sent;\n          count = result.rows;\n          res.json(count);\n          _context12.next = 12;\n          break;\n        case 8:\n          _context12.prev = 8;\n          _context12.t0 = _context12[\"catch\"](0);\n          console.error(\"Error executing query\", _context12.t0);\n          res.status(500).json({\n            error: \"Internal server error\"\n          });\n        case 12:\n        case \"end\":\n          return _context12.stop();\n      }\n    }, _callee12, null, [[0, 8]]);\n  }));\n  return function (_x23, _x24) {\n    return _ref12.apply(this, arguments);\n  };\n}());\napp.use(_src_middleware_errorHandlingMiddleware_js__WEBPACK_IMPORTED_MODULE_14__.exceptionHandler);\nvar PORT = process.env.PORT || 3000;\napp.listen(PORT, function () {\n  console.log(\"server statrted at \" + PORT);\n});\n\n//# sourceURL=webpack://backend/./index.js?");

/***/ }),

/***/ "./src/Error/customError.js":
/*!**********************************!*\
  !*** ./src/Error/customError.js ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccountSetupError: () => (/* binding */ AccountSetupError),\n/* harmony export */   AuthorizationError: () => (/* binding */ AuthorizationError),\n/* harmony export */   BadGatewayError: () => (/* binding */ BadGatewayError),\n/* harmony export */   ConflictError: () => (/* binding */ ConflictError),\n/* harmony export */   DatabaseError: () => (/* binding */ DatabaseError),\n/* harmony export */   InvalidTokenError: () => (/* binding */ InvalidTokenError),\n/* harmony export */   NotFoundError: () => (/* binding */ NotFoundError),\n/* harmony export */   ValidationError: () => (/* binding */ ValidationError)\n/* harmony export */ });\n/* unused harmony export ForbiddenAccessError */\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\nfunction _construct(t, e, r) { if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments); var o = [null]; o.push.apply(o, e); var p = new (t.bind.apply(t, o))(); return r && _setPrototypeOf(p, r.prototype), p; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _isNativeFunction(fn) { try { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; } catch (e) { return typeof fn === \"function\"; } }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nvar DatabaseError = /*#__PURE__*/function (_Error) {\n  function DatabaseError(message) {\n    var _this;\n    _classCallCheck(this, DatabaseError);\n    _this = _callSuper(this, DatabaseError, [message || \"Internal Server error happened\"]);\n    _this.name = \"Database Error\";\n    _this.statusCode = 500;\n    _this.success = false;\n    return _this;\n  }\n  _inherits(DatabaseError, _Error);\n  return _createClass(DatabaseError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar ValidationError = /*#__PURE__*/function (_Error2) {\n  function ValidationError(message) {\n    var _this2;\n    _classCallCheck(this, ValidationError);\n    _this2 = _callSuper(this, ValidationError, [message || \"Invalid Credentials here\"]);\n    _this2.name = \"Validation Error\";\n    _this2.error = message;\n    _this2.statusCode = 400;\n    _this2.success = false;\n    return _this2;\n  }\n  _inherits(ValidationError, _Error2);\n  return _createClass(ValidationError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar NotFoundError = /*#__PURE__*/function (_Error3) {\n  function NotFoundError(message) {\n    var _this3;\n    _classCallCheck(this, NotFoundError);\n    _this3 = _callSuper(this, NotFoundError, [message || \"Data was not found\"]);\n    _this3.name = \"Not Found Error\";\n    _this3.statusCode = 404;\n    _this3.error = message;\n    _this3.success = false;\n    return _this3;\n  }\n  _inherits(NotFoundError, _Error3);\n  return _createClass(NotFoundError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar AuthorizationError = /*#__PURE__*/function (_Error4) {\n  function AuthorizationError(message) {\n    var _this4;\n    _classCallCheck(this, AuthorizationError);\n    _this4 = _callSuper(this, AuthorizationError, [message || \"User is not Authorized to access the resource\"]);\n    _this4.name = \"Authorization Error\";\n    _this4.statusCode = 401;\n    _this4.error = message;\n    _this4.success = false;\n    return _this4;\n  }\n  _inherits(AuthorizationError, _Error4);\n  return _createClass(AuthorizationError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar ConflictError = /*#__PURE__*/function (_Error5) {\n  function ConflictError(message) {\n    var _this5;\n    _classCallCheck(this, ConflictError);\n    _this5 = _callSuper(this, ConflictError, [message || \"Resource Already Exists\"]);\n    _this5.name = \"Conflict Error\";\n    _this5.statusCode = 409;\n    _this5.error = message;\n    _this5.success = false;\n    return _this5;\n  }\n  _inherits(ConflictError, _Error5);\n  return _createClass(ConflictError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar InvalidTokenError = /*#__PURE__*/function (_Error6) {\n  function InvalidTokenError(message) {\n    var _this6;\n    _classCallCheck(this, InvalidTokenError);\n    _this6 = _callSuper(this, InvalidTokenError, [message || \"\"]);\n    _this6.name = \"Invalid\";\n    _this6.statusCode = 498;\n    _this6.error = message;\n    _this6.success = false;\n    return _this6;\n  }\n  _inherits(InvalidTokenError, _Error6);\n  return _createClass(InvalidTokenError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar ForbiddenAccessError = /*#__PURE__*/function (_Error7) {\n  function ForbiddenAccessError(message) {\n    var _this7;\n    _classCallCheck(this, ForbiddenAccessError);\n    _this7 = _callSuper(this, ForbiddenAccessError, [message]);\n    _this7.name = \"Forbidden Access\";\n    _this7.statusCode = 403;\n    _this7.error = message;\n    _this7.success = false;\n    return _this7;\n  }\n  _inherits(ForbiddenAccessError, _Error7);\n  return _createClass(ForbiddenAccessError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar BadGatewayError = /*#__PURE__*/function (_Error8) {\n  function BadGatewayError(message) {\n    var _this8;\n    _classCallCheck(this, BadGatewayError);\n    _this8 = _callSuper(this, BadGatewayError, [message]);\n    _this8.name = \"Bad Gateway\";\n    _this8.statusCode = 403;\n    _this8.error = message;\n    _this8.success = false;\n    return _this8;\n  }\n  _inherits(BadGatewayError, _Error8);\n  return _createClass(BadGatewayError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar AccountSetupError = /*#__PURE__*/function (_Error9) {\n  function AccountSetupError(message, jwt) {\n    var _this9;\n    _classCallCheck(this, AccountSetupError);\n    _this9 = _callSuper(this, AccountSetupError, [\"\".concat(message, \":\").concat(jwt)]);\n    _this9.name = \"User account is not setup\";\n    _this9.statusCode = 318;\n    _this9.error = message;\n    _this9.success = true;\n    return _this9;\n  }\n  _inherits(AccountSetupError, _Error9);\n  return _createClass(AccountSetupError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\n//# sourceURL=webpack://backend/./src/Error/customError.js?");

/***/ }),

/***/ "./src/constants/notificationsConstants.js":
/*!*************************************************!*\
  !*** ./src/constants/notificationsConstants.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Entity_Group: () => (/* binding */ Entity_Group),\n/* harmony export */   RoleGroupIdMapping: () => (/* binding */ RoleGroupIdMapping)\n/* harmony export */ });\nvar Entity_Group = {\n  LETTER: \"LETTER\",\n  POLICY: \"POLICY\"\n};\nvar RoleGroupIdMapping = {\n  EMPLOYEE: 1,\n  ADMIN: 2\n};\n\n//# sourceURL=webpack://backend/./src/constants/notificationsConstants.js?");

/***/ }),

/***/ "./src/controllers/catogery/catogery.controller.js":
/*!*********************************************************!*\
  !*** ./src/controllers/catogery/catogery.controller.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNewCategory: () => (/* binding */ createNewCategory),\n/* harmony export */   deleteCategory: () => (/* binding */ deleteCategory),\n/* harmony export */   editCategory: () => (/* binding */ editCategory),\n/* harmony export */   getAllCategories: () => (/* binding */ getAllCategories)\n/* harmony export */ });\n/* unused harmony export getDocumentCategoryNames */\n/* harmony import */ var _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/database/db.js */ \"./src/core/database/db.js\");\n/* harmony import */ var _services_category_services_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/category.services.js */ \"./src/services/category.services.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar createNewCategory = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var createdCategory;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _services_category_services_js__WEBPACK_IMPORTED_MODULE_1__.createNewCategoryService(req.body);\n        case 3:\n          createdCategory = _context.sent;\n          return _context.abrupt(\"return\", res.status(201).json({\n            success: true,\n            message: \"Category Registered\",\n            length: createdCategory.length,\n            data: createdCategory.rows\n          }));\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          next(_context.t0);\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n  return function createNewCategory(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getAllCategories = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var returnedCategories;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _services_category_services_js__WEBPACK_IMPORTED_MODULE_1__.getAllCategoriesService();\n        case 3:\n          returnedCategories = _context2.sent;\n          return _context2.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"All Categories are :\",\n            length: returnedCategories.length,\n            data: returnedCategories.rows\n          }));\n        case 7:\n          _context2.prev = 7;\n          _context2.t0 = _context2[\"catch\"](0);\n          next(_context2.t0);\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n  return function getAllCategories(_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar editCategory = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var updatedCategory;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return _services_category_services_js__WEBPACK_IMPORTED_MODULE_1__.editCategoryService(req.body);\n        case 3:\n          updatedCategory = _context3.sent;\n          return _context3.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"Updated category:\",\n            length: updatedCategory.length,\n            data: updatedCategory.rows\n          }));\n        case 7:\n          _context3.prev = 7;\n          _context3.t0 = _context3[\"catch\"](0);\n          next(_context3.t0);\n        case 10:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 7]]);\n  }));\n  return function editCategory(_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar deleteCategory = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res, next) {\n    var deleteCategoryresut;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return _services_category_services_js__WEBPACK_IMPORTED_MODULE_1__.deleteCategoryService(req.body);\n        case 3:\n          deleteCategoryresut = _context4.sent;\n          return _context4.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"Successfully deleted category\",\n            length: deleteCategoryresut.length,\n            data: ''\n          }));\n        case 7:\n          _context4.prev = 7;\n          _context4.t0 = _context4[\"catch\"](0);\n          next(_context4.t0);\n        case 10:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 7]]);\n  }));\n  return function deleteCategory(_x10, _x11, _x12) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar getDocumentCategoryNames = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res, next) {\n    var results;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          try {\n            results = _services_category_services_js__WEBPACK_IMPORTED_MODULE_1__.getDocumentCategoryNamesService(req.body);\n          } catch (error) {\n            next(error);\n          }\n        case 1:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function getDocumentCategoryNames(_x13, _x14, _x15) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/controllers/catogery/catogery.controller.js?");

/***/ }),

/***/ "./src/controllers/document/document.controller.js":
/*!*********************************************************!*\
  !*** ./src/controllers/document/document.controller.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDocumentVersion: () => (/* binding */ createDocumentVersion),\n/* harmony export */   getDocumentVersionById: () => (/* binding */ getDocumentVersionById),\n/* harmony export */   getDocumentVersionsDatewise: () => (/* binding */ getDocumentVersionsDatewise),\n/* harmony export */   getPaginatedDocumentDetailsWithSearch: () => (/* binding */ getPaginatedDocumentDetailsWithSearch)\n/* harmony export */ });\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ \"dotenv\");\n/* harmony import */ var _core_database_db_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/database/db.js */ \"./src/core/database/db.js\");\n/* harmony import */ var _services_versioncontrol_services_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/versioncontrol.services.js */ \"./src/services/versioncontrol.services.js\");\n/* harmony import */ var _services_file_services_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/file.services.js */ \"./src/services/file.services.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\nvar __dirname = path__WEBPACK_IMPORTED_MODULE_0__.resolve();\ndotenv__WEBPACK_IMPORTED_MODULE_1__.config({\n  path: path__WEBPACK_IMPORTED_MODULE_0__.resolve(__dirname, \"../../../.env\")\n});\nvar createDocumentVersion = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var _req$body, version_number, doc_id, delta, created_by, result;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          // middleware apply user\n          _req$body = req.body, version_number = _req$body.version_number, doc_id = _req$body.doc_id, delta = _req$body.delta, created_by = _req$body.created_by;\n          _context.next = 4;\n          return (0,_services_versioncontrol_services_js__WEBPACK_IMPORTED_MODULE_3__.VersionfileuploadService)(version_number, doc_id, delta, created_by);\n        case 4:\n          result = _context.sent;\n          return _context.abrupt(\"return\", res.status(201).json({\n            success: true,\n            message: \"Document version created:\"\n          }));\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](0);\n          next(_context.t0);\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 8]]);\n  }));\n  return function createDocumentVersion(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getDocumentVersionsDatewise = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var docId, result;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          console.log(req.query);\n          docId = parseInt(req.query.docId);\n          console.log(docId);\n          _context2.next = 6;\n          return versioncontrol.getDocumentVersionsDatewiseService({\n            docId: docId\n          });\n        case 6:\n          result = _context2.sent;\n          return _context2.abrupt(\"return\", res.status(200).json({\n            status: \"success\",\n            message: \"Document version:\",\n            length: result.length,\n            data: result.rows\n          }));\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2[\"catch\"](0);\n          next(_context2.t0);\n        case 13:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 10]]);\n  }));\n  return function getDocumentVersionsDatewise(_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar getDocumentVersionById = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var docId, result;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          docId = parseInt(req.query.id); // console.log(docId);\n          _context3.next = 4;\n          return versioncontrol.getDocumentVersionsByIdService({\n            docId: docId\n          });\n        case 4:\n          result = _context3.sent;\n          return _context3.abrupt(\"return\", res.status(200).json({\n            status: \"success\",\n            message: \"Document version:\",\n            length: result.length,\n            data: result.rows[0]\n          }));\n        case 8:\n          _context3.prev = 8;\n          _context3.t0 = _context3[\"catch\"](0);\n          next(_context3.t0);\n        case 11:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 8]]);\n  }));\n  return function getDocumentVersionById(_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar getPaginatedDocumentDetailsWithSearch = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res, next) {\n    var result;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return (0,_services_file_services_js__WEBPACK_IMPORTED_MODULE_4__.getPaginatedDocumentDetailsWithSearchService)(req);\n        case 3:\n          result = _context4.sent;\n          return _context4.abrupt(\"return\", res.status(200).json({\n            message: \"documents are\",\n            success: true,\n            length: result.length,\n            data: result.rows\n          }));\n        case 7:\n          _context4.prev = 7;\n          _context4.t0 = _context4[\"catch\"](0);\n          next(_context4.t0);\n        case 10:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 7]]);\n  }));\n  return function getPaginatedDocumentDetailsWithSearch(_x10, _x11, _x12) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/controllers/document/document.controller.js?");

/***/ }),

/***/ "./src/controllers/file/File.controller.js":
/*!*************************************************!*\
  !*** ./src/controllers/file/File.controller.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createPolicy: () => (/* binding */ createPolicy),\n/* harmony export */   editDocument: () => (/* binding */ editDocument),\n/* harmony export */   getAllTemplates: () => (/* binding */ getAllTemplates),\n/* harmony export */   getAllTemplatesByStatus: () => (/* binding */ getAllTemplatesByStatus),\n/* harmony export */   getFile: () => (/* binding */ getFile),\n/* harmony export */   getLetterById: () => (/* binding */ getLetterById),\n/* harmony export */   getLetters: () => (/* binding */ getLetters),\n/* harmony export */   getRecentPolicies: () => (/* binding */ getRecentPolicies),\n/* harmony export */   getTemplateById: () => (/* binding */ getTemplateById),\n/* harmony export */   getpaginateddocuments: () => (/* binding */ getpaginateddocuments),\n/* harmony export */   gettemplates: () => (/* binding */ gettemplates),\n/* harmony export */   setPolicyDetail: () => (/* binding */ setPolicyDetail),\n/* harmony export */   uploadFile: () => (/* binding */ uploadFile),\n/* harmony export */   uploadLetterMinio: () => (/* binding */ uploadLetterMinio),\n/* harmony export */   uploadSignSwiftLetter: () => (/* binding */ uploadSignSwiftLetter),\n/* harmony export */   uploadTemplate: () => (/* binding */ uploadTemplate)\n/* harmony export */ });\n/* unused harmony exports getdocument, getFileById */\n/* harmony import */ var _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/database/db.js */ \"./src/core/database/db.js\");\n/* harmony import */ var _services_file_services_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/file.services.js */ \"./src/services/file.services.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var _core_Email_sendEmail_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Email/sendEmail.js */ \"./src/core/Email/sendEmail.js\");\n/* harmony import */ var _utils_getPagination_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/getPagination.js */ \"./src/utils/getPagination.js\");\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Error/customError.js */ \"./src/Error/customError.js\");\n/* harmony import */ var _utils_minioSetup_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/minioSetup.js */ \"./src/utils/minioSetup.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n// import puppeteer from \"puppeteer\";\n\n\n\n\n// import { pool2 } from \"../../core/database/db2.js\";\n\n\nvar __dirname = path__WEBPACK_IMPORTED_MODULE_2__.resolve();\nvar uploadFile = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var _req$body, htmlText, docId, htmljson, textBytesSize, document;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _req$body = req.body, htmlText = _req$body.htmlText, docId = _req$body.docId, htmljson = _req$body.htmljson;\n          docId = parseInt(docId);\n          textBytesSize = Buffer.byteLength(htmlText, \"utf8\");\n          if (!(textBytesSize > 10 * 1024 * 1024)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"File size should be less than 10MB\"\n          }));\n        case 5:\n          if (!(htmlText === undefined)) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"File not uploaded,Invalid input\"\n          }));\n        case 7:\n          _context.prev = 7;\n          _context.next = 10;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"UPDATE document SET htmldata=$1, htmljson=$2  WHERE id=$3 RETURNING *\", [htmlText, htmljson, docId]);\n        case 10:\n          document = _context.sent;\n          if (!(document.rowCount === 0)) {\n            _context.next = 13;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"File not uploaded\"\n          }));\n        case 13:\n          return _context.abrupt(\"return\", res.status(201).json({\n            success: true,\n            message: \"File uploaded\"\n          }));\n        case 16:\n          _context.prev = 16;\n          _context.t0 = _context[\"catch\"](7);\n          return _context.abrupt(\"return\", res.status(500).json({\n            error: _context.t0.message,\n            success: false,\n            message: \"Internal Server Error\"\n          }));\n        case 19:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[7, 16]]);\n  }));\n  return function uploadFile(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getFile = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var docId, document;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          docId = req.params.docId;\n          console.log(docId);\n          docId = parseInt(docId);\n          //400->bad request\n          if (docId) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"Document Id is required\"\n          }));\n        case 5:\n          _context2.prev = 5;\n          _context2.next = 8;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"SELECT  htmljson , convert_from(htmldata,'utf8') as data  FROM document WHERE id=$1\", [docId]);\n        case 8:\n          document = _context2.sent;\n          if (!(document.rows.length === 0)) {\n            _context2.next = 11;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"File not found ,invalid document id\"\n          }));\n        case 11:\n          return _context2.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"File fetched\",\n            data: document.rows[0]\n          }));\n        case 14:\n          _context2.prev = 14;\n          _context2.t0 = _context2[\"catch\"](5);\n          return _context2.abrupt(\"return\", res.status(500).json({\n            error: _context2.t0.message,\n            success: false,\n            message: \"Internal Server Error\"\n          }));\n        case 17:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[5, 14]]);\n  }));\n  return function getFile(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n//pagination and sorting\n\nvar getdocument = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var _query$orderByDirecti;\n    var query, title, category, page, size, _getPagination, limit, offset, orderByColumn, orderByDirection, _query, data;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          query = req.query;\n          title = req.query.title;\n          category = req.query.category;\n          console.log(title);\n          //  /document?page=1&size=2\n          page = parseInt(query.page);\n          size = parseInt(query.size);\n          _getPagination = (0,_utils_getPagination_js__WEBPACK_IMPORTED_MODULE_4__.getPagination)(page, size), limit = _getPagination.limit, offset = _getPagination.offset;\n          console.log(\"page\", limit, offset);\n          console.log(category.toString(), title.toString());\n          //order by\n          orderByColumn = (query === null || query === void 0 ? void 0 : query.orderByColumn) || \"created_at\";\n          orderByDirection = (query === null || query === void 0 || (_query$orderByDirecti = query.orderByDirection) === null || _query$orderByDirecti === void 0 ? void 0 : _query$orderByDirecti.toUpperCase()) || \"ASC\";\n          _context3.prev = 11;\n          _query = \"\\nWITH paginated_data AS (\\n  SELECT \\n    id, \\n    category_id as cid,\\n    htmljson, \\n    convert_from(htmldata, 'utf8') as data,  \\n    created_at, \\n    created_by, \\n    title\\n  FROM document d\\n  WHERE \\n  title ILIKE '%'||$3||'%'\\n  ORDER BY \".concat(orderByColumn, \" \").concat(orderByDirection, \"\\n  \\n),\\ntotal_count AS (\\n  SELECT COUNT(*) as total_count FROM document\\n)\\nSELECT \\n  pd.*, \\n  (SELECT total_count FROM total_count) as total_count,\\n  c.category as category_name\\nFROM \\npaginated_data pd\\nJOIN  category c \\nON c.id=pd.cid\\nWHERE \\n  c.category ILIKE '%'||$4||'%'\\n  LIMIT $1 OFFSET $2  \\n\");\n          _context3.next = 15;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(_query, [limit, offset, title, category]);\n        case 15:\n          data = _context3.sent;\n          if (!(data.rows.length === 0)) {\n            _context3.next = 18;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).json({\n            success: false,\n            message: \"no document dound\"\n          }));\n        case 18:\n          console.log(data.rows.length);\n          return _context3.abrupt(\"return\", res.status(200).json({\n            message: \"documents are\",\n            success: true,\n            data: data.rows\n          }));\n        case 22:\n          _context3.prev = 22;\n          _context3.t0 = _context3[\"catch\"](11);\n          return _context3.abrupt(\"return\", res.status(500).json({\n            message: \"Internal server error\",\n            error: _context3.t0,\n            success: false\n          }));\n        case 25:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[11, 22]]);\n  }));\n  return function getdocument(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar uploadTemplate = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var _req$body2, name, description, categoryId, htmlText, htmlData;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _req$body2 = req.body, name = _req$body2.name, description = _req$body2.description, categoryId = _req$body2.categoryId, htmlText = _req$body2.htmlText;\n          _context4.prev = 1;\n          htmlData = Buffer.from(htmlText, \"utf8\");\n          _context4.next = 5;\n          return _services_file_services_js__WEBPACK_IMPORTED_MODULE_1__.uploadTemplateService(res, name, description, categoryId, htmlData);\n        case 5:\n          _context4.next = 10;\n          break;\n        case 7:\n          _context4.prev = 7;\n          _context4.t0 = _context4[\"catch\"](1);\n          return _context4.abrupt(\"return\", res.status(500).json({\n            success: false,\n            message: \"Internal Server Error\",\n            error: _context4.t0.message\n          }));\n        case 10:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[1, 7]]);\n  }));\n  return function uploadTemplate(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar getTemplateById = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var id;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          id = req.params.id;\n          console.log(id);\n          if (id) {\n            _context5.next = 4;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"Invalid params\"\n          }));\n        case 4:\n          _context5.prev = 4;\n          _context5.next = 7;\n          return _services_file_services_js__WEBPACK_IMPORTED_MODULE_1__.getTemplateByIdService(res, id);\n        case 7:\n          _context5.next = 12;\n          break;\n        case 9:\n          _context5.prev = 9;\n          _context5.t0 = _context5[\"catch\"](4);\n          return _context5.abrupt(\"return\", res.status(500).json({\n            success: false,\n            message: \"Internal Server Error\",\n            error: _context5.t0.message\n          }));\n        case 12:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[4, 9]]);\n  }));\n  return function getTemplateById(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar editDocument = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res) {\n    var title, id, docId, query, result;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          title = req.body.title;\n          id = req.params.id;\n          if (title) {\n            _context6.next = 4;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"title is missing\"\n          }));\n        case 4:\n          docId = parseInt(id);\n          console.log(docId, title);\n          _context6.prev = 6;\n          query = \"\\nUPDATE document\\nSET title=$1\\nWHERE id=$2\\nRETURNING *\\n\";\n          _context6.next = 10;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(query, [title, docId]);\n        case 10:\n          result = _context6.sent;\n          if (!(result.rows.length === 0)) {\n            _context6.next = 13;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(404).json({\n            message: \"no document found\"\n          }));\n        case 13:\n          return _context6.abrupt(\"return\", res.status(200).json({\n            message: \"updated title success\",\n            success: true\n          }));\n        case 16:\n          _context6.prev = 16;\n          _context6.t0 = _context6[\"catch\"](6);\n          return _context6.abrupt(\"return\", res.status(500).json({\n            message: \"Internal server error\",\n            success: false,\n            error: _context6.t0\n          }));\n        case 19:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[6, 16]]);\n  }));\n  return function editDocument(_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\n// export const saveAsPdf = async (req, res) => {\n//   const { htmlData } = req.body;\n\n//   if (!htmlData) {\n//     return res\n//       .status(400)\n//       .json({ message: \"Invalid syntax error\", success: false });\n//   }\n//   const browser = await puppeteer.launch({ headless: true });\n//   const page = await browser.newPage();\n\n//   await page.setContent(htmlData, {\n//     waitUntil: \"domcontentloaded\",\n//   });\n\n//   const pdfBuffer = await page.pdf({\n//     margin: {\n//       top: 20.15 * 1.33,\n//       right: 59.15 * 1.33,\n//       bottom: 72 * 1.33,\n//       left: 72 * 1.33,\n//     },\n//     format: \"A4\",\n//     height: 2500,\n//   });\n\n//   await page.pdf({\n//     path: `${__dirname}/my-fance-invoice.pdf`,\n//     displayHeaderFooter: true,\n//     format: \"A4\",\n//     footerTemplate:\n//       \"<div><div class='pageNumber'></div>1 of 2<div>/</div><div class='totalPages'></div></div>\",\n//   });\n//   await browser.close();\n//   sendLetterEmail(pdfBuffer, \"tapasviarora2002@gmail.com\");\n\n//   return res.status(200).json({\n//     message: \"pdf file saved success email sent success\",\n//     success: true,\n//   });\n// };\nvar getFileById = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res) {\n    var docId, document;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          docId = req.params.docId;\n          console.log(docId);\n          docId = parseInt(docId);\n          //400->bad request\n          if (docId) {\n            _context7.next = 5;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"Document Id is required\"\n          }));\n        case 5:\n          _context7.prev = 5;\n          _context7.next = 8;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"SELECT  htmljson , convert_from(htmldata,'utf8') as data  FROM document WHERE id=$1\", [docId]);\n        case 8:\n          document = _context7.sent;\n          if (!(document.rows.length === 0)) {\n            _context7.next = 11;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"File not found ,invalid document id\"\n          }));\n        case 11:\n          return _context7.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"File fetched\",\n            data: document.rows[0]\n          }));\n        case 14:\n          _context7.prev = 14;\n          _context7.t0 = _context7[\"catch\"](5);\n          return _context7.abrupt(\"return\", res.status(500).json({\n            error: _context7.t0.message,\n            success: false,\n            message: \"Internal Server Error\"\n          }));\n        case 17:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[5, 14]]);\n  }));\n  return function getFileById(_x13, _x14) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nvar gettemplates = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res) {\n    var _query$orderByDirecti2;\n    var query, title, page, size, _getPagination2, limit, offset, orderByColumn, orderByDirection, _query2, data;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          query = req.query;\n          title = req.query.title || \"\";\n          console.log(query, \"query is\");\n          //  /document?page=1&size=2\n          page = parseInt(query.page);\n          size = parseInt(query.size);\n          _getPagination2 = (0,_utils_getPagination_js__WEBPACK_IMPORTED_MODULE_4__.getPagination)(page, size), limit = _getPagination2.limit, offset = _getPagination2.offset; // console.log(limit, offset);\n          //order by\n          orderByColumn = (query === null || query === void 0 ? void 0 : query.orderByColumn) || \"created_at\";\n          orderByDirection = (query === null || query === void 0 || (_query$orderByDirecti2 = query.orderByDirection) === null || _query$orderByDirecti2 === void 0 ? void 0 : _query$orderByDirecti2.toUpperCase()) || \"ASC\";\n          _context8.prev = 8;\n          _query2 = \"\\nWITH paginated_data AS (\\n  SELECT \\n    id, \\n    convert_from(htmldata, 'utf8') as data, \\n    category_id, \\n    created_at, \\n    created_by, \\n    title\\n  FROM template\\n  WHERE \\n  title ILIKE '%'||$3||'%'\\n  ORDER BY \".concat(orderByColumn, \" \").concat(orderByDirection, \"\\n  LIMIT $1 OFFSET $2\\n),\\ntotal_count AS (\\n  SELECT COUNT(*) as total_count FROM document\\n)\\nSELECT \\n  pd.*\\n  , \\n  (SELECT total_count FROM total_count) as total_count\\nFROM \\n  paginated_data pd;\\n\");\n          _context8.next = 12;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(_query2, [limit, offset, title]);\n        case 12:\n          data = _context8.sent;\n          if (!(data.rowCount === 0)) {\n            _context8.next = 15;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.status(404).json({\n            success: false,\n            message: \"no templates found\"\n          }));\n        case 15:\n          console.log(data.rowCount);\n          return _context8.abrupt(\"return\", res.status(200).json({\n            message: \"documents are\",\n            success: true,\n            data: data.rows\n          }));\n        case 19:\n          _context8.prev = 19;\n          _context8.t0 = _context8[\"catch\"](8);\n          return _context8.abrupt(\"return\", res.status(500).json({\n            message: \"Internal server error\",\n            error: _context8.t0,\n            success: false\n          }));\n        case 22:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8, null, [[8, 19]]);\n  }));\n  return function gettemplates(_x15, _x16) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nvar getAllTemplates = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res) {\n    var query, data;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.prev = 0;\n          query = \"SELECT id,  \\n    mode, \\n    created_at, \\n    created_by, \\n    title\\n    FROM template ORDER by created_at DESC \";\n          _context9.next = 4;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(query);\n        case 4:\n          data = _context9.sent;\n          if (!(data.rowCount === 0)) {\n            _context9.next = 7;\n            break;\n          }\n          return _context9.abrupt(\"return\", res.status(404).json({\n            success: false,\n            message: \"no templates found\"\n          }));\n        case 7:\n          console.log(data.rowCount);\n          return _context9.abrupt(\"return\", res.status(200).json({\n            message: \"documents are\",\n            success: true,\n            data: data.rows\n          }));\n        case 11:\n          _context9.prev = 11;\n          _context9.t0 = _context9[\"catch\"](0);\n          return _context9.abrupt(\"return\", res.status(500).json({\n            message: \"Internal server error\",\n            error: _context9.t0,\n            success: false\n          }));\n        case 14:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[0, 11]]);\n  }));\n  return function getAllTemplates(_x17, _x18) {\n    return _ref9.apply(this, arguments);\n  };\n}();\nvar getAllTemplatesByStatus = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(req, res) {\n    var status, data;\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.prev = 0;\n          status = req.params.status;\n          console.log(status);\n          _context10.next = 5;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"SELECT id,  \\n      mode, \\n      created_at, \\n      created_by, \\n      title\\n      FROM template WHERE mode = $1 ORDER by created_at DESC  \", [status]);\n        case 5:\n          data = _context10.sent;\n          if (!(data.rowCount === 0)) {\n            _context10.next = 8;\n            break;\n          }\n          return _context10.abrupt(\"return\", res.status(404).json({\n            success: false,\n            message: \"no templates found\"\n          }));\n        case 8:\n          console.log(data.rowCount);\n          return _context10.abrupt(\"return\", res.status(200).json({\n            message: \"documents are\",\n            success: true,\n            data: data.rows\n          }));\n        case 12:\n          _context10.prev = 12;\n          _context10.t0 = _context10[\"catch\"](0);\n          return _context10.abrupt(\"return\", res.status(500).json({\n            message: \"Internal server error\",\n            error: _context10.t0,\n            success: false\n          }));\n        case 15:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10, null, [[0, 12]]);\n  }));\n  return function getAllTemplatesByStatus(_x19, _x20) {\n    return _ref10.apply(this, arguments);\n  };\n}();\nvar getRecentPolicies = /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(req, res) {\n    var query, data;\n    return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.prev = 0;\n          query = \"\\n    SELECT \\n    d.id, \\n\\td.title,\\n    d.category_id as cid,\\n    d.created_at,\\n\\tu.first_name\\n  FROM document d\\n  JOIN user_table u ON d.created_by =u.id\\n  ORDER BY d.created_at DESC\\n  LIMIT 5;\\n\"; // console.log(query);\n          _context11.next = 4;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(query);\n        case 4:\n          data = _context11.sent;\n          if (!(data.rowCount === 0)) {\n            _context11.next = 7;\n            break;\n          }\n          return _context11.abrupt(\"return\", res.status(404).json({\n            success: false,\n            message: \"no document dound\"\n          }));\n        case 7:\n          return _context11.abrupt(\"return\", res.status(200).json({\n            message: \"documents are\",\n            success: true,\n            data: data.rows\n          }));\n        case 10:\n          _context11.prev = 10;\n          _context11.t0 = _context11[\"catch\"](0);\n          return _context11.abrupt(\"return\", res.status(500).json({\n            message: \"Internal server error\",\n            error: _context11.t0,\n            success: false\n          }));\n        case 13:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11, null, [[0, 10]]);\n  }));\n  return function getRecentPolicies(_x21, _x22) {\n    return _ref11.apply(this, arguments);\n  };\n}();\nvar getpaginateddocuments = /*#__PURE__*/function () {\n  var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(req, res) {\n    var _query$orderByDirecti3;\n    var query, page, size, _getPagination3, limit, offset, orderByColumn, orderByDirection, _query3, data;\n    return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n      while (1) switch (_context12.prev = _context12.next) {\n        case 0:\n          query = req.query; // const title = req.query.title;\n          // const category = req.query.category;\n          // console.log(title);\n          //  /document?page=1&size=2\n          page = parseInt(query.page);\n          size = parseInt(query.size);\n          _getPagination3 = (0,_utils_getPagination_js__WEBPACK_IMPORTED_MODULE_4__.getPagination)(page, size), limit = _getPagination3.limit, offset = _getPagination3.offset;\n          console.log(limit, offset);\n          //order by\n          orderByColumn = (query === null || query === void 0 ? void 0 : query.orderByColumn) || \"created_at\";\n          orderByDirection = (query === null || query === void 0 || (_query$orderByDirecti3 = query.orderByDirection) === null || _query$orderByDirecti3 === void 0 ? void 0 : _query$orderByDirecti3.toUpperCase()) || \"DESC\";\n          _context12.prev = 7;\n          _query3 = \"\\nWITH paginated_data AS (\\n  SELECT \\n    id, \\n    category_id as cid,\\n    htmljson, \\n    convert_from(htmldata, 'utf8') as data,  \\n    created_at, \\n    created_by, \\n    title\\n  FROM document d\\n  ORDER BY \".concat(orderByColumn, \" \").concat(orderByDirection, \"\\n  LIMIT $1 OFFSET $2\\n),\\ntotal_count AS (\\n  SELECT COUNT(*) as total_count FROM document\\n)\\nSELECT \\n  pd.*, \\n  (SELECT total_count FROM total_count) as total_count\\nFROM \\npaginated_data pd;\\n\"); // console.log(query);\n          _context12.next = 11;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(_query3, [limit, offset]);\n        case 11:\n          data = _context12.sent;\n          if (!(data.rows.length === 0)) {\n            _context12.next = 14;\n            break;\n          }\n          return _context12.abrupt(\"return\", res.status(404).json({\n            success: false,\n            message: \"no document dound\"\n          }));\n        case 14:\n          console.log(data.rows.length);\n          return _context12.abrupt(\"return\", res.status(200).json({\n            message: \"documents are\",\n            success: true,\n            data: data.rows\n          }));\n        case 18:\n          _context12.prev = 18;\n          _context12.t0 = _context12[\"catch\"](7);\n          return _context12.abrupt(\"return\", res.status(500).json({\n            message: \"Internal server error\",\n            error: _context12.t0,\n            success: false\n          }));\n        case 21:\n        case \"end\":\n          return _context12.stop();\n      }\n    }, _callee12, null, [[7, 18]]);\n  }));\n  return function getpaginateddocuments(_x23, _x24) {\n    return _ref12.apply(this, arguments);\n  };\n}();\nvar createPolicy = /*#__PURE__*/function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(req, res, next) {\n    var userid, _req$body3, htmlText, htmlJson, categoryId, title, textBytesSize, doc;\n    return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n      while (1) switch (_context13.prev = _context13.next) {\n        case 0:\n          userid = req.user.id;\n          console.log(req.user);\n          _req$body3 = req.body, htmlText = _req$body3.htmlText, htmlJson = _req$body3.htmlJson, categoryId = _req$body3.categoryId, title = _req$body3.title;\n          console.log(htmlText);\n          textBytesSize = Buffer.byteLength(htmlText, \"utf8\"); // middleware\n          if (!(textBytesSize > 10 * 1024 * 1024)) {\n            _context13.next = 7;\n            break;\n          }\n          return _context13.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"File size should be less than 10MB\"\n          }));\n        case 7:\n          if (!(htmlText === undefined)) {\n            _context13.next = 9;\n            break;\n          }\n          return _context13.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"File not uploaded,Invalid input\"\n          }));\n        case 9:\n          _context13.prev = 9;\n          _context13.next = 12;\n          return _services_file_services_js__WEBPACK_IMPORTED_MODULE_1__.createPolicy(req.body, userid);\n        case 12:\n          doc = _context13.sent;\n          return _context13.abrupt(\"return\", res.status(201).json({\n            success: true,\n            message: \"File uploaded\",\n            document: doc\n          }));\n        case 16:\n          _context13.prev = 16;\n          _context13.t0 = _context13[\"catch\"](9);\n          next(_context13.t0);\n        case 19:\n        case \"end\":\n          return _context13.stop();\n      }\n    }, _callee13, null, [[9, 16]]);\n  }));\n  return function createPolicy(_x25, _x26, _x27) {\n    return _ref13.apply(this, arguments);\n  };\n}();\nvar setPolicyDetail = /*#__PURE__*/function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(req, res, next) {\n    var docDetail, values, query, result;\n    return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n      while (1) switch (_context14.prev = _context14.next) {\n        case 0:\n          docDetail = req.body.docDetail;\n          console.log(docDetail, \"doc Deatil is\");\n          // docDetail->title,category,\n          _context14.prev = 2;\n          values = docDetail.map(function (doc) {\n            return \"(\".concat(parseInt(doc.categoryId), \",'\").concat(doc.title.toString(), \"',\").concat(parseInt(doc.docId), \")\");\n          });\n          console.log(values.join(\",\"));\n          query = {\n            text: \"UPDATE document AS d\\n    SET \\n    category_id=c.category_id,\\n    title=c.title\\n  FROM (\\n    VALUES \\n    \".concat(values.join(\",\"), \"\\n  ) AS c(category_id,title,doc_id)\\n  WHERE d.id = c.doc_id\\n\")\n          };\n          _context14.next = 8;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(query);\n        case 8:\n          result = _context14.sent;\n          return _context14.abrupt(\"return\", res.status(200).json({\n            message: \"document upload success\"\n          }));\n        case 12:\n          _context14.prev = 12;\n          _context14.t0 = _context14[\"catch\"](2);\n          next(_context14.t0);\n        case 15:\n        case \"end\":\n          return _context14.stop();\n      }\n    }, _callee14, null, [[2, 12]]);\n  }));\n  return function setPolicyDetail(_x28, _x29, _x30) {\n    return _ref14.apply(this, arguments);\n  };\n}();\nvar getLetters = /*#__PURE__*/function () {\n  var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(req, res, next) {\n    var query, name, template, status, page, size, _getPagination4, limit, offset, _query4, data;\n    return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n      while (1) switch (_context15.prev = _context15.next) {\n        case 0:\n          query = req.query;\n          name = req.query.name || \"\";\n          template = req.query.template || \"\";\n          status = req.query.status ? req.query.status.split(\",\") : [];\n          console.log(status);\n\n          //  /document?page=1&size=2\n          page = parseInt(query.page) || 0;\n          size = parseInt(query.size) || 5;\n          _getPagination4 = (0,_utils_getPagination_js__WEBPACK_IMPORTED_MODULE_4__.getPagination)(page, size), limit = _getPagination4.limit, offset = _getPagination4.offset;\n          console.log(\"page\", limit, offset);\n          console.log(name.toString(), template.toString(), \"SADA\");\n          //order by\n          _context15.prev = 10;\n          _query4 = \"\\n    WITH paginated_data AS (\\n      SELECT \\n        l.id, \\n        l.template_id AS tid,\\n        l.filepath,   \\n        l.created_at, \\n        l.created_by, \\n        l.status,\\n        l.recipient_name AS rname,\\n        l.recipient_email AS remail,\\n        CONCAT(us.first_name, ' ', us.last_name) AS employee_name,\\n        COUNT(*) OVER() AS total_count\\n      FROM letters l\\n      JOIN user_table us \\n        ON us.id = l.userid\\n      WHERE l.status = ANY($1)\\n    )\\n    SELECT \\n      pd.*, \\n      t.title AS template_name\\n    FROM \\n      paginated_data pd\\n    JOIN template t\\n      ON pd.tid = t.id\\n    ORDER BY created_at DESC\\n    LIMIT $2 OFFSET $3;\\n    \\n    \\n\";\n          _context15.next = 14;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(_query4, [status, limit, offset]);\n        case 14:\n          data = _context15.sent;\n          console.log(data.rows, \"letters are\");\n          if (!(data.rows.length === 0)) {\n            _context15.next = 18;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_5__.NotFoundError(\"no document found\");\n        case 18:\n          console.log(data.rows.length);\n          return _context15.abrupt(\"return\", res.status(200).json({\n            message: \"documents are\",\n            success: true,\n            data: data.rows\n          }));\n        case 22:\n          _context15.prev = 22;\n          _context15.t0 = _context15[\"catch\"](10);\n          next(_context15.t0);\n        case 25:\n        case \"end\":\n          return _context15.stop();\n      }\n    }, _callee15, null, [[10, 22]]);\n  }));\n  return function getLetters(_x31, _x32, _x33) {\n    return _ref15.apply(this, arguments);\n  };\n}();\nvar getLetterById = /*#__PURE__*/function () {\n  var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16(req, res, next) {\n    var id, data;\n    return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n      while (1) switch (_context16.prev = _context16.next) {\n        case 0:\n          id = req.params.id;\n          _context16.prev = 1;\n          _context16.next = 4;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"SELECT convert_from(html_data,'utf8') as html_data,recipient_name,recipient_email,userid as recipientId,template_id,id as letter_id FROM letters where id=$1\", [id]);\n        case 4:\n          data = _context16.sent;\n          console.log(data.rows[0]);\n          if (!(data.rows.length === 0)) {\n            _context16.next = 8;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_5__.NotFoundError(\"no document found\");\n        case 8:\n          console.log(data.rows.length);\n          return _context16.abrupt(\"return\", res.status(200).json({\n            message: \"documents are\",\n            success: true,\n            data: data.rows[0]\n          }));\n        case 12:\n          _context16.prev = 12;\n          _context16.t0 = _context16[\"catch\"](1);\n          next(_context16.t0);\n        case 15:\n        case \"end\":\n          return _context16.stop();\n      }\n    }, _callee16, null, [[1, 12]]);\n  }));\n  return function getLetterById(_x34, _x35, _x36) {\n    return _ref16.apply(this, arguments);\n  };\n}();\nvar uploadSignSwiftLetter = /*#__PURE__*/function () {\n  var _ref17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17(req, res, next) {\n    var _req$body4, ShareLink, userId, _res;\n    return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n      while (1) switch (_context17.prev = _context17.next) {\n        case 0:\n          _req$body4 = req.body, ShareLink = _req$body4.ShareLink, userId = _req$body4.userId;\n          _context17.prev = 1;\n          _context17.prev = 2;\n          _context17.next = 5;\n          return pool2.query(\"INSERT INTO \\\"Document\\\" (\\\"userId\\\",\\\"ShareLink\\\") VALUES ('\".concat(userId, \"','\").concat(ShareLink, \"')\"));\n        case 5:\n          _res = _context17.sent;\n          _context17.next = 11;\n          break;\n        case 8:\n          _context17.prev = 8;\n          _context17.t0 = _context17[\"catch\"](2);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_5__.DatabaseError(\"something wrong with db\");\n        case 11:\n          return _context17.abrupt(\"return\", res.status(200).json({\n            message: \"documents are\",\n            success: true\n          }));\n        case 14:\n          _context17.prev = 14;\n          _context17.t1 = _context17[\"catch\"](1);\n          next(_context17.t1);\n        case 17:\n        case \"end\":\n          return _context17.stop();\n      }\n    }, _callee17, null, [[1, 14], [2, 8]]);\n  }));\n  return function uploadSignSwiftLetter(_x37, _x38, _x39) {\n    return _ref17.apply(this, arguments);\n  };\n}();\nvar uploadLetterMinio = /*#__PURE__*/function () {\n  var _ref18 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee19(req, res, next) {\n    var fileName, url;\n    return _regeneratorRuntime().wrap(function _callee19$(_context19) {\n      while (1) switch (_context19.prev = _context19.next) {\n        case 0:\n          console.log(req.file);\n          fileName = req.file.originalname;\n          console.log(\"file upload minio hit\");\n          _context19.prev = 3;\n          _context19.next = 6;\n          return _utils_minioSetup_js__WEBPACK_IMPORTED_MODULE_6__.minioClient.putObject(\"ipvms-dev\", fileName, req.file.buffer, /*#__PURE__*/function () {\n            var _ref19 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18(err, etag) {\n              return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n                while (1) switch (_context18.prev = _context18.next) {\n                  case 0:\n                    if (!err) {\n                      _context18.next = 5;\n                      break;\n                    }\n                    console.log(err);\n                    throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_5__.DatabaseError(\"error in uplaoding to minio\");\n                  case 5:\n                    _context18.next = 7;\n                    return _utils_minioSetup_js__WEBPACK_IMPORTED_MODULE_6__.minioClient.presignedGetObject(\"ipvms-dev\", fileName, 7 * 24 * 60 * 60, function (err, presignedUrl) {\n                      if (err) {\n                        console.log(err.message);\n                        throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_5__.DatabaseError(\"error in getting file\");\n                      }\n                      url = presignedUrl;\n                    });\n                  case 7:\n                  case \"end\":\n                    return _context18.stop();\n                }\n              }, _callee18);\n            }));\n            return function (_x43, _x44) {\n              return _ref19.apply(this, arguments);\n            };\n          }());\n        case 6:\n          return _context19.abrupt(\"return\", res.status(200).json({\n            message: \"documents are\",\n            success: true,\n            url: url\n          }));\n        case 9:\n          _context19.prev = 9;\n          _context19.t0 = _context19[\"catch\"](3);\n          next(_context19.t0);\n        case 12:\n        case \"end\":\n          return _context19.stop();\n      }\n    }, _callee19, null, [[3, 9]]);\n  }));\n  return function uploadLetterMinio(_x40, _x41, _x42) {\n    return _ref18.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/controllers/file/File.controller.js?");

/***/ }),

/***/ "./src/controllers/file/letter.controller.js":
/*!***************************************************!*\
  !*** ./src/controllers/file/letter.controller.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteLetter: () => (/* binding */ deleteLetter),\n/* harmony export */   getAllLetters: () => (/* binding */ getAllLetters),\n/* harmony export */   getUrl: () => (/* binding */ getUrl),\n/* harmony export */   saveLetter: () => (/* binding */ saveLetter),\n/* harmony export */   updateLetterStatus: () => (/* binding */ updateLetterStatus),\n/* harmony export */   updateLetterStatushook: () => (/* binding */ updateLetterStatushook),\n/* harmony export */   uploadLetter: () => (/* binding */ uploadLetter)\n/* harmony export */ });\n/* unused harmony exports saveUrlToDatabase, deleteFileFromMinIO */\n/* harmony import */ var _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/database/db.js */ \"./src/core/database/db.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var _utils_minioSetup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/minioSetup.js */ \"./src/utils/minioSetup.js\");\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Error/customError.js */ \"./src/Error/customError.js\");\n/* harmony import */ var _core_Email_sendEmail_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Email/sendEmail.js */ \"./src/core/Email/sendEmail.js\");\n/* harmony import */ var console__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! console */ \"console\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n// import puppeteer from \"puppeteer\";\n\n\n\n\n\nvar __dirname = path__WEBPACK_IMPORTED_MODULE_1__.resolve();\nvar uploadLetter = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var filename, templateId, userId, email, result, html_data, letter_id, htmlData1;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          console.log(\"hit upload\");\n          _context2.prev = 1;\n          filename = req.file.originalname;\n          templateId = req.body.templateId;\n          userId = req.body.userId;\n          email = req.body.email;\n          console.log(email);\n          _context2.prev = 7;\n          _context2.next = 10;\n          return _utils_minioSetup_js__WEBPACK_IMPORTED_MODULE_2__.minioClient.putObject(\"ipvms-dev\", filename, req.file.buffer, /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(err, etag) {\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    if (!err) {\n                      _context.next = 3;\n                      break;\n                    }\n                    console.log(err);\n                    throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.DatabaseError(\"error in uplaoding to minio\");\n                  case 3:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee);\n            }));\n            return function (_x4, _x5) {\n              return _ref2.apply(this, arguments);\n            };\n          }());\n        case 10:\n          _context2.next = 15;\n          break;\n        case 12:\n          _context2.prev = 12;\n          _context2.t0 = _context2[\"catch\"](7);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.DatabaseError();\n        case 15:\n          _context2.prev = 15;\n          html_data = req.body.html_data;\n          letter_id = req.body.letter_id;\n          htmlData1 = Buffer.from(html_data, \"utf8\");\n          if (!(typeof letter_id !== \"undefined\")) {\n            _context2.next = 25;\n            break;\n          }\n          _context2.next = 22;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"INSERT INTO letters (template_id,userid,html_data,status,filepath) VALUES($1,$2,$3,$4,$5)\", [templateId, userId, htmlData1, \"PENDING\", filename]);\n        case 22:\n          result = _context2.sent;\n          _context2.next = 28;\n          break;\n        case 25:\n          _context2.next = 27;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"UPDATE TABLE letters SET status=$1,filepath=$2  WHERE id=$3\", [\"PENDING\", filename, letter_id]);\n        case 27:\n          result = _context2.sent;\n        case 28:\n          _context2.next = 34;\n          break;\n        case 30:\n          _context2.prev = 30;\n          _context2.t1 = _context2[\"catch\"](15);\n          console.log(_context2.t1);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.DatabaseError(\"some error in saving letter in db\");\n        case 34:\n          _context2.prev = 34;\n          if (!result) {\n            _context2.next = 38;\n            break;\n          }\n          _context2.next = 38;\n          return (0,_core_Email_sendEmail_js__WEBPACK_IMPORTED_MODULE_4__.sendLetterEmail)(req.file, email);\n        case 38:\n          _context2.next = 43;\n          break;\n        case 40:\n          _context2.prev = 40;\n          _context2.t2 = _context2[\"catch\"](34);\n          throw _context2.t2;\n        case 43:\n          return _context2.abrupt(\"return\", res.status(200).json({\n            message: \"pdf send success\",\n            success: true\n          }));\n        case 46:\n          _context2.prev = 46;\n          _context2.t3 = _context2[\"catch\"](1);\n          next(_context2.t3);\n        case 49:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 46], [7, 12], [15, 30], [34, 40]]);\n  }));\n  return function uploadLetter(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar saveUrlToDatabase = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(url, userid, template_id) {\n    var queryText, res;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          console.log(\"hit\");\n          _context3.prev = 1;\n          queryText = \"INSERT INTO letters (filepath,template_id,userid) VALUES ($1,$2,$3)\";\n          _context3.next = 5;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(queryText, [url, template_id, userid]);\n        case 5:\n          res = _context3.sent;\n          console.log(res);\n          _context3.next = 12;\n          break;\n        case 9:\n          _context3.prev = 9;\n          _context3.t0 = _context3[\"catch\"](1);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.DatabaseError(\"some error in creating letter\");\n        case 12:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 9]]);\n  }));\n  return function saveUrlToDatabase(_x6, _x7, _x8) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar deleteFileFromMinIO = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(filename) {\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return _utils_minioSetup_js__WEBPACK_IMPORTED_MODULE_2__.minioClient.removeObject(\"ipvms-dev\", filename);\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function deleteFileFromMinIO(_x9) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar deleteLetter = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res, next) {\n    var id, result;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          id = req.params.id;\n          _context5.prev = 1;\n          if (!(typeof id === \"undefined\")) {\n            _context5.next = 4;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.ValidationError(\"id is not defined\");\n        case 4:\n          _context5.prev = 4;\n          _context5.next = 7;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"DELETE FROM letters where id=$1\", [id]);\n        case 7:\n          result = _context5.sent;\n          return _context5.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"successfull\"\n          }));\n        case 11:\n          _context5.prev = 11;\n          _context5.t0 = _context5[\"catch\"](4);\n          console.log(_context5.t0.message, \"error\");\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.DatabaseError(\"some error in db query\");\n        case 15:\n          _context5.next = 20;\n          break;\n        case 17:\n          _context5.prev = 17;\n          _context5.t1 = _context5[\"catch\"](1);\n          next(_context5.t1);\n        case 20:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[1, 17], [4, 11]]);\n  }));\n  return function deleteLetter(_x10, _x11, _x12) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar getUrl = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res, next) {\n    var filename, url;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          filename = req.params.filename;\n          url = \"\";\n          _context6.prev = 2;\n          _context6.next = 5;\n          return _utils_minioSetup_js__WEBPACK_IMPORTED_MODULE_2__.minioClient.presignedGetObject(\"ipvms-dev\", filename, 1 * 60 * 60, function (err, presignedUrl) {\n            if (err) {\n              console.log(err.message);\n              throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.DatabaseError(\"error in getting file\");\n            }\n            url = presignedUrl;\n          });\n        case 5:\n          return _context6.abrupt(\"return\", res.status(200).json({\n            message: \"get url success\",\n            url: url\n          }));\n        case 8:\n          _context6.prev = 8;\n          _context6.t0 = _context6[\"catch\"](2);\n          next(_context6.t0);\n        case 11:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[2, 8]]);\n  }));\n  return function getUrl(_x13, _x14, _x15) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar saveLetter = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res, next) {\n    var _req$body, recipientId, templateId, html_data, letter_id, createdby, email, name, htmlData1, result, _result;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          console.log(\"hit upload\");\n          _context7.prev = 1;\n          _req$body = req.body, recipientId = _req$body.recipientId, templateId = _req$body.templateId, html_data = _req$body.html_data, letter_id = _req$body.letter_id, createdby = _req$body.createdby, email = _req$body.email, name = _req$body.name;\n          htmlData1 = Buffer.from(html_data, \"utf8\");\n          if (!letter_id) {\n            result = _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"INSERT INTO letters (template_id,userid,html_data,created_by,recipient_name,recipient_email) VALUES($1,$2,$3,$4,$5,$6)\", [templateId, recipientId, htmlData1, createdby, name, email]);\n          } else {\n            _result = _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"UPDATE  letters SET html_data=$1 WHERE id=$2\", [htmlData1, letter_id]);\n          }\n          return _context7.abrupt(\"return\", res.status(201).json({\n            message: \"Letter added successfully\",\n            success: true\n          }));\n        case 8:\n          _context7.prev = 8;\n          _context7.t0 = _context7[\"catch\"](1);\n          next(_context7.t0);\n        case 11:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[1, 8]]);\n  }));\n  return function saveLetter(_x16, _x17, _x18) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nvar updateLetterStatus = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res, next) {\n    var html_data, htmlData1, letter_id, created_by, userId, template_id, name, email, fileName, swift_id, result, _result2;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.prev = 0;\n          html_data = req.body.htmlData;\n          htmlData1 = Buffer.from(html_data, \"utf8\");\n          letter_id = req.body.letterId;\n          created_by = req.body.createdBy;\n          userId = req.body.recipientId;\n          template_id = req.body.templateId;\n          name = req.body.name;\n          email = req.body.email;\n          fileName = req.body.fileName;\n          swift_id = req.body.swift_id;\n          if (typeof letter_id !== \"undefined\") {\n            result = _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"UPDATE TABLE letters SET html_data=$1,status=$3,swift_id=$4 WHERE id=$2\", [htmlData1, letter_id, \"PENDING\", swift_id]);\n          } else {\n            _result2 = _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"INSERT INTO  letters (html_data,status,created_by,userid,template_id,recipient_name,recipient_email,swift_id) VALUES($1,$2,$3,$4,$5,$6,$7,$8)\", [htmlData1, \"PENDING\", created_by, userId, template_id, name, email, swift_id]);\n          }\n          return _context8.abrupt(\"return\", res.status(200).json({\n            message: \"success\",\n            success: true\n          }));\n        case 15:\n          _context8.prev = 15;\n          _context8.t0 = _context8[\"catch\"](0);\n          next(_context8.t0);\n        case 18:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8, null, [[0, 15]]);\n  }));\n  return function updateLetterStatus(_x19, _x20, _x21) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nvar getAllLetters = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res, next) {\n    var userId, letters;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.prev = 0;\n          userId = req.params.id;\n          console.log(userId, \"user iddd is\");\n          _context9.next = 5;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"SELECT l.status ,u.first_name as firstname ,l.recipient_name as name,l.recipient_email as email,u.last_name as lastname from letters l JOIN user_table u ON u.id=l.userid  where created_by=$1\", [userId]);\n        case 5:\n          letters = _context9.sent;\n          console.log(\"wered user id\", letters.rows);\n          return _context9.abrupt(\"return\", res.status(200).json({\n            message: \"All queue letters are\",\n            data: letters.rows\n          }));\n        case 10:\n          _context9.prev = 10;\n          _context9.t0 = _context9[\"catch\"](0);\n          next(_context9.t0);\n        case 13:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[0, 10]]);\n  }));\n  return function getAllLetters(_x22, _x23, _x24) {\n    return _ref9.apply(this, arguments);\n  };\n}();\nvar updateLetterStatushook = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(req, res, next) {\n    var swift_id;\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          swift_id = req.params.id;\n          console.log(swift_id, \"Swift id is\");\n          _context10.prev = 2;\n          _context10.next = 5;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"UPDATE letters SET status=$1 where swift_id=$2\", [\"SIGNED\", swift_id]);\n        case 5:\n          return _context10.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"succesully updated status\"\n          }));\n        case 8:\n          _context10.prev = 8;\n          _context10.t0 = _context10[\"catch\"](2);\n          next(_context10.t0);\n        case 11:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10, null, [[2, 8]]);\n  }));\n  return function updateLetterStatushook(_x25, _x26, _x27) {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/controllers/file/letter.controller.js?");

/***/ }),

/***/ "./src/controllers/search/globalSearch.js":
/*!************************************************!*\
  !*** ./src/controllers/search/globalSearch.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   globalSearch: () => (/* binding */ globalSearch)\n/* harmony export */ });\n/* harmony import */ var _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/database/db.js */ \"./src/core/database/db.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar globalSearch = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var _req$body, searchString, category, query, data;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _req$body = req.body, searchString = _req$body.searchString, category = _req$body.category;\n          console.log(searchString, category);\n          if (category != undefined || null) {\n            query = {\n              text: \"SELECT * FROM global_search($1) WHERE category=$2\",\n              values: [searchString, category]\n            };\n          } else {\n            query = {\n              text: \"SELECT * FROM global_search($1)\",\n              values: [searchString]\n            };\n          }\n          console.log(query);\n          _context.next = 7;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(query);\n        case 7:\n          data = _context.sent;\n          if (!(data.rowCount != 0 | null)) {\n            _context.next = 12;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"Search results\",\n            count: data.rowCount,\n            data: data.rows\n          }));\n        case 12:\n          return _context.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"No data found.\"\n          }));\n        case 13:\n          _context.next = 19;\n          break;\n        case 15:\n          _context.prev = 15;\n          _context.t0 = _context[\"catch\"](0);\n          console.log(_context.t0);\n          return _context.abrupt(\"return\", res.status(500).json({\n            success: false,\n            message: \"Internal server error\"\n          }));\n        case 19:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 15]]);\n  }));\n  return function globalSearch(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/controllers/search/globalSearch.js?");

/***/ }),

/***/ "./src/controllers/template/template.controller.js":
/*!*********************************************************!*\
  !*** ./src/controllers/template/template.controller.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTemplateVersion: () => (/* binding */ createTemplateVersion),\n/* harmony export */   getTemplateVersionById: () => (/* binding */ getTemplateVersionById),\n/* harmony export */   getTemplateVersionsDatewise: () => (/* binding */ getTemplateVersionsDatewise)\n/* harmony export */ });\n/* harmony import */ var _services_versioncontrol_services_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../services/versioncontrol.services.js */ \"./src/services/versioncontrol.services.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar createTemplateVersion = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var body, result;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          // middleware apply user\n          // const { version_number, doc_id, delta }\n          body = req.body;\n          _context.next = 4;\n          return (0,_services_versioncontrol_services_js__WEBPACK_IMPORTED_MODULE_0__.VersionfileuploadService)(body);\n        case 4:\n          result = _context.sent;\n          return _context.abrupt(\"return\", res.status(201).json({\n            success: true,\n            message: \"Document version created:\",\n            length: result.length,\n            data: result.rows\n          }));\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](0);\n          next(_context.t0);\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 8]]);\n  }));\n  return function createTemplateVersion(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getTemplateVersionsDatewise = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var docId, result;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          console.log(req.query);\n          docId = parseInt(req.query.docId);\n          console.log(docId);\n          _context2.next = 6;\n          return versioncontrol.getTemplateVersionsDatewiseService({\n            docId: docId\n          });\n        case 6:\n          result = _context2.sent;\n          return _context2.abrupt(\"return\", res.status(200).json({\n            status: \"success\",\n            message: \"Document version:\",\n            length: result.length,\n            data: result.rows\n          }));\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2[\"catch\"](0);\n          next(_context2.t0);\n        case 13:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 10]]);\n  }));\n  return function getTemplateVersionsDatewise(_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar getTemplateVersionById = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var docId, result;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          docId = parseInt(req.query.id);\n          console.log(docId);\n          _context3.next = 5;\n          return versioncontrol.getTemplateVersionsByIdService({\n            docId: docId\n          });\n        case 5:\n          result = _context3.sent;\n          return _context3.abrupt(\"return\", res.status(200).json({\n            status: \"success\",\n            message: \"Document version:\",\n            length: result.length,\n            data: result.rows[0]\n          }));\n        case 9:\n          _context3.prev = 9;\n          _context3.t0 = _context3[\"catch\"](0);\n          next(_context3.t0);\n        case 12:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 9]]);\n  }));\n  return function getTemplateVersionById(_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/controllers/template/template.controller.js?");

/***/ }),

/***/ "./src/controllers/user/auth.controller.js":
/*!*************************************************!*\
  !*** ./src/controllers/user/auth.controller.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   forgotPassword: () => (/* binding */ forgotPassword),\n/* harmony export */   getAllUsers: () => (/* binding */ getAllUsers),\n/* harmony export */   getUserInfo: () => (/* binding */ getUserInfo),\n/* harmony export */   getUserInfoById: () => (/* binding */ getUserInfoById),\n/* harmony export */   getUsers: () => (/* binding */ getUsers),\n/* harmony export */   loginUser: () => (/* binding */ loginUser),\n/* harmony export */   registerUser: () => (/* binding */ registerUser),\n/* harmony export */   resetPassword: () => (/* binding */ resetPassword),\n/* harmony export */   resetPasswordAuth: () => (/* binding */ resetPasswordAuth),\n/* harmony export */   sendInvite: () => (/* binding */ sendInvite),\n/* harmony export */   setupAccount: () => (/* binding */ setupAccount)\n/* harmony export */ });\n/* harmony import */ var _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/database/db.js */ \"./src/core/database/db.js\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ \"dotenv\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var _services_user_Services_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/user.Services.js */ \"./src/services/user.Services.js\");\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Error/customError.js */ \"./src/Error/customError.js\");\n/* harmony import */ var _utils_inputValidation_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/inputValidation.js */ \"./src/utils/inputValidation.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\n\nvar __dirname = path__WEBPACK_IMPORTED_MODULE_2__.resolve();\ndotenv__WEBPACK_IMPORTED_MODULE_1__.config({\n  path: path__WEBPACK_IMPORTED_MODULE_2__.resolve(__dirname, \"../../../.env\")\n});\nvar registerUser = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var createdUser;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _services_user_Services_js__WEBPACK_IMPORTED_MODULE_3__.registerUserService(req.body);\n        case 3:\n          createdUser = _context.sent;\n          return _context.abrupt(\"return\", res.status(201).json({\n            success: true,\n            message: \"User Registered\",\n            data: createdUser\n          }));\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          next(_context.t0);\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n  return function registerUser(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar loginUser = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var _yield$userService$lo, users, token;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _services_user_Services_js__WEBPACK_IMPORTED_MODULE_3__.loginUserService(req.body);\n        case 3:\n          _yield$userService$lo = _context2.sent;\n          users = _yield$userService$lo.users;\n          token = _yield$userService$lo.token;\n          return _context2.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"Login Success\",\n            token: token,\n            user: users\n          }));\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](0);\n          next(_context2.t0);\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 9]]);\n  }));\n  return function loginUser(_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar getAllUsers = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var users;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return _services_user_Services_js__WEBPACK_IMPORTED_MODULE_3__.getAllUserService();\n        case 3:\n          users = _context3.sent;\n          return _context3.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"all users are\",\n            data: users\n          }));\n        case 7:\n          _context3.prev = 7;\n          _context3.t0 = _context3[\"catch\"](0);\n          next(_context3.t0);\n        case 10:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 7]]);\n  }));\n  return function getAllUsers(_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar forgotPassword = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res, next) {\n    var email, secretToken;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          //email validation above\n          email = req.body.email;\n          if (email) {\n            _context4.next = 3;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"Email is required\"\n          }));\n        case 3:\n          _context4.prev = 3;\n          _context4.next = 6;\n          return _services_user_Services_js__WEBPACK_IMPORTED_MODULE_3__.forgotPasswordService(email);\n        case 6:\n          secretToken = _context4.sent;\n          if (!secretToken) {\n            _context4.next = 11;\n            break;\n          }\n          _context4.next = 10;\n          return _services_user_Services_js__WEBPACK_IMPORTED_MODULE_3__.sendEmailService(email, secretToken);\n        case 10:\n          return _context4.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"Email sent\",\n            secretToken: secretToken\n          }));\n        case 11:\n          _context4.next = 16;\n          break;\n        case 13:\n          _context4.prev = 13;\n          _context4.t0 = _context4[\"catch\"](3);\n          next(_context4.t0);\n        case 16:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[3, 13]]);\n  }));\n  return function forgotPassword(_x10, _x11, _x12) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar resetPassword = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res, next) {\n    var _req$body, password, confirmPassword, userId, _yield$userService$re, users, token2;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          // const { token }=req.params;\n          _req$body = req.body, password = _req$body.password, confirmPassword = _req$body.confirmPassword;\n          userId = req.user.id;\n          if (!(userId === undefined)) {\n            _context5.next = 4;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.NotFoundError(\"user not found\");\n        case 4:\n          _context5.prev = 4;\n          _context5.next = 7;\n          return _services_user_Services_js__WEBPACK_IMPORTED_MODULE_3__.resetPasswordService(password, userId);\n        case 7:\n          _yield$userService$re = _context5.sent;\n          users = _yield$userService$re.users;\n          token2 = _yield$userService$re.token2;\n          return _context5.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"Password reset Success\",\n            user: users,\n            token: token2\n          }));\n        case 13:\n          _context5.prev = 13;\n          _context5.t0 = _context5[\"catch\"](4);\n          next(_context5.t0);\n        case 16:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[4, 13]]);\n  }));\n  return function resetPassword(_x13, _x14, _x15) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar resetPasswordAuth = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res, next) {\n    var userId, _req$body2, password, confirmPassword, _yield$userService$re2, user, token;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          userId = req.user.id;\n          _req$body2 = req.body, password = _req$body2.password, confirmPassword = _req$body2.confirmPassword;\n          _context6.prev = 2;\n          if (!(userId === undefined)) {\n            _context6.next = 5;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.NotFoundError(\"user not found\");\n        case 5:\n          _context6.next = 7;\n          return _services_user_Services_js__WEBPACK_IMPORTED_MODULE_3__.resetPasswordAuth(password, userId);\n        case 7:\n          _yield$userService$re2 = _context6.sent;\n          user = _yield$userService$re2.user;\n          token = _yield$userService$re2.token;\n          return _context6.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"Password reset Success\",\n            user: user,\n            token: token\n          }));\n        case 13:\n          _context6.prev = 13;\n          _context6.t0 = _context6[\"catch\"](2);\n          next(_context6.t0);\n        case 16:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[2, 13]]);\n  }));\n  return function resetPasswordAuth(_x16, _x17, _x18) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar getUserInfo = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res, next) {\n    var userId, user, users;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          userId = req.user.id;\n          console.log(userId, \"user Id\");\n          _context7.next = 5;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"SELECT * FROM user_table as u WHERE u.id=$1\", [userId]);\n        case 5:\n          user = _context7.sent;\n          users = user.rows[0];\n          console.log(users);\n          if (!(user.rows.length === 0)) {\n            _context7.next = 10;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(404).json({\n            success: false,\n            message: \"User not found\"\n          }));\n        case 10:\n          return _context7.abrupt(\"return\", res.status(200).json({\n            status: \"success\",\n            data: users,\n            message: \"User Info\"\n          }));\n        case 13:\n          _context7.prev = 13;\n          _context7.t0 = _context7[\"catch\"](0);\n          return _context7.abrupt(\"return\", res.status(500).json({\n            success: false,\n            message: \"Internal Server Error\",\n            error: _context7.t0.message\n          }));\n        case 16:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[0, 13]]);\n  }));\n  return function getUserInfo(_x19, _x20, _x21) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nvar getUserInfoById = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res, next) {\n    var userId, user, users;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.prev = 0;\n          userId = req.params.id;\n          console.log(userId, \"user Id\");\n          _context8.next = 5;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"SELECT u.first_name,u.last_name,u.email,u.created_at,u.updated_at,u.updated_by,u.is_active,u.employee_code,u.mobile_number,b.business_unit,b.department,b.department,b.subdepartment,b.designation FROM user_table AS u \\n      JOIN user_position AS b ON u.id=b.user_id WHERE u.id=$1\", [userId]);\n        case 5:\n          user = _context8.sent;\n          users = user.rows[0];\n          console.log(users);\n          if (!(user.rows.length === 0)) {\n            _context8.next = 10;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.status(404).json({\n            success: false,\n            message: \"User not found\"\n          }));\n        case 10:\n          return _context8.abrupt(\"return\", res.status(200).json({\n            status: \"success\",\n            data: users,\n            message: \"User Info\"\n          }));\n        case 13:\n          _context8.prev = 13;\n          _context8.t0 = _context8[\"catch\"](0);\n          return _context8.abrupt(\"return\", res.status(500).json({\n            success: false,\n            message: \"Internal Server Error\",\n            error: _context8.t0.message\n          }));\n        case 16:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8, null, [[0, 13]]);\n  }));\n  return function getUserInfoById(_x22, _x23, _x24) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nvar sendInvite = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res, next) {\n    var email;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.prev = 0;\n          if ((0,_utils_inputValidation_js__WEBPACK_IMPORTED_MODULE_5__.emailValidation)(req.body.email).success) {\n            _context9.next = 4;\n            break;\n          }\n          console.log(\"emai, format\");\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.ValidationError(\"Invalid email format\");\n        case 4:\n          _context9.next = 6;\n          return _services_user_Services_js__WEBPACK_IMPORTED_MODULE_3__.sendInvite(req.body);\n        case 6:\n          email = _context9.sent;\n          return _context9.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"Invitation send successfully\"\n          }));\n        case 10:\n          _context9.prev = 10;\n          _context9.t0 = _context9[\"catch\"](0);\n          next(_context9.t0);\n        case 13:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[0, 10]]);\n  }));\n  return function sendInvite(_x25, _x26, _x27) {\n    return _ref9.apply(this, arguments);\n  };\n}();\nvar setupAccount = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(req, res, next) {\n    var userId, user, createdUser;\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.prev = 0;\n          if (req.user) {\n            _context10.next = 3;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.AuthorizationError(\"User is not logged in,log in first to setup your account\");\n        case 3:\n          userId = req.user.id;\n          _context10.next = 6;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"SELECT * FROM user_table WHERE id=$1\", [userId]);\n        case 6:\n          user = _context10.sent;\n          if (!user.password_reset) {\n            _context10.next = 11;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.AccountSetupError(\"Account is already setup for user\");\n        case 11:\n          _context10.next = 13;\n          return _services_user_Services_js__WEBPACK_IMPORTED_MODULE_3__.updateUserService(req.body);\n        case 13:\n          createdUser = _context10.sent;\n          console.log(createdUser);\n          return _context10.abrupt(\"return\", res.status(201).json({\n            success: true,\n            message: \"User Registered Success\"\n          }));\n        case 16:\n          _context10.next = 21;\n          break;\n        case 18:\n          _context10.prev = 18;\n          _context10.t0 = _context10[\"catch\"](0);\n          next(_context10.t0);\n        case 21:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10, null, [[0, 18]]);\n  }));\n  return function setupAccount(_x28, _x29, _x30) {\n    return _ref10.apply(this, arguments);\n  };\n}();\nvar getUsers = /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(req, res, next) {\n    var name, users;\n    return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.prev = 0;\n          name = req.query.name;\n          console.log(name);\n          if (!(name === \"\")) {\n            _context11.next = 5;\n            break;\n          }\n          return _context11.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"all users are\",\n            data: null\n          }));\n        case 5:\n          _context11.next = 7;\n          return _services_user_Services_js__WEBPACK_IMPORTED_MODULE_3__.getUsersService(name);\n        case 7:\n          users = _context11.sent;\n          return _context11.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"all users are\",\n            data: users\n          }));\n        case 11:\n          _context11.prev = 11;\n          _context11.t0 = _context11[\"catch\"](0);\n          next(_context11.t0);\n        case 14:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11, null, [[0, 11]]);\n  }));\n  return function getUsers(_x31, _x32, _x33) {\n    return _ref11.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/controllers/user/auth.controller.js?");

/***/ }),

/***/ "./src/controllers/versioncontrol/document.controller.js":
/*!***************************************************************!*\
  !*** ./src/controllers/versioncontrol/document.controller.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getVersions: () => (/* binding */ getVersions)\n/* harmony export */ });\n/* unused harmony export createDocumentVersion */\n/* harmony import */ var _services_versioncontrol_services_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../services/versioncontrol.services.js */ \"./src/services/versioncontrol.services.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dotenv */ \"dotenv\");\n/* harmony import */ var _core_database_db_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/database/db.js */ \"./src/core/database/db.js\");\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Error/customError.js */ \"./src/Error/customError.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\nvar __dirname = path__WEBPACK_IMPORTED_MODULE_1__.resolve();\ndotenv__WEBPACK_IMPORTED_MODULE_2__.config({\n  path: path__WEBPACK_IMPORTED_MODULE_1__.resolve(__dirname, \"../../../.env\")\n});\nvar createDocumentVersion = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var _req$body, version_number, doc_id, delta, created_by;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          // middleware apply user\n          _req$body = req.body, version_number = _req$body.version_number, doc_id = _req$body.doc_id, delta = _req$body.delta, created_by = _req$body.created_by;\n          _context.next = 4;\n          return (0,_services_versioncontrol_services_js__WEBPACK_IMPORTED_MODULE_0__.VersionfileuploadService)(version_number, doc_id, delta, created_by);\n        case 4:\n          return _context.abrupt(\"return\", res.status(200).json({\n            status: \"success\",\n            message: \"Document Version Created\"\n          }));\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          next(_context.t0);\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n  return function createDocumentVersion(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getVersions = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var docId, documents, result;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          docId = parseInt(req.query.docId);\n          console.log(docId);\n          _context2.next = 5;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_3__.pool.query(\"SELECT * FROM document_version WHERE doc_id=$1\", [docId]);\n        case 5:\n          documents = _context2.sent;\n          console.log(documents);\n          result = documents.rows;\n          if (!(documents.rows.length === 0)) {\n            _context2.next = 10;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).json({\n            success: false,\n            message: \"No version Found\"\n          }));\n        case 10:\n          return _context2.abrupt(\"return\", res.status(200).json({\n            status: \"success\",\n            data: result,\n            message: \"User Info\"\n          }));\n        case 13:\n          _context2.prev = 13;\n          _context2.t0 = _context2[\"catch\"](0);\n          return _context2.abrupt(\"return\", res.status(500).json({\n            success: _context2.t0.message,\n            message: \"Internal Server Error\"\n          }));\n        case 16:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 13]]);\n  }));\n  return function getVersions(_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/controllers/versioncontrol/document.controller.js?");

/***/ }),

/***/ "./src/core/Email/Template/invitationTemplate.js":
/*!*******************************************************!*\
  !*** ./src/core/Email/Template/invitationTemplate.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   invitationTemplate: () => (/* binding */ invitationTemplate)\n/* harmony export */ });\nvar invitationTemplate = function invitationTemplate(email, password, action_url) {\n  return \"<!DOCTYPE html PUBLIC \\\"-//W3C//DTD XHTML 1.0 Transitional//EN\\\" \\\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\\\">\\n    <html xmlns=\\\"http://www.w3.org/1999/xhtml\\\">\\n      <head>\\n        <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n        <meta name=\\\"x-apple-disable-message-reformatting\\\" />\\n        <meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html; charset=UTF-8\\\" />\\n        <meta name=\\\"color-scheme\\\" content=\\\"light dark\\\" />\\n        <meta name=\\\"supported-color-schemes\\\" content=\\\"light dark\\\" />\\n        <title></title>\\n        <style type=\\\"text/css\\\" rel=\\\"stylesheet\\\" media=\\\"all\\\">\\n        /* Base ------------------------------ */\\n        \\n        @import url(\\\"https://fonts.googleapis.com/css?family=Nunito+Sans:400,700&display=swap\\\");\\n        body {\\n          width: 100% !important;\\n          height: 100%;\\n          margin: 0;\\n          -webkit-text-size-adjust: none;\\n        }\\n        \\n        a {\\n          color: #3869D4;\\n        }\\n        \\n        a img {\\n          border: none;\\n        }\\n        \\n        td {\\n          word-break: break-word;\\n        }\\n        \\n        .preheader {\\n          display: none !important;\\n          visibility: hidden;\\n          mso-hide: all;\\n          font-size: 1px;\\n          line-height: 1px;\\n          max-height: 0;\\n          max-width: 0;\\n          opacity: 0;\\n          overflow: hidden;\\n        }\\n        /* Type ------------------------------ */\\n        \\n        body,\\n        td,\\n        th {\\n          font-family: \\\"Nunito Sans\\\", Helvetica, Arial, sans-serif;\\n        }\\n        \\n        h1 {\\n          margin-top: 0;\\n          color: #333333;\\n          font-size: 22px;\\n          font-weight: bold;\\n          text-align: left;\\n        }\\n        \\n        h2 {\\n          margin-top: 0;\\n          color: #333333;\\n          font-size: 16px;\\n          font-weight: bold;\\n          text-align: left;\\n        }\\n        \\n        h3 {\\n          margin-top: 0;\\n          color: #333333;\\n          font-size: 14px;\\n          font-weight: bold;\\n          text-align: left;\\n        }\\n        \\n        td,\\n        th {\\n          font-size: 16px;\\n        }\\n        \\n        p,\\n        ul,\\n        ol,\\n        blockquote {\\n          margin: .4em 0 1.1875em;\\n          font-size: 16px;\\n          line-height: 1.625;\\n        }\\n        \\n        p.sub {\\n          font-size: 13px;\\n        }\\n        /* Utilities ------------------------------ */\\n        \\n        .align-right {\\n          text-align: right;\\n        }\\n        \\n        .align-left {\\n          text-align: left;\\n        }\\n        \\n        .align-center {\\n          text-align: center;\\n        }\\n        \\n        .u-margin-bottom-none {\\n          margin-bottom: 0;\\n        }\\n        /* Buttons ------------------------------ */\\n        \\n        .button {\\n          background-color: #3869D4;\\n          border-top: 10px solid #3869D4;\\n          border-right: 18px solid #3869D4;\\n          border-bottom: 10px solid #3869D4;\\n          border-left: 18px solid #3869D4;\\n          display: inline-block;\\n          color: #FFF;\\n          text-decoration: none;\\n          border-radius: 3px;\\n          box-shadow: 0 2px 3px rgba(0, 0, 0, 0.16);\\n          -webkit-text-size-adjust: none;\\n          box-sizing: border-box;\\n        }\\n        \\n        .button--green {\\n          background-color: #22BC66;\\n          border-top: 10px solid #22BC66;\\n          border-right: 18px solid #22BC66;\\n          border-bottom: 10px solid #22BC66;\\n          border-left: 18px solid #22BC66;\\n        }\\n        \\n        .button--red {\\n          background-color: #FF6136;\\n          border-top: 10px solid #FF6136;\\n          border-right: 18px solid #FF6136;\\n          border-bottom: 10px solid #FF6136;\\n          border-left: 18px solid #FF6136;\\n        }\\n        \\n        @media only screen and (max-width: 500px) {\\n          .button {\\n            width: 100% !important;\\n            text-align: center !important;\\n          }\\n        }\\n        /* Attribute list ------------------------------ */\\n        \\n        .attributes {\\n          margin: 0 0 21px;\\n        }\\n        \\n        .attributes_content {\\n          background-color: #F4F4F7;\\n          padding: 16px;\\n        }\\n        \\n        .attributes_item {\\n          padding: 0;\\n        }\\n        /* Related Items ------------------------------ */\\n        \\n        .related {\\n          width: 100%;\\n          margin: 0;\\n          padding: 25px 0 0 0;\\n          -premailer-width: 100%;\\n          -premailer-cellpadding: 0;\\n          -premailer-cellspacing: 0;\\n        }\\n        \\n        .related_item {\\n          padding: 10px 0;\\n          color: #CBCCCF;\\n          font-size: 15px;\\n          line-height: 18px;\\n        }\\n        \\n        .related_item-title {\\n          display: block;\\n          margin: .5em 0 0;\\n        }\\n        \\n        .related_item-thumb {\\n          display: block;\\n          padding-bottom: 10px;\\n        }\\n        \\n        .related_heading {\\n          border-top: 1px solid #CBCCCF;\\n          text-align: center;\\n          padding: 25px 0 10px;\\n        }\\n        /* Discount Code ------------------------------ */\\n        \\n        .discount {\\n          width: 100%;\\n          margin: 0;\\n          padding: 24px;\\n          -premailer-width: 100%;\\n          -premailer-cellpadding: 0;\\n          -premailer-cellspacing: 0;\\n          background-color: #F4F4F7;\\n          border: 2px dashed #CBCCCF;\\n        }\\n        \\n        .discount_heading {\\n          text-align: center;\\n        }\\n        \\n        .discount_body {\\n          text-align: center;\\n          font-size: 15px;\\n        }\\n        /* Social Icons ------------------------------ */\\n        \\n        .social {\\n          width: auto;\\n        }\\n        \\n        .social td {\\n          padding: 0;\\n          width: auto;\\n        }\\n        \\n        .social_icon {\\n          height: 20px;\\n          margin: 0 8px 10px 8px;\\n          padding: 0;\\n        }\\n        /* Data table ------------------------------ */\\n        \\n        .purchase {\\n          width: 100%;\\n          margin: 0;\\n          padding: 35px 0;\\n          -premailer-width: 100%;\\n          -premailer-cellpadding: 0;\\n          -premailer-cellspacing: 0;\\n        }\\n        \\n        .purchase_content {\\n          width: 100%;\\n          margin: 0;\\n          padding: 25px 0 0 0;\\n          -premailer-width: 100%;\\n          -premailer-cellpadding: 0;\\n          -premailer-cellspacing: 0;\\n        }\\n        \\n        .purchase_item {\\n          padding: 10px 0;\\n          color: #51545E;\\n          font-size: 15px;\\n          line-height: 18px;\\n        }\\n        \\n        .purchase_heading {\\n          padding-bottom: 8px;\\n          border-bottom: 1px solid #EAEAEC;\\n        }\\n        \\n        .purchase_heading p {\\n          margin: 0;\\n          color: #85878E;\\n          font-size: 12px;\\n        }\\n        \\n        .purchase_footer {\\n          padding-top: 15px;\\n          border-top: 1px solid #EAEAEC;\\n        }\\n        \\n        .purchase_total {\\n          margin: 0;\\n          text-align: right;\\n          font-weight: bold;\\n          color: #333333;\\n        }\\n        \\n        .purchase_total--label {\\n          padding: 0 15px 0 0;\\n        }\\n        \\n        body {\\n          background-color: #F2F4F6;\\n          color: #51545E;\\n        }\\n        \\n        p {\\n          color: #51545E;\\n        }\\n        \\n        .email-wrapper {\\n          width: 100%;\\n          margin: 0;\\n          padding: 0;\\n          -premailer-width: 100%;\\n          -premailer-cellpadding: 0;\\n          -premailer-cellspacing: 0;\\n          background-color: #F2F4F6;\\n        }\\n        \\n        .email-content {\\n          width: 100%;\\n          margin: 0;\\n          padding: 0;\\n          -premailer-width: 100%;\\n          -premailer-cellpadding: 0;\\n          -premailer-cellspacing: 0;\\n        }\\n        /* Masthead ----------------------- */\\n        \\n        .email-masthead {\\n          padding: 25px 0;\\n          text-align: center;\\n        }\\n        \\n        .email-masthead_logo {\\n          width: 94px;\\n        }\\n        \\n        .email-masthead_name {\\n          font-size: 16px;\\n          font-weight: bold;\\n          color: #A8AAAF;\\n          text-decoration: none;\\n          text-shadow: 0 1px 0 white;\\n        }\\n        /* Body ------------------------------ */\\n        \\n        .email-body {\\n          width: 100%;\\n          margin: 0;\\n          padding: 0;\\n          -premailer-width: 100%;\\n          -premailer-cellpadding: 0;\\n          -premailer-cellspacing: 0;\\n        }\\n        \\n        .email-body_inner {\\n          width: 570px;\\n          margin: 0 auto;\\n          padding: 0;\\n          -premailer-width: 570px;\\n          -premailer-cellpadding: 0;\\n          -premailer-cellspacing: 0;\\n          background-color: #FFFFFF;\\n        }\\n        \\n        .email-footer {\\n          width: 570px;\\n          margin: 0 auto;\\n          padding: 0;\\n          -premailer-width: 570px;\\n          -premailer-cellpadding: 0;\\n          -premailer-cellspacing: 0;\\n          text-align: center;\\n        }\\n        \\n        .email-footer p {\\n          color: #A8AAAF;\\n        }\\n        \\n        .body-action {\\n          width: 100%;\\n          margin: 30px auto;\\n          padding: 0;\\n          -premailer-width: 100%;\\n          -premailer-cellpadding: 0;\\n          -premailer-cellspacing: 0;\\n          text-align: center;\\n        }\\n        \\n        .body-sub {\\n          margin-top: 25px;\\n          padding-top: 25px;\\n          border-top: 1px solid #EAEAEC;\\n        }\\n        \\n        .content-cell {\\n          padding: 45px;\\n        }\\n        /*Media Queries ------------------------------ */\\n        \\n        @media only screen and (max-width: 600px) {\\n          .email-body_inner,\\n          .email-footer {\\n            width: 100% !important;\\n          }\\n        }\\n        \\n        @media (prefers-color-scheme: dark) {\\n          body,\\n          .email-body,\\n          .email-body_inner,\\n          .email-content,\\n          .email-wrapper,\\n          .email-masthead,\\n          .email-footer {\\n            background-color: #333333 !important;\\n            color: #FFF !important;\\n          }\\n          p,\\n          ul,\\n          ol,\\n          blockquote,\\n          h1,\\n          h2,\\n          h3,\\n          span,\\n          .purchase_item {\\n            color: #FFF !important;\\n          }\\n          .attributes_content,\\n          .discount {\\n            background-color: #222 !important;\\n          }\\n          .email-masthead_name {\\n            text-shadow: none !important;\\n          }\\n        }\\n        \\n        :root {\\n          color-scheme: light dark;\\n          supported-color-schemes: light dark;\\n        }\\n        </style>\\n        <!--[if mso]>\\n        <style type=\\\"text/css\\\">\\n          .f-fallback  {\\n            font-family: Arial, sans-serif;\\n          }\\n        </style>\\n      <![endif]-->\\n      </head>\\n      <body>\\n        <span class=\\\"preheader\\\">ex2 india has invited you to use ipvms</span>\\n        <table class=\\\"email-wrapper\\\" width=\\\"100%\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\" role=\\\"presentation\\\">\\n          <tr>\\n            <td align=\\\"center\\\">\\n              <table class=\\\"email-content\\\" width=\\\"100%\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\" role=\\\"presentation\\\">\\n                <tr>\\n                  <td class=\\\"email-masthead\\\">\\n                    <a href=\\\"https://example.com\\\" class=\\\"f-fallback email-masthead_name\\\">\\n                    IPVMS\\n                  </a>\\n                  </td>\\n                </tr>\\n                <!-- Email Body -->\\n                <tr>\\n                  <td class=\\\"email-body\\\" width=\\\"570\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\">\\n                    <table class=\\\"email-body_inner\\\" align=\\\"center\\\" width=\\\"570\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\" role=\\\"presentation\\\">\\n                      <!-- Body content -->\\n                      <tr>\\n                        <td class=\\\"content-cell\\\">\\n                          <div class=\\\"f-fallback\\\">\\n                            <h1>Hi, \".concat(email, \"!</h1>\\n                            <p>ex2 india has invited you to use ipvms</p>\\n                            <div>\\n                            Your credentials are\\n                            <p>email:\").concat(email, \"</p>\\n                            <p>password:\").concat(password, \"</p>\\n                            </div>\\n                            <!-- Action -->\\n                            <table class=\\\"body-action\\\" align=\\\"center\\\" width=\\\"100%\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\" role=\\\"presentation\\\">\\n                              <tr>\\n                                <td align=\\\"center\\\">\\n                                  <!-- Border based button\\n               https://litmus.com/blog/a-guide-to-bulletproof-buttons-in-email-design -->\\n                                  <table width=\\\"100%\\\" border=\\\"0\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" role=\\\"presentation\\\">\\n                                    <tr>\\n                                      <td align=\\\"center\\\">\\n                                        <a href=\\\"\").concat(action_url, \"\\\" class=\\\"f-fallback button\\\" target=\\\"_blank\\\">Set up account</a>\\n                                      </td>\\n                                    </tr>\\n                                    <br></br>\\n                                  </table>\\n                                </td>\\n                              </tr>\\n                            </table>\\n                            <p>If you have any questions for us, you can reply to this email and it will go right to them. Alternatively, feel free to <a href=\\\"mailto:{{support_email}}\\\"></a></p> \\n                             <p>Welcome aboard,\\n                              <br>The ipvms team</br></p>\\n                            <p><strong>P.S.</strong> Need help getting started? Check out our <a href=\\\"{{help_url}}\\\">help documentation</a>.</p>\\n                            <!-- Sub copy -->\\n                            <table class=\\\"body-sub\\\" role=\\\"presentation\\\">\\n                              <tr>\\n                                <td>\\n                                  <p class=\\\"f-fallback sub\\\">If you\\u2019re having trouble with the button above, copy and paste the URL below into your web browser.</p>\\n                                  <p class=\\\"f-fallback sub\\\">\").concat(action_url, \"</p>\\n                                </td>\\n                              </tr>\\n                            </table>\\n                          </div>\\n                        </td>\\n                      </tr>\\n                    </table>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <td>\\n                    <table class=\\\"email-footer\\\" align=\\\"center\\\" width=\\\"570\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\" role=\\\"presentation\\\">\\n                      <tr>\\n                        <td class=\\\"content-cell\\\" align=\\\"center\\\">\\n                          <p class=\\\"f-fallback sub align-center\\\">\\n                            ex2 india\\n                            <br>faridabad.</br>\\n                            <br>Haryana</br>\\n                          </p>\\n                        </td>\\n                      </tr>\\n                    </table>\\n                  </td>\\n                </tr>\\n              </table>\\n            </td>\\n          </tr>\\n        </table>\\n      </body>\\n    </html>\");\n};\n\n//# sourceURL=webpack://backend/./src/core/Email/Template/invitationTemplate.js?");

/***/ }),

/***/ "./src/core/Email/Template/letterTemplate.js":
/*!***************************************************!*\
  !*** ./src/core/Email/Template/letterTemplate.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   letterTemplate: () => (/* binding */ letterTemplate)\n/* harmony export */ });\nvar letterTemplate = function letterTemplate() {\n  return \"<div>\\n    <h1>This letter is for signing </h1>\\n\\n    </div>\";\n};\n\n//# sourceURL=webpack://backend/./src/core/Email/Template/letterTemplate.js?");

/***/ }),

/***/ "./src/core/Email/Template/template.js":
/*!*********************************************!*\
  !*** ./src/core/Email/Template/template.js ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   template: () => (/* binding */ template)\n/* harmony export */ });\nvar template = function template(url, at) {\n  return \"\\n<!DOCTYPE html PUBLIC \\\"-//W3C//DTD XHTML 1.0 Strict//EN\\\" \\\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\\\">\\n<html xmlns=\\\"http://www.w3.org/1999/xhtml\\\" style=\\\"min-height:100%;background:#f3f3f3\\\">\\n  <head>\\n    <meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html; charset=UTF-8\\\">\\n</head>\\n<body style=\\\"min-width:50%;-webkit-text-size-adjust:none;-ms-text-size-adjust:none;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;color:#0a0a0a;font-family:'Cereal', Helvetica, Arial, sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;width:100% !important\\\">\\n<div class=\\\"preheader\\\" style=\\\"visibility:hidden;opacity:0;color:transparent;height:0;width:0;font-size:0px;mso-hide:all;display:none !important\\\"></div>\\n    <meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html; charset=utf-8\\\">\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width\\\">\\n    <style data-roadie-ignore data-immutable=\\\"true\\\" type=\\\"text/css\\\">\\n  /*Light*/\\n  @font-face {\\n    font-family: 'Cereal';\\n    font-style: normal;\\n    font-weight: 200;\\n    src: url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Lt-61d38480cfdf1dfc73d6bd0f459b3e10.eot\\\");\\n    src: url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Lt-61d38480cfdf1dfc73d6bd0f459b3e10.eot?#\\\") format(\\\"eot\\\"),\\n      url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Lt-4f51497e2f6db6e72599a1f2f484eb7e.woff\\\") format(\\\"woff\\\"),\\n      url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Lt-919ae0b65de2f8c6204ec57daeceb9e9.woff2\\\") format(\\\"woff2\\\"),\\n      url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Lt-ef243dd05072c5987d3abcbe00581224.ttf\\\") format(\\\"truetype\\\");\\n  }\\n\\n  /*Regular*/\\n  @font-face {\\n    font-family: 'Cereal';\\n    font-style: normal;\\n    font-weight: 300;\\n    src: url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Rg-909a75677f1cbf6e66c8811e6d39441a.eot\\\");\\n    src: url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Rg-909a75677f1cbf6e66c8811e6d39441a.eot?#\\\") format(\\\"eot\\\"),\\n      url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Rg-391ee76d399e20117aade2ce1f7e196e.woff\\\") format(\\\"woff\\\"),\\n      url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Rg-3ff4006ded0500d605d6eff88ccc59f8.woff2\\\") format(\\\"woff2\\\"),\\n      url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Rg-190a6e02b3b3d6cfaf3bbe887349adad.ttf\\\") format(\\\"truetype\\\");\\n  }\\n\\n  /*Medium*/\\n  @font-face {\\n    font-family: 'Cereal';\\n    font-style: normal;\\n    font-weight: 500;\\n    src: url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Md-ff8747694c95295917ef4c60c2bb6bce.eot\\\");\\n    src: url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Md-ff8747694c95295917ef4c60c2bb6bce.eot?#\\\") format(\\\"eot\\\"),\\n      url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Md-b9bb7e6d20007be4b0caa86ea7fbd906.woff\\\") format(\\\"woff\\\"),\\n      url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Md-dec1db4a099dd1761f19bbe3088de0c8.woff2\\\") format(\\\"woff2\\\"),\\n      url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Md-2f25e87279c9c202ebf384fae79ac376.ttf\\\") format(\\\"truetype\\\");\\n  }\\n\\n  /*Bold*/\\n  @font-face {\\n    font-family: 'Cereal';\\n    font-style: normal;\\n    font-weight: 700;\\n    src: url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Bd-7b4c5f071be2fb695c04a1af3a1e0616.eot\\\");\\n    src: url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Bd-7b4c5f071be2fb695c04a1af3a1e0616.eot?#\\\") format(\\\"eot\\\"),\\n      url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Bd-20d7bff68cfbfa449bd9601275d29996.woff\\\") format(\\\"woff\\\"),\\n      url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Bd-32afa6b67d060b665623bbc48ce00187.woff2\\\") format(\\\"woff2\\\"),\\n      url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Bd-943ebbaff21543f9115cf46427213a47.ttf\\\") format(\\\"truetype\\\");\\n  }\\n\\n  /*XBold*/\\n  @font-face {\\n    font-family: 'Cereal';\\n    font-style: normal;\\n    font-weight: 800;\\n    src: url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_XBd-170530db17719eb719c2f03f8ac2a94d.eot\\\");\\n    src: url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_XBd-170530db17719eb719c2f03f8ac2a94d.eot?#\\\") format(\\\"eot\\\"),\\n      url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_XBd-3aea49864b40db534f43dc271460baba.woff\\\") format(\\\"woff\\\"),\\n      url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_XBd-66f244ea0cd79026250a9ba89a47a7aa.woff2\\\") format(\\\"woff2\\\"),\\n      url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_XBd-5d879965b6ea4ac2a31b41647c283433.ttf\\\") format(\\\"truetype\\\");\\n  }\\n\\n  /*Black*/\\n  @font-face {\\n    font-family: 'Cereal';\\n    font-style: normal;\\n    font-weight: 900;\\n    src: url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Bk-5e8fbee9505fc68a77d714aa35aee405.eot\\\");\\n    src: url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Bk-5e8fbee9505fc68a77d714aa35aee405.eot?#\\\") format(\\\"eot\\\"),\\n      url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Bk-36f3fbaecfd0e0f82e83f28a466ce425.woff\\\") format(\\\"woff\\\"),\\n      url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Bk-eed38b780704d1a3acbdb4ed930f6cdf.woff2\\\") format(\\\"woff2\\\"),\\n      url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Bk-a7f958b92f5a7555e9a6d5755e026c6b.ttf\\\") format(\\\"truetype\\\");\\n  }\\n  @font-face {\\n    font-family: 'Cereal Black';\\n    src: url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Bk-5e8fbee9505fc68a77d714aa35aee405.eot\\\");\\n    src: url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Bk-5e8fbee9505fc68a77d714aa35aee405.eot?#\\\") format(\\\"eot\\\"),\\n      url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Bk-36f3fbaecfd0e0f82e83f28a466ce425.woff\\\") format(\\\"woff\\\"),\\n      url(\\\"https://a1.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Bk-eed38b780704d1a3acbdb4ed930f6cdf.woff2\\\") format(\\\"woff2\\\"),\\n      url(\\\"https://a0.muscache.com/airbnb/rookery/fonts/Cereal/Cereal_W_Bk-a7f958b92f5a7555e9a6d5755e026c6b.ttf\\\") format(\\\"truetype\\\");\\n  }\\n</style>\\n\\n    \\n    \\n    \\n    <style data-roadie-ignore data-immutable=\\\"true\\\">\\n      @media only screen and (max-width: 596px) {\\n        .small-float-center {\\n          margin: 0 auto !important;\\n          float: none !important;\\n          text-align: center !important; }\\n        .small-text-center {\\n          text-align: center !important; }\\n        .small-text-left {\\n          text-align: left !important; }\\n        .small-text-right {\\n          text-align: right !important; } }\\n\\n        @media only screen and (max-width: 596px) {\\n          table.body table.container .hide-for-large {\\n            display: block !important;\\n            width: auto !important;\\n            overflow: visible !important;\\n            max-height: none !important; } }\\n\\n      @media only screen and (max-width: 596px) {\\n        table.body table.container .row.hide-for-large,\\n        table.body table.container .row.hide-for-large {\\n          display: table !important;\\n          width: 100% !important; } }\\n\\n      @media only screen and (max-width: 596px) {\\n        table.body table.container .show-for-large {\\n          display: none !important;\\n          width: 0;\\n          mso-hide: all;\\n          overflow: hidden; } }\\n\\n      @media only screen and (max-width: 596px) {\\n        table.body img {\\n          width: auto !important;\\n          height: auto !important; }\\n        table.body center {\\n          min-width: 0 !important; }\\n        table.body .container {\\n          width: 95% !important; }\\n        table.body .columns,\\n        table.body .column {\\n          height: auto !important;\\n          -moz-box-sizing: border-box;\\n          -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n          padding-left: 16px !important;\\n          padding-right: 16px !important; }\\n          table.body .columns .column,\\n          table.body .columns .columns,\\n          table.body .column .column,\\n          table.body .column .columns {\\n            padding-left: 0 !important;\\n            padding-right: 0 !important; }\\n          table.body .columns .column.nested,\\n          table.body .columns .columns.nested,\\n          table.body .column .column.nested,\\n          table.body .column .columns.nested {\\n            padding-left: 16px !important;\\n            padding-right: 16px !important; }\\n        table.body .collapse .columns,\\n        table.body .collapse .column {\\n          padding-left: 0 !important;\\n          padding-right: 0 !important; }\\n        td.small-1,\\n        th.small-1 {\\n          display: inline-block !important;\\n          width: 8.33333% !important; }\\n        td.small-2,\\n        th.small-2 {\\n          display: inline-block !important;\\n          width: 16.66667% !important; }\\n        td.small-3,\\n        th.small-3 {\\n          display: inline-block !important;\\n          width: 25% !important; }\\n        td.small-4,\\n        th.small-4 {\\n          display: inline-block !important;\\n          width: 33.33333% !important; }\\n        td.small-5,\\n        th.small-5 {\\n          display: inline-block !important;\\n          width: 41.66667% !important; }\\n        td.small-6,\\n        th.small-6 {\\n          display: inline-block !important;\\n          width: 50% !important; }\\n        td.small-7,\\n        th.small-7 {\\n          display: inline-block !important;\\n          width: 58.33333% !important; }\\n        td.small-8,\\n        th.small-8 {\\n          display: inline-block !important;\\n          width: 66.66667% !important; }\\n        td.small-9,\\n        th.small-9 {\\n          display: inline-block !important;\\n          width: 75% !important; }\\n        td.small-10,\\n        th.small-10 {\\n          display: inline-block !important;\\n          width: 83.33333% !important; }\\n        td.small-11,\\n        th.small-11 {\\n          display: inline-block !important;\\n          width: 91.66667% !important; }\\n        td.small-12,\\n        th.small-12 {\\n          display: inline-block !important;\\n          width: 100% !important; }\\n        .columns td.small-12,\\n        .column td.small-12,\\n        .columns th.small-12,\\n        .column th.small-12 {\\n          display: block !important;\\n          width: 100% !important; }\\n        .body .columns td.small-1,\\n        .body .column td.small-1,\\n        td.small-1 center,\\n        .body .columns th.small-1,\\n        .body .column th.small-1,\\n        th.small-1 center {\\n          display: inline-block !important;\\n          width: 8.33333% !important; }\\n        .body .columns td.small-2,\\n        .body .column td.small-2,\\n        td.small-2 center,\\n        .body .columns th.small-2,\\n        .body .column th.small-2,\\n        th.small-2 center {\\n          display: inline-block !important;\\n          width: 16.66667% !important; }\\n        .body .columns td.small-3,\\n        .body .column td.small-3,\\n        td.small-3 center,\\n        .body .columns th.small-3,\\n        .body .column th.small-3,\\n        th.small-3 center {\\n          display: inline-block !important;\\n          width: 25% !important; }\\n        .body .columns td.small-4,\\n        .body .column td.small-4,\\n        td.small-4 center,\\n        .body .columns th.small-4,\\n        .body .column th.small-4,\\n        th.small-4 center {\\n          display: inline-block !important;\\n          width: 33.33333% !important; }\\n        .body .columns td.small-5,\\n        .body .column td.small-5,\\n        td.small-5 center,\\n        .body .columns th.small-5,\\n        .body .column th.small-5,\\n        th.small-5 center {\\n          display: inline-block !important;\\n          width: 41.66667% !important; }\\n        .body .columns td.small-6,\\n        .body .column td.small-6,\\n        td.small-6 center,\\n        .body .columns th.small-6,\\n        .body .column th.small-6,\\n        th.small-6 center {\\n          display: inline-block !important;\\n          width: 50% !important; }\\n        .body .columns td.small-7,\\n        .body .column td.small-7,\\n        td.small-7 center,\\n        .body .columns th.small-7,\\n        .body .column th.small-7,\\n        th.small-7 center {\\n          display: inline-block !important;\\n          width: 58.33333% !important; }\\n        .body .columns td.small-8,\\n        .body .column td.small-8,\\n        td.small-8 center,\\n        .body .columns th.small-8,\\n        .body .column th.small-8,\\n        th.small-8 center {\\n          display: inline-block !important;\\n          width: 66.66667% !important; }\\n        .body .columns td.small-9,\\n        .body .column td.small-9,\\n        td.small-9 center,\\n        .body .columns th.small-9,\\n        .body .column th.small-9,\\n        th.small-9 center {\\n          display: inline-block !important;\\n          width: 75% !important; }\\n        .body .columns td.small-10,\\n        .body .column td.small-10,\\n        td.small-10 center,\\n        .body .columns th.small-10,\\n        .body .column th.small-10,\\n        th.small-10 center {\\n          display: inline-block !important;\\n          width: 83.33333% !important; }\\n        .body .columns td.small-11,\\n        .body .column td.small-11,\\n        td.small-11 center,\\n        .body .columns th.small-11,\\n        .body .column th.small-11,\\n        th.small-11 center {\\n          display: inline-block !important;\\n          width: 91.66667% !important; }\\n        table.body td.small-offset-1,\\n        table.body th.small-offset-1 {\\n          margin-left: 8.33333% !important;\\n          Margin-left: 8.33333% !important; }\\n        table.body td.small-offset-2,\\n        table.body th.small-offset-2 {\\n          margin-left: 16.66667% !important;\\n          Margin-left: 16.66667% !important; }\\n        table.body td.small-offset-3,\\n        table.body th.small-offset-3 {\\n          margin-left: 25% !important;\\n          Margin-left: 25% !important; }\\n        table.body td.small-offset-4,\\n        table.body th.small-offset-4 {\\n          margin-left: 33.33333% !important;\\n          Margin-left: 33.33333% !important; }\\n        table.body td.small-offset-5,\\n        table.body th.small-offset-5 {\\n          margin-left: 41.66667% !important;\\n          Margin-left: 41.66667% !important; }\\n        table.body td.small-offset-6,\\n        table.body th.small-offset-6 {\\n          margin-left: 50% !important;\\n          Margin-left: 50% !important; }\\n        table.body td.small-offset-7,\\n        table.body th.small-offset-7 {\\n          margin-left: 58.33333% !important;\\n          Margin-left: 58.33333% !important; }\\n        table.body td.small-offset-8,\\n        table.body th.small-offset-8 {\\n          margin-left: 66.66667% !important;\\n          Margin-left: 66.66667% !important; }\\n        table.body td.small-offset-9,\\n        table.body th.small-offset-9 {\\n          margin-left: 75% !important;\\n          Margin-left: 75% !important; }\\n        table.body td.small-offset-10,\\n        table.body th.small-offset-10 {\\n          margin-left: 83.33333% !important;\\n          Margin-left: 83.33333% !important; }\\n        table.body td.small-offset-11,\\n        table.body th.small-offset-11 {\\n          margin-left: 91.66667% !important;\\n          Margin-left: 91.66667% !important; }\\n        table.body table.columns td.expander,\\n        table.body table.columns th.expander {\\n          display: none !important; }\\n        table.body .right-text-pad,\\n        table.body .text-pad-right {\\n          padding-left: 10px !important; }\\n        table.body .left-text-pad,\\n        table.body .text-pad-left {\\n          padding-right: 10px !important; }\\n        table.menu {\\n          width: 100% !important; }\\n          table.menu td,\\n          table.menu th {\\n            width: auto !important;\\n            display: inline-block !important; }\\n          table.menu.vertical td,\\n          table.menu.vertical th, table.menu.small-vertical td,\\n          table.menu.small-vertical th {\\n            display: block !important; }\\n        table.menu[align=\\\"center\\\"] {\\n          width: auto !important; }\\n        table.button.expand {\\n          width: 100% !important; } }\\n\\n      @media only screen and (max-width: 596px) {\\n        .day-box {\\n          padding-top: 2vw !important;\\n          width: 14vw !important;\\n          height: 14vw !important;\\n        }\\n        .icon {\\n          margin-right: 0.5vw;\\n          width: 8px !important;\\n        }\\n        .icon-container {\\n          height: 25%;\\n        }\\n        .exp-day-label {\\n          margin-top: 0% !important;\\n          font-size: 15px;\\n        }\\n        .exp-calendar-content {\\n          min-width: 320px;\\n          height: 14vw;\\n        }\\n      }\\n\\n      @media only screen and (min-width: 596px) {\\n        .exp-calendar-content {\\n          margin-left: auto;\\n          margin-right: auto;\\n          width: 78 * 7 + 8;\\n          height: 78;\\n        }\\n        .icon-container {\\n          height: 35px;\\n        }\\n      }\\n\\n      @media only screen and (max-width: 596px) {\\n        .calendar-content {\\n          padding: 0px !important;\\n          width: 288px !important;\\n        }\\n\\n        .not-available-day, .calendar-today, .available-day {\\n          height: 40px !important;\\n          width: 40px !important;\\n        }\\n\\n        .day-label {\\n          margin-left: 10% !important;\\n          margin-top: 0% !important;\\n          font-size: 15px;\\n        }\\n      }\\n\\n      .gmailfix {\\n        display: none;\\n        display: none !important;\\n      }\\n    </style>\\n    \\n  \\n    \\n  \\n  \\n   \\n <table class=\\\"body\\\" style=\\\"border-spacing:0;border-collapse:collapse;vertical-align:top;hyphens:none;-moz-hyphens:none;-webkit-hyphens:none;-ms-hyphens:none;background:#f3f3f3;height:100%;width:100%;color:#0a0a0a;font-family:'Cereal', Helvetica, Arial, sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;margin-bottom:0px !important;background-color: white\\\">\\n      <tr style=\\\"padding:0;vertical-align:top;text-align:left\\\">\\n        <td class=\\\"center\\\" align=\\\"center\\\" valign=\\\"top\\\" style=\\\"word-wrap:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;vertical-align:top;color:#0a0a0a;font-family:'Cereal', Helvetica, Arial, sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;border-collapse:collapse !important\\\">\\n          <center style=\\\"width:100%;min-width:580px\\\">\\n            <!--[if mso]>\\n              <table class=\\\"container\\\" width=\\\"580\\\">\\n            <![endif]-->\\n            <!--[if !mso]> <!-- -->\\n              <table class=\\\"container\\\" style=\\\"border-spacing:0;border-collapse:collapse;padding:0;vertical-align:top;background:#fefefe;width:580px;margin:0 auto;text-align:inherit;max-width:580px;\\\">\\n            <!-- <![endif]-->\\n              <tr style=\\\"padding:0;vertical-align:top;text-align:left\\\">\\n                <td style=\\\"word-wrap:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;vertical-align:top;color:#0a0a0a;font-family:'Cereal', Helvetica, Arial, sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;border-collapse:collapse !important\\\">\\n                  <div>\\n<table class=\\\"row\\\" style=\\\"border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;position:relative;display:table\\\">\\n  <tr class=\\\"\\\" style=\\\"padding:0;vertical-align:top;text-align:left\\\">\\n    <th class=\\\"columns first large-12 last small-12\\\" style=\\\"color:#0a0a0a;font-family:'Cereal', Helvetica, Arial, sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px\\\">\\n      <a href=\\\"/\\\" style=\\\"font-family:'Cereal', Helvetica, Arial, sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;line-height:1.3;color:#2199e8;text-decoration:none\\\">\\n<img align=\\\"center\\\" alt=\\\"Ex2India\\\" class=\\\"center standard-header\\\" height=\\\"30\\\"    src=\\\"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAAAAAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCADIAMgDASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAYHAwQFAQL/xABMEAABAwIDAgcJCwoGAwAAAAAAAQIDBAUGERIhMRMVIkFRYdEUQlJxgZOhscEHIyQyMzVVYnORkhYXNENTVGNy4fBFgqSy0uJlg8L/xAAbAQEAAgMBAQAAAAAAAAAAAAAABAUBAwYCB//EAC4RAAICAgAEBAUEAwEAAAAAAAABAgMEEQUSITETQVFhFDJxgZEVUqHwIiPRwf/aAAwDAQACEQMRAD8A2QAc8fRwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABuQc+4IWnaLRbprTRSyUNK5zoGKrnRtVVXJOo3UUO1vqQM7OWIk3He9+ZVmQLh4ltX0fSeaTsPeJLV9H0nmk7CR8E/3fwVv6/H9j/JToLi4ktX0fSeaTsHElq+j6TzSdg+Cf7v4H6/H9j/JTuQLbqLRbWU0rm2+ma5rVVPeW9HiOFhma13amWCeio21cbeV703lp4SbPvPPwmmk5d/Y2x4zzQc1W9Lv19SAeRT0uHiW1fR9H5lvYaVywxba2ifDHTxQSd5JHGiKi+TmM/BPXRmuHHa20nBr7lVpuPDPWUktFUyU9Q3S9jsl7UMPOQ2tdGX0JxnHmj9T5Vcj6OlZLNLea1sLeTE3bJJ4KdpZcdgtcUDYm0EDsmom2NFVfGpIqxpWLeytzeKV4slHW35lQ5Hq7ELh4ltW7i+k8y3sIZi2sttOvcFBSUzZv1sjI25s6k2bz1PF5Fts1Y3F/iLFCNb/PkREAEQuQAAAAAAAAAAAAXDZPmKi+wZ6kKeQuGyfMVF9gz1IT8Lu/sc9x/wCWH1Z0ec0ai6UFJNwVTVwxSbF0vkRFN4q/G2fH7v5G+0l3WeHHZS4OKsq3w29dCfce2r6QpvOt7Rx7avpCm863tKfBE+Ol6F3+gw/e/wAFs1d6tb6SVrLhSOc5q5e+p0eMqumqZaSqjqYXaZGOzRxiz6gaLb3Y0/QnYfDo40ZR3vZbVivUV5omyN5Mzdkkfgu9qHVyKetVzntNY2ph8Tm8zm9Ba1ur4LpRx1NO7VGv3ovQpPx7/EXXuc7xHAeNPcflf90cvEmHmXmmWWLS2rjb727mcnQpXdFa6qur20McTmzasn6tmnLYqqXKa7KKniqZamOJrZpctbk3rluMW4ynJS/rM4fE7Met19/T2Zr2m1U9oom08Lf5nc7ndKnRBxL/AHyKy0erkunfsjj6V6V6kNzahH2RBip32aXWTNPFGIG2ym7mp3J3XI3Z9ROlfYVq5znv1udqcu/VvXtU+qiolq6mSeZzpJHuzVy/3sMZVX3OxnZ4GFHFr15+bPQAaCcAAAAAAAAAAAAELhsnzFRfYM9SFPIXDZPmKi+wZ6kJ+F3f2Oe4/wDLD6s6BpT2yiqH8JPSQSSeE+Nqr6TbItfMXPs9ydSMo0lyajtXCad/kJ05RityKCim22XLV3OzxJavo6k803sKvvjGw3utjja1rWyqiNRuSISZfdDk+jm+e/oRCuq+7rhPUaeD4Ryv06s8ivyrISjqJ0XCsTIpsk7l0167MIAIRfA7OHL3LZ6zvnQSORJI0+7UnWcYm+EMObW3GsZ0LDG7/cvsN+PGUprlK/iNtMMd+L12u3qThq6/8x9Hp4XBxJqXGtbbrfPVyNc5sTc9KbVUqS5XGe6Vjqmodynbm8zU5kQuNzWPYrXN1NXp5ys8U4edaarumnb8Ekds+ovR4ugh5cZNbXYu+CWUxscZ/M+z/wDCOgArDqwAAAAAAAAAAAAAAAhcNk+YqL7BnqQp4uGyfMVF9gz1IT8Lu/sc9x/5YfVm8QTFGHrncby6opYOEjViJq1om3yqTs+ybZWrFplDjZE8afPDv/0qv8jr5+7J+NO0fkdfP3ZPxp2lqA0fB1+5ZfrmR6L+f+lTvwpeWMc51Imlu1eW3tOKXXWfos/8i+oq3D9hmvNYurU2lZ8o7/5TrI12MoyUYeZY4PE5WVzsv0lHRvYUw7xjN3VVN+CMdsa79Y7sLJa3SmSGKCGKmgbFC1rI2NyRqbkQyE+qtVR0igzMuWTZzvt5I8c9rGanO0tb6CPUGLKOuvMlC3kx7opF3PXn/ocTF2I+Ge+20T/e02TOTvl8FPaQ5F0cpvxm7UI1uXyy1Hy7lnhcIVtTnZ0bXT292XcYqmmiq4HQTNa+N7VRWrzkewriHjSDuaod8Mib+Nu7V4+kkqbiVCSsjtFPbVOixxl0af8AWVPf7JLZqzTynQP+Tk6U6F6zkFy3K3QXSidTVDdTV3O52rzKhVF0tk9prHU0zfi/FdzOb0oVuTj8j2ux1PC+IePHw5/Mv5RpAAiluAAAAAAAAAAAACX0WOX0lFBTJQcJwUbWauGyzyTLPcQ8kGE7I2717pJk94hyVzeZzuZDfQ582oeZAz68d1c962o/+krtmI7lduVT2f3v9o+o0t/27fISGNZnx++Na13gtdqT78kPqONjGNa1ulrdzW7EQw1dfSULOEqp44m82t2WfiLZbS/yZxtko2S/1Q17dWbBgqZKtrNVPBHK7wXyKz2Kc5uKrM9+ltY3V9Zqon35HVimjmY2SN7Xxruc12aKZUlLszEq519Zx19dkQuOL6qke6mq7S6JzmqnKm2L1ouW059vxnFa6NtNT2hGxs/j7VXpXkk1ulrp7vRupqhurPc7navShUldSS2+tmpJvlGOyXr50X0kLIlZW+bf0L3h1eJlRcHDT7tben79yY/nDX6L/wBR/wBTcZdLzf6B7KKg7ia/Z3RJNls6k057uc0cLYWa9ja+4t1Z7YoXbsulewnCNTLJMkNlKskt2P7EPMniUz5aIba89tr8EMgwA3L4RWuc76jUT0rmbH5AW795qfxN/wCJJ56mnpo+Enljib4T3IiGi3EFoc7TxhT+cRD14NK8jV8bmT6qT+y/4R1cEVFHM2pt1w0zMdmzW3L0pzeQ2q3E9xtKtbW2jq4Vs3JcvVyfQSlkjJo9UT2uRe+btzPmWCKogdFM1skbtitdtRT34XKv9fQ8PMc5L4hc2unoyGfnD/8AG/6j/qcq9YogvNHwE1v4N6bY5GzZq1fu3dQxPhril/dNPqdSPd41YvR4iOFfbbav8JM6LDw8KxK6lfy+j/IABFLcAAAAAAAAAAAA+V2oWNgFjOJp398s65/hQrvIleCbxFQ1UlDM/THM5Fa52xEduy8vsJOLJRsWys4vVKzFfL5Pf2LHK1xrS1nGy1EjXOplaiRu3o3pTq2ljhzUfyXM1N6yytr8SPKcriZLxredLZSBIMNYj4mfK2bhJKd7c0azJVR3TtVOb2E6qcNWmr+PRx6l75nJX0HFqsBUb0+DVEkTvrZOT2KQ1jW1vmjovJ8UxMmHh3JrZk/L62/u1V+Fv/I5LVpcU4shkjikbC1iLM17UTPSvUq555ohzbnhO425rpOD4eJO+j25eNN53Pc/gb8Nn77ksT0qvrQypWTmoTX9R4nTjY+PLIxpNvWu/r7E4a3JMjQu9yitNBLVycrT8VvhO3Ih0NxB/dAncjaOn71znPXyZInrUl2z5IN/3qU2HT498YPzIhX3GqudS6aqkc5y7m8zU6EQ1QClcm3tndQrjBckVpHWsV+ns1U3S5zoFd75HzKnSnWWtDKyaBssbtUb2oqO6UUpMtDB0/dGHoUdynROVn3KuXoJ+Ha98rOf45ixjFXR79n7nZrKWKuoZaaZupkrVRSnKymdSVk9NJ8aNytXr/vYXSVjjOJkWIJXN/WMa72ew95kf8eY0cDuatlV5Nb/AAR4AFYdUAAAAAAAAAAAAACZW/BMddb6ep7tVvCMa/ToTZmm7ebK65T6RI2Rl1Y6Ttet/U5lrxdcrcxsb3d0Qpua/eidTiT0eObdL+kMmgdz5t1J96dhq/m+j/f3/gQhNZTPoa2emk+NE9WePr9RI576F17FUqMDOk/D79+m0W3S3m2Vv6PVwvd4Orb9283Uyc3NFKRJJhW9VsV3gpOEkkp5XaFjdt07F2p0bjdVmbepIiZXBXVBzhLeuvUss1aO3wUc08kMejhnI97U3auk2j4kkZCzVI7JupE29KrkhM0ijTfZeZmIF7oEfv8ARyd7pcnpT+pOjiYntLrtaXMj+Widqj61Tm8qGq6LlW0iXgXKnJjKXYqsk2F6Cz3RXU1VGralNrXJIqI9O1CNKx7Hva9uTm7Fa7enYewyy00zZoXObIx2aOTmUqa5KEuq2djk1O6pqEtPyaLM/IuzZfIyZ9PCL2m/ZbU2zUstM12qN0ivb0oi5bFMGHr3DeLfq5LahnJlb0L0p1KdguK4Q0pRRxd9t+3VdJ9/P1Mme8rHG79V/wBPgRNT1r7SyXu4Nj3u2Ima+Ip+713GN2qavvXycn+VNiehDRmy1DRYcDq3e5+SX8mkACrOtAAAAAAAAAAAABPsE3hktHxbK7KWPNWfWTf6CAn1FI+GZskbnRyN2o5NioptptdUtkPOxY5NLg/sXehxLxhqgvL+Eka6OX9ozYq+PpI5a8dvjY2O4Quk/iR718bewkkGKbNUJsrY2/aZt9ZZqyu1dzlJYmXiz5kn9UcNfc9iV/6c7T9nt9Z2LPhegsz+Hj1SzftH83iTmN1L3al/xCkT/wBre0158T2am+NWxu/k5XqChTB7WjM8jNvXI237aOzzEHxreGNZHQQye+akkky73La1PHuXyIYrrjpz2Oit0fB57OEk3+RCGvkfLI6SVznOdtVztqqpovyU1yxLDhvCpqasuWtdl5ln4axDFdqZsUjmtq2NTW3wubUhICkYJ5aeZssEro5G7nN2KhMbXjx7GNiuMOr+JHv8rewzRlprUzXm8InGTnQtr080SK64Ytt2fwskbo5ueSPYq+PmU5Dfc/otfKq6jT/lRfUdmDE9mqWcmujb9pyPWbC3y1J/iFN55O03OFMuvQgxuzKVyJte2mRe42iXDE0d0tep0LNk0auzVW9K9XqJdb6+C40UdTTO1Mf96L0KcitxXZIoXNfNw+bctLE1IqeoiVkxBFabtJwbZG26aTbGu1W/W/vmPHPCuWk+j9PIk/DXZVLlOL5o9n6r0+qJ5fKSeus1TT08nByPbs6+ry7iopI5IZHxStc17XZK1d6KW+l7tS7eMKTxcK3tIfi6lttZ8PoquldUJ8o1sjc3p0pt3njKgprmT7G3g+TKiXhTXR+euzIeACtOqAAAAAAAAAAAAAAAB4egyBmAANIAAwAAAAMwANHh6AZAzGYBgxpAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf/9k=\\\"                         style=\\\"outline:none;text-decoration:none;-ms-interpolation-mode:bicubic;width:auto;max-width:100%;clear:both;display:block;border:none;padding-bottom:16px;padding-top:48px;max-height:30px\\\">      </a>\\n    </th>\\n  </tr>\\n</table>\\n</div>\\n<div>\\n<table class=\\\"row\\\" style=\\\"border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;position:relative;display:table\\\">\\n  <tr class=\\\"\\\" style=\\\"padding:0;vertical-align:top;text-align:left\\\">\\n    <th class=\\\"columns first large-12 last small-12\\\" style=\\\"color:#0a0a0a;font-family:'Cereal', Helvetica, Arial, sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px\\\">\\n      <p class=\\\"headline headline-lg  heavy max-width-485\\\" style='padding:0;margin:0;text-align:left;font-family:\\\"Cereal\\\", \\\"Helvetica\\\", Helvetica, Arial, sans-serif;max-width:485px;font-weight:700;color:#484848;word-break:normal;hyphens:none;-moz-hyphens:none;-webkit-hyphens:none;-ms-hyphens:none;font-size:32px;line-height:1.3;margin-bottom:0 !important;'>\\n        Did you change your password?\\n      </p>\\n    </th>\\n  </tr>\\n</table>\\n</div>\\n<div style=\\\"padding-bottom:16px\\\">\\n<table class=\\\"row\\\" style=\\\"border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;position:relative;display:table\\\">\\n  <tr class=\\\"\\\" style=\\\"padding:0;vertical-align:top;text-align:left\\\">\\n    <th class=\\\"columns first large-12 last small-12\\\" style=\\\"color:#0a0a0a;font-family:'Cereal', Helvetica, Arial, sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px\\\">\\n      <p class=\\\"body  body-lg  body-link-rausch light text-left   \\\" style='padding:0;margin:0;font-family:\\\"Cereal\\\", \\\"Helvetica\\\", Helvetica, Arial, sans-serif;font-weight:300;color:#484848;hyphens:none;-moz-hyphens:none;-webkit-hyphens:none;-ms-hyphens:none;font-size:18px;line-height:1.4;text-align:left;margin-bottom:0px !important;'>\\nWe noticed the password for your account was recently changed. If this was you, you can safely disregard this email</p>\\n    </th>\\n  </tr>\\n</table>\\n</div>\\n<div>\\n<table class=\\\"row\\\" style=\\\"border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;position:relative;display:table\\\">\\n  <tr class=\\\"\\\" style=\\\"padding:0;vertical-align:top;text-align:left\\\">\\n    <th class=\\\"columns first large-12 last small-12\\\" style=\\\"color:#0a0a0a;font-family:'Cereal', Helvetica, Arial, sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px\\\">\\n      <div class=\\\"account-alert-card account-alert-card-border\\\" style=\\\"border-radius:4px;border-color:#dbdbdb;border-width:1px;border-style:solid\\\">\\n        <div class=\\\"account-alert-card-with-padding\\\" style=\\\"padding-top:36px;padding-bottom:20px;padding-left:36px;padding-right:36px\\\">\\n          <p class=\\\"body body-lg bold\\\" style='padding:0;margin:0;text-align:left;font-family:\\\"Cereal\\\", \\\"Helvetica\\\", Helvetica, Arial, sans-serif;font-weight:bold;color:#484848;hyphens:none;-moz-hyphens:none;-webkit-hyphens:none;-ms-hyphens:none;font-size:18px;line-height:1.4;margin-bottom:0px !important'>\\n            Changed password\\n          </p>\\n        </div>\\n        <p style='color:#0a0a0a;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;margin-bottom:10px;font-family:\\\"Cereal\\\", \\\"Helvetica\\\", Helvetica, Arial, sans-serif'>\\n        </p>\\n        <hr class=\\\"full-divider\\\" style=\\\"max-width:580px;border-right:0;border-top:0;border-bottom:1px solid #cacaca;border-left:0;margin:20px auto;clear:both;background-color:#dbdbdb;height:1px;border:none;width:100%;margin-top:0;margin-bottom:0\\\">\\n        <div class=\\\"account-alert-card-with-padding\\\" style=\\\"padding-top:36px;padding-bottom:20px;padding-left:36px;padding-right:36px\\\">\\n          <p style='color:#0a0a0a;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;margin-bottom:10px;font-family:\\\"Cereal\\\", \\\"Helvetica\\\", Helvetica, Arial, sans-serif'>\\n            <span class=\\\"body body-lg bold\\\" style=\\\"font-weight:bold;color:#484848;hyphens:none;-moz-hyphens:none;-webkit-hyphens:none;-ms-hyphens:none;font-size:18px;line-height:1.4;margin-bottom:0px !important\\\">\\n              When\\n            </span>\\n                <span class=\\\"body body-lg light\\\" style=\\\"font-weight:300;color:#484848;hyphens:none;-moz-hyphens:none;-webkit-hyphens:none;-ms-hyphens:none;font-size:18px;line-height:1.4;margin-bottom:0px !important\\\">\\n             \".concat(at, \"\\n            </span>\\n          </p>\\n          <p style='color:#0a0a0a;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;margin-bottom:10px;font-family:\\\"Cereal\\\", \\\"Helvetica\\\", Helvetica, Arial, sans-serif'>\\n            <span class=\\\"body body-lg bold\\\" style=\\\"font-weight:bold;color:#484848;hyphens:none;-moz-hyphens:none;-webkit-hyphens:none;-ms-hyphens:none;font-size:18px;line-height:1.4;margin-bottom:0px !important\\\">\\n              Where\\n            </span>\\n                <span class=\\\"body body-lg light\\\" style=\\\"font-weight:300;color:#484848;hyphens:none;-moz-hyphens:none;-webkit-hyphens:none;-ms-hyphens:none;font-size:18px;line-height:1.4;margin-bottom:0px !important\\\">\\n             Faridabad\\n            </span>\\n          </p>\\n          <p style='color:#0a0a0a;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;margin-bottom:10px;font-family:\\\"Cereal\\\", \\\"Helvetica\\\", Helvetica, Arial, sans-serif'>\\n            <span class=\\\"body body-lg bold\\\" style=\\\"font-weight:bold;color:#484848;hyphens:none;-moz-hyphens:none;-webkit-hyphens:none;-ms-hyphens:none;font-size:18px;line-height:1.4;margin-bottom:0px !important\\\">\\n              Device Type\\n            </span>\\n                <span class=\\\"body body-lg light\\\" style=\\\"font-weight:300;color:#484848;hyphens:none;-moz-hyphens:none;-webkit-hyphens:none;-ms-hyphens:none;font-size:18px;line-height:1.4;margin-bottom:0px !important\\\">\\n              Chrome\\n            </span>\\n          </p>\\n        </div>\\n        <hr class=\\\"full-divider\\\" style=\\\"max-width:580px;border-right:0;border-top:0;border-bottom:1px solid #cacaca;border-left:0;margin:20px auto;clear:both;background-color:#dbdbdb;height:1px;border:none;width:100%;margin-top:0;margin-bottom:0\\\">\\n        <div class=\\\"account-alert-card-button-container\\\" style=\\\"padding-top:16px;padding-bottom:16px;padding-left:0px;padding-right:0px\\\">\\n          <table class=\\\"row\\\" style=\\\"border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;position:relative;width:100%;display:table\\\">\\n            <tr style=\\\"padding:0;vertical-align:top;text-align:left\\\">\\n              <th class=\\\"col-pad-left-2 col-pad-right-2\\\" style=\\\"color:#0a0a0a;font-family:'Cereal', Helvetica, Arial, sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;padding-left:16px;padding-right:16px\\\">\\n                <a href=\").concat(url, \" class=\\\"btn-primary btn-sm btn-rausch btn-full-width\\\" style=\\\"font-family:'Cereal', Helvetica, Arial, sans-serif;font-weight:normal;margin:0;text-align:left;line-height:1.3;color:#2199e8;text-decoration:none;background-color:#ff5a5f;-webkit-border-radius:4px;border-radius:4px;display:block;padding:19px 24px 19px 24px;\\\">\\n                  <p class=\\\"text-center\\\" style='font-weight:normal;padding:0;margin:0;font-size:16px;line-height:19px;text-align:center;font-family:\\\"Cereal\\\", \\\"Helvetica\\\", Helvetica, Arial, sans-serif;color:white;margin-bottom:0px !important;'>\\n                    Change Password\\n                  </p>\\n                </a>\\n              </th>\\n            </tr>\\n          </table>\\n        </div>\\n      </div>\\n    </th>\\n  </tr>\\n</table>\\n</div>\\n\\n                </td>\\n              </tr>\\n            </table>\\n          </center>\\n        </td>\\n      </tr>\\n    </table>\\n    <!-- Gmail on iOS will automatically increase font-size for readability -->\\n    <!-- http://freshinbox.com/blog/gmail-supports-displaynone-and-gmail-ios-font-fix-update/ -->\\n  \\n  \\n\\n</body>\\n</html>\\n\\n\");\n};\n\n//# sourceURL=webpack://backend/./src/core/Email/Template/template.js?");

/***/ }),

/***/ "./src/core/Email/sendEmail.js":
/*!*************************************!*\
  !*** ./src/core/Email/sendEmail.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendEmail: () => (/* binding */ sendEmail),\n/* harmony export */   sendInvitationEmail: () => (/* binding */ sendInvitationEmail),\n/* harmony export */   sendLetterEmail: () => (/* binding */ sendLetterEmail)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var _Template_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Template/template.js */ \"./src/core/Email/Template/template.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dotenv */ \"dotenv\");\n/* harmony import */ var _Template_letterTemplate_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Template/letterTemplate.js */ \"./src/core/Email/Template/letterTemplate.js\");\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Error/customError.js */ \"./src/Error/customError.js\");\n/* harmony import */ var _Template_invitationTemplate_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Template/invitationTemplate.js */ \"./src/core/Email/Template/invitationTemplate.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\n\n\nvar __dirname = path__WEBPACK_IMPORTED_MODULE_2__.resolve();\ndotenv__WEBPACK_IMPORTED_MODULE_3__.config({\n  path: path__WEBPACK_IMPORTED_MODULE_2__.resolve(__dirname, \"./.env\")\n});\nvar sendEmail = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(email, token) {\n    var transporter, htmlTemp;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!(!email || !token)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\");\n        case 2:\n          _context.prev = 2;\n          transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({\n            host: process.env.SMTP_HOST,\n            port: process.env.SMTP_PORT,\n            auth: {\n              user: process.env.SMTP_USER,\n              pass: process.env.SMTP_PASS\n            }\n          });\n          htmlTemp = (0,_Template_template_js__WEBPACK_IMPORTED_MODULE_1__.template)(\"http://localhost:5555/resetpassword?token=\".concat(token), new Date().toLocaleDateString());\n          _context.next = 7;\n          return transporter.sendMail({\n            from: process.env.SMTP_USER,\n            to: email,\n            subject: \"Password Reset\",\n            html: htmlTemp\n          });\n        case 7:\n          _context.next = 12;\n          break;\n        case 9:\n          _context.prev = 9;\n          _context.t0 = _context[\"catch\"](2);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_5__.BadGatewayError(\"Something Wrong with email services\");\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[2, 9]]);\n  }));\n  return function sendEmail(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar sendLetterEmail = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(pdfFile, email) {\n    var transporter, htmlTemp;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({\n            host: process.env.SMTP_HOST,\n            port: process.env.SMTP_PORT,\n            auth: {\n              user: process.env.SMTP_USER,\n              pass: process.env.SMTP_PASS\n            }\n          });\n          htmlTemp = (0,_Template_letterTemplate_js__WEBPACK_IMPORTED_MODULE_4__.letterTemplate)();\n          _context2.next = 5;\n          return transporter.sendMail({\n            from: process.env.SMTP_USER,\n            to: email,\n            subject: \"Letter Sent\",\n            html: _Template_letterTemplate_js__WEBPACK_IMPORTED_MODULE_4__.letterTemplate,\n            attachments: [{\n              filename: \"letter.pdf\",\n              content: new Buffer(pdfFile.buffer, \"utf-8\")\n            }]\n          });\n        case 5:\n          _context2.next = 10;\n          break;\n        case 7:\n          _context2.prev = 7;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.log(_context2.t0, \"email not sent\");\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n  return function sendLetterEmail(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar sendInvitationEmail = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(email, password) {\n    var transporter, action_url, htmlTemp, mail;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({\n            host: process.env.SMTP_HOST,\n            port: process.env.SMTP_PORT,\n            auth: {\n              user: process.env.SMTP_USER,\n              pass: process.env.SMTP_PASS\n            }\n          });\n          action_url = \"http://ipvms.exitest.com/login\";\n          htmlTemp = (0,_Template_invitationTemplate_js__WEBPACK_IMPORTED_MODULE_6__.invitationTemplate)(email, password, action_url);\n          _context3.next = 6;\n          return transporter.sendMail({\n            from: process.env.SMTP_USER,\n            to: \"tarora@ex2india.com\",\n            subject: \"Invitation to platform\",\n            html: htmlTemp\n          });\n        case 6:\n          mail = _context3.sent;\n          return _context3.abrupt(\"return\", true);\n        case 10:\n          _context3.prev = 10;\n          _context3.t0 = _context3[\"catch\"](0);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_5__.DatabaseError(\"email not sent\");\n        case 13:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 10]]);\n  }));\n  return function sendInvitationEmail(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/core/Email/sendEmail.js?");

/***/ }),

/***/ "./src/core/database/db.js":
/*!*********************************!*\
  !*** ./src/core/database/db.js ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pool: () => (/* binding */ pool)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n\nvar Pool = pg__WEBPACK_IMPORTED_MODULE_0__.Pool;\nvar pool = new Pool({\n  user: \"root\",\n  password: \"xsRLlDQJnsniVeJTF1MUDbUCZxyXSQQl\",\n  host: \"dpg-co2h7bgl6cac73bnjcpg-a.singapore-postgres.render.com\",\n  port: 5432,\n  database: \"ipvms\",\n  ssl: true,\n  log_directory: \"pg_log\",\n  log_filename: \"postgresql-dateformat.log\",\n  log_statement: \"all\"\n});\npool.connect(function (err, client, release) {\n  if (err) {\n    return console.error(\"Error acquiring client\", err.stack);\n  }\n  client.query(\"SELECT NOW()\", function (err, result) {\n    release();\n    if (err) {\n      console.error(\"Error executing query\", err.stack);\n      throw err;\n    }\n    console.log(\"Connected to Database !\");\n  });\n});\npool.on(\"error\", function (err, client) {\n  if (err) {\n    console.log(\"error from client\", err);\n    process.exit(-1);\n  }\n});\n\n//# sourceURL=webpack://backend/./src/core/database/db.js?");

/***/ }),

/***/ "./src/middleware/authMiddleware/authMiddleware.js":
/*!*********************************************************!*\
  !*** ./src/middleware/authMiddleware/authMiddleware.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authorizationMiddeleware: () => (/* binding */ authorizationMiddeleware),\n/* harmony export */   loginMiddleware: () => (/* binding */ loginMiddleware),\n/* harmony export */   registerMiddleware: () => (/* binding */ registerMiddleware),\n/* harmony export */   resetPasswordMiddleware: () => (/* binding */ resetPasswordMiddleware),\n/* harmony export */   tokenMiddleware: () => (/* binding */ tokenMiddleware)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ \"dotenv\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var _utils_inputValidation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/inputValidation.js */ \"./src/utils/inputValidation.js\");\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Error/customError.js */ \"./src/Error/customError.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n//register, login\n//register ->Email valid,password valid,first Name,last Name,\n//updated By ->id or null  later->imp in rbac who is updating\n\n\n\n\n\n\nvar __dirname = path__WEBPACK_IMPORTED_MODULE_2__.resolve();\ndotenv__WEBPACK_IMPORTED_MODULE_1__.config({\n  path: path__WEBPACK_IMPORTED_MODULE_2__.resolve(__dirname, \"../../.env\")\n});\nvar loginMiddleware = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var _req$body, email, password;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _req$body = req.body, email = _req$body.email, password = _req$body.password;\n          if (!email || !password || !(0,_utils_inputValidation_js__WEBPACK_IMPORTED_MODULE_3__.passwordValidation)(password).success || !(0,_utils_inputValidation_js__WEBPACK_IMPORTED_MODULE_3__.emailValidation)(email).success) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.ValidationError(\"validation error\"));\n          }\n          next();\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function loginMiddleware(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n//401->unauthorized wrong pass\n//400->Bad request\n\nvar registerMiddleware = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var _req$body2, firstName, lastName, email, password, updatedBy;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          console.log(\"in middleware\");\n          _req$body2 = req.body, firstName = _req$body2.firstName, lastName = _req$body2.lastName, email = _req$body2.email, password = _req$body2.password, updatedBy = _req$body2.updatedBy;\n          if (!firstName || !lastName || !email || !password || !(0,_utils_inputValidation_js__WEBPACK_IMPORTED_MODULE_3__.passwordValidation)(password).success || !(0,_utils_inputValidation_js__WEBPACK_IMPORTED_MODULE_3__.emailValidation)(email).success) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.ValidationError(\"validation error\"));\n          }\n          next();\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function registerMiddleware(_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar authorizationMiddeleware = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var authorizationHeader, token, decoded;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          authorizationHeader = req.header(\"Authorization\");\n          if (!authorizationHeader || !authorizationHeader.startsWith(\"Bearer\")) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.AuthorizationError(\"Invalid authorization header\"));\n          }\n          token = authorizationHeader === null || authorizationHeader === void 0 ? void 0 : authorizationHeader.replace(\"Bearer \", \"\");\n          if (!token) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.AuthorizationError(\"Authorization token not found\"));\n          }\n          try {\n            console.log(token);\n            decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.verify(token, process.env.JWT_SECRET);\n            req.user = decoded;\n            next();\n          } catch (err) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.AuthorizationError(\"Invalid token\"));\n          }\n        case 5:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function authorizationMiddeleware(_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar resetPasswordMiddleware = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res, next) {\n    var _req$body3, password, confirmPassword;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _req$body3 = req.body, password = _req$body3.password, confirmPassword = _req$body3.confirmPassword;\n          if (!password || !confirmPassword) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.ValidationError(\"Password and confirm pasword are required\"));\n          }\n          if (!(0,_utils_inputValidation_js__WEBPACK_IMPORTED_MODULE_3__.passwordValidation)(password).success) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.ValidationError(\"password invalid\"));\n          }\n          if (password !== confirmPassword) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.ValidationError(\"Password and Confirm Password does not match\"));\n          }\n          next();\n        case 5:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function resetPasswordMiddleware(_x10, _x11, _x12) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar tokenMiddleware = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res, next) {\n    var token, verification;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          token = req.params.token;\n          console.log(token, \"in token middleware\");\n          if (!token) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.InvalidTokenError(\"Invalid token\"));\n          }\n          try {\n            try {\n              verification = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.verify(token, process.env.JWT_SECRET);\n              req.user = verification;\n            } catch (error) {\n              next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.InvalidTokenError(\"Token either expired or invalid\"));\n            }\n            next();\n          } catch (error) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_4__.DatabaseError(\"Internal Server Error\"));\n          }\n        case 4:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function tokenMiddleware(_x13, _x14, _x15) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/middleware/authMiddleware/authMiddleware.js?");

/***/ }),

/***/ "./src/middleware/categoryMiddleware.js":
/*!**********************************************!*\
  !*** ./src/middleware/categoryMiddleware.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkCategoryName: () => (/* binding */ checkCategoryName)\n/* harmony export */ });\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Error/customError.js */ \"./src/Error/customError.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar checkCategoryName = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var category;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          category = req.body.category;\n          if (!category || category === \"\") {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.ValidationError(\"category name is required\"));\n          }\n          next();\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function checkCategoryName(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/middleware/categoryMiddleware.js?");

/***/ }),

/***/ "./src/middleware/errorHandlingMiddleware.js":
/*!***************************************************!*\
  !*** ./src/middleware/errorHandlingMiddleware.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   exceptionHandler: () => (/* binding */ exceptionHandler)\n/* harmony export */ });\nvar exceptionHandler = function exceptionHandler(error, req, res, next) {\n  var statusCode = error.statusCode;\n  var message = error.message;\n  var errormessage = error.error;\n  var success = error.success;\n  //\n  console.log(error);\n  // status code null handle\n  //   console.log(\"the status code is\", statusCode, error);\n  //logger\n  return res.status(statusCode).send({\n    statusCode: statusCode,\n    message: message,\n    success: success,\n    error: errormessage\n  });\n};\n\n//# sourceURL=webpack://backend/./src/middleware/errorHandlingMiddleware.js?");

/***/ }),

/***/ "./src/middleware/fileHandlingMiddleware.js":
/*!**************************************************!*\
  !*** ./src/middleware/fileHandlingMiddleware.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkDocIdMiddleware: () => (/* binding */ checkDocIdMiddleware),\n/* harmony export */   checkIdMiddleware: () => (/* binding */ checkIdMiddleware),\n/* harmony export */   createVersionMiddleware: () => (/* binding */ createVersionMiddleware),\n/* harmony export */   fileuploadMiddleware: () => (/* binding */ fileuploadMiddleware),\n/* harmony export */   uploadTemplateMiddleware: () => (/* binding */ uploadTemplateMiddleware)\n/* harmony export */ });\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Error/customError.js */ \"./src/Error/customError.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar fileuploadMiddleware = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var _req$body, htmlText, docId, textBytesSize;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _req$body = req.body, htmlText = _req$body.htmlText, docId = _req$body.docId;\n          docId = parseInt(docId);\n          if (!htmlText) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.ValidationError(\"html text required\"));\n          }\n          if (!docId) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.ValidationError(\"doc id required\"));\n          }\n          textBytesSize = Buffer.byteLength(htmlText, \"utf8\");\n          if (textBytesSize > 10 * 1024 * 1024) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.ValidationError(\"File size should be less than 10MB\"));\n          }\n          next();\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function fileuploadMiddleware(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar checkDocIdMiddleware = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var docId;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          docId = req.params.docId;\n          docId = parseInt(docId);\n          if (!docId) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.ValidationError(\"doc id required\"));\n          }\n          next();\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function checkDocIdMiddleware(_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar checkIdMiddleware = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var id;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          id = req.params.id;\n          id = parseInt(id);\n          if (!id) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.ValidationError(\"id required\"));\n          }\n          next();\n        case 4:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function checkIdMiddleware(_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar uploadTemplateMiddleware = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res, next) {\n    var _req$body2, name, description, categoryId, htmlText, textBytesSize;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _req$body2 = req.body, name = _req$body2.name, description = _req$body2.description, categoryId = _req$body2.categoryId, htmlText = _req$body2.htmlText; // if (!name || !description || !categoryId || !htmlText) {\n          //   return res.status(400).json({\n          //     success: false,\n          //     message: \"Invalid input\",\n          //   });\n          // }\n          //check htmlText size->\n          textBytesSize = Buffer.byteLength(htmlText, \"utf8\");\n          if (textBytesSize > 10 * 1024 * 1024) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.ValidationError(\"File size should be less than 10MB\"));\n          }\n          next();\n        case 4:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function uploadTemplateMiddleware(_x10, _x11, _x12) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar createVersionMiddleware = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res, next) {\n    var _req$body3, version_number, doc_id, delta, created_by;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _req$body3 = req.body, version_number = _req$body3.version_number, doc_id = _req$body3.doc_id, delta = _req$body3.delta, created_by = _req$body3.created_by;\n          if (!version_number || version_number === '') {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.ValidationError(\"version_number or doc_id or delta are missing\"));\n          }\n          if (!doc_id || doc_id === '') {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.ValidationError(\"version_number or doc_id or delta are missing\"));\n          }\n          if (!delta || delta === '' || Object.keys(delta).length === 0) {\n            next(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.ValidationError(\"version_number or doc_id or delta are missing\"));\n          }\n          next();\n        case 5:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function createVersionMiddleware(_x13, _x14, _x15) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/middleware/fileHandlingMiddleware.js?");

/***/ }),

/***/ "./src/middleware/miniobucketMiddleware.js":
/*!*************************************************!*\
  !*** ./src/middleware/miniobucketMiddleware.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   upload: () => (/* binding */ upload)\n/* harmony export */ });\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! multer */ \"multer\");\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Error/customError.js */ \"./src/Error/customError.js\");\n\n\nvar upload = multer__WEBPACK_IMPORTED_MODULE_0__({\n  storage: multer__WEBPACK_IMPORTED_MODULE_0__.memoryStorage(),\n  limits: {\n    fileSize: \"2mb\"\n  },\n  fileFilter: function fileFilter(req, file, callback) {\n    var acceptableExtensions = [\"application/pdf\"];\n    if (!acceptableExtensions.includes(file.mimetype)) {\n      console.log(file.mimetype, \"mime type\");\n      return callback(new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.ValidationError(\"file should be pdf format\"));\n    }\n\n    // added this\n\n    // --\n\n    callback(null, true);\n  }\n});\n\n//# sourceURL=webpack://backend/./src/middleware/miniobucketMiddleware.js?");

/***/ }),

/***/ "./src/query/category.js":
/*!*******************************!*\
  !*** ./src/query/category.js ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCategory: () => (/* binding */ createCategory),\n/* harmony export */   getAllCategory: () => (/* binding */ getAllCategory),\n/* harmony export */   updateCategory: () => (/* binding */ updateCategory)\n/* harmony export */ });\n/* harmony import */ var _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/database/db.js */ \"./src/core/database/db.js\");\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Error/customError.js */ \"./src/Error/customError.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar createCategory = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {\n    var category, isActive, color, svg, query, dbResponse;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          category = data.category, isActive = data.isActive, color = data.color, svg = data.svg;\n          console.log(category, isActive, color, svg);\n          query = {\n            text: \"INSERT INTO category(category,is_active, color, svg) VALUES($1,$2, $3, $4) RETURNING *\",\n            values: [category, isActive, color, svg]\n          };\n          _context.prev = 3;\n          _context.next = 6;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(query);\n        case 6:\n          dbResponse = _context.sent;\n          return _context.abrupt(\"return\", dbResponse);\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](3);\n          if (!(_context.t0.code === '23505')) {\n            _context.next = 16;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.ConflictError(\"Category already Exists\");\n        case 16:\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.DatabaseError(\"Error in creating Category \");\n        case 17:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[3, 10]]);\n  }));\n  return function createCategory(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getAllCategory = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var dbResponse;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"SELECT * FROM category WHERE is_active=true;\");\n        case 3:\n          dbResponse = _context2.sent;\n          return _context2.abrupt(\"return\", dbResponse);\n        case 7:\n          _context2.prev = 7;\n          _context2.t0 = _context2[\"catch\"](0);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.DatabaseError('Error in getting Categories');\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n  return function getAllCategory() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar updateCategory = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(data) {\n    var category, id, type, query, dbResponse;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          category = data.category, id = data.id, type = data.type;\n          _context3.prev = 1;\n          query = {};\n          if (type === \"edit\") {\n            query = {\n              text: \"UPDATE category SET  category=($2) WHERE id=($1) RETURNING *\",\n              values: [id, category]\n            };\n          } else if (type === \"delete\") {\n            query = {\n              text: \"UPDATE category SET is_active=FALSE  WHERE id=($1)\",\n              values: [id]\n            };\n          }\n          _context3.next = 6;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(query);\n        case 6:\n          dbResponse = _context3.sent;\n          return _context3.abrupt(\"return\", dbResponse);\n        case 10:\n          _context3.prev = 10;\n          _context3.t0 = _context3[\"catch\"](1);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.DatabaseError();\n        case 13:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 10]]);\n  }));\n  return function updateCategory(_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/query/category.js?");

/***/ }),

/***/ "./src/query/file.js":
/*!***************************!*\
  !*** ./src/query/file.js ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDocumentById: () => (/* binding */ getDocumentById),\n/* harmony export */   getPaginatedDocumentDetailsWithSearch: () => (/* binding */ getPaginatedDocumentDetailsWithSearch),\n/* harmony export */   getPaginatedDocumentDetailsWithSearchForDraft: () => (/* binding */ getPaginatedDocumentDetailsWithSearchForDraft),\n/* harmony export */   getTemplate: () => (/* binding */ getTemplate),\n/* harmony export */   updateDocument: () => (/* binding */ updateDocument),\n/* harmony export */   uploadTemplate: () => (/* binding */ uploadTemplate)\n/* harmony export */ });\n/* harmony import */ var _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/database/db.js */ \"./src/core/database/db.js\");\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Error/customError.js */ \"./src/Error/customError.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar updateDocument = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {\n    var htmlText, docId, query, doc;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          htmlText = data.htmlText, docId = data.docId;\n          query = {\n            text: \"UPDATE document SET htmldata=$1 WHERE id=$2 RETURNING *\",\n            values: [htmlText, docId]\n          };\n          _context.next = 5;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(query);\n        case 5:\n          doc = _context.sent;\n          return _context.abrupt(\"return\", doc);\n        case 9:\n          _context.prev = 9;\n          _context.t0 = _context[\"catch\"](0);\n          throw new Error(\"Error\" + _context.t0.message);\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 9]]);\n  }));\n  return function updateDocument(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getDocumentById = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data) {\n    var docId, query, document;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          docId = data.docId;\n          _context2.prev = 1;\n          query = {\n            text: \"SELECT convert_from(htmldata,'utf8') as data FROM document WHERE id=$1\",\n            values: [docId]\n          };\n          _context2.next = 5;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(query);\n        case 5:\n          document = _context2.sent;\n          return _context2.abrupt(\"return\", document);\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](1);\n          throw new Error(\"Error\" + _context2.t0.message);\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 9]]);\n  }));\n  return function getDocumentById(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar uploadTemplate = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(data) {\n    var htmlData, htmlJson, name, userid, result;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          htmlData = data.htmlData, htmlJson = data.htmlJson, name = data.name, userid = data.userid;\n          console.log(name, \"sss\");\n          console.log(\"hit\");\n          _context3.prev = 3;\n          _context3.next = 6;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"INSERT INTO  template   (htmldata,title,htmljson,created_by) VALUES($1,$2,$3,$4) RETURNING *\", [htmlData, name, htmlJson, userid]);\n        case 6:\n          result = _context3.sent;\n          return _context3.abrupt(\"return\", result);\n        case 10:\n          _context3.prev = 10;\n          _context3.t0 = _context3[\"catch\"](3);\n          throw new Error(\"Error\" + _context3.t0.message);\n        case 13:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[3, 10]]);\n  }));\n  return function uploadTemplate(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar getTemplate = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(data) {\n    var id, result;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          id = data.id;\n          _context4.prev = 1;\n          _context4.next = 4;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"SELECT convert_from(htmldata,'utf8') as htmldata,title,mode,description FROM template WHERE id=$1\", [id]);\n        case 4:\n          result = _context4.sent;\n          return _context4.abrupt(\"return\", result);\n        case 8:\n          _context4.prev = 8;\n          _context4.t0 = _context4[\"catch\"](1);\n          throw new Error(\"Error\" + _context4.t0.message);\n        case 11:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[1, 8]]);\n  }));\n  return function getTemplate(_x4) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar getPaginatedDocumentDetailsWithSearch = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(data, orderByColumn, orderByDirection) {\n    var query, dbResponse;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          query = {\n            text: \"\\n    WITH paginated_data AS (\\n      SELECT \\n          id, \\n          category_id as cid,\\n          created_at, \\n          created_by, \\n          title\\n      FROM document d\\n      WHERE \\n      title ILIKE '%'||$3||'%'\\n      ORDER BY \".concat(orderByColumn, \" \").concat(orderByDirection, \"\\n  ),\\n  filtered_data AS (\\n      SELECT \\n          pd.*, \\n          c.category as category_name, \\n          ut.first_name\\n      FROM \\n          paginated_data pd\\n      JOIN \\n          user_table ut ON pd.created_by = ut.id\\n      JOIN  \\n          category c ON c.id=pd.cid\\n      WHERE \\n          c.category ILIKE '%'||$4||'%'\\n  ),\\n  total_count AS (\\n      SELECT \\n          COUNT(*) as total_count \\n      FROM \\n          filtered_data\\n  )\\n  SELECT \\n      fd.*, \\n      (SELECT total_count FROM total_count) as total_count\\n  FROM \\n      filtered_data fd\\n  LIMIT $1 OFFSET $2;\\n    \"),\n            values: data\n          };\n          _context5.prev = 1;\n          _context5.next = 4;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(query);\n        case 4:\n          dbResponse = _context5.sent;\n          return _context5.abrupt(\"return\", dbResponse);\n        case 8:\n          _context5.prev = 8;\n          _context5.t0 = _context5[\"catch\"](1);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.DatabaseError(\"Error while getting documents details.\");\n        case 11:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[1, 8]]);\n  }));\n  return function getPaginatedDocumentDetailsWithSearch(_x5, _x6, _x7) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar getPaginatedDocumentDetailsWithSearchForDraft = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(data, orderByColumn, orderByDirection) {\n    var query, dbResponse;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          query = {\n            text: \"\\n    WITH paginated_data AS (\\n      SELECT \\n          id, \\n          category_id as cid,\\n          created_at, \\n          created_by, \\n          title\\n      FROM document d\\n      WHERE \\n      title ILIKE '%'||$3||'%' and  d.is_active = FALSE\\n      ORDER BY \".concat(orderByColumn, \" \").concat(orderByDirection, \"\\n  ),\\n  filtered_data AS (\\n      SELECT \\n          pd.*, \\n          c.category as category_name, \\n          ut.first_name\\n      FROM \\n          paginated_data pd\\n      JOIN \\n          user_table ut ON pd.created_by = ut.id\\n      JOIN  \\n          category c ON c.id=pd.cid\\n      WHERE \\n          c.category ILIKE '%'||$4||'%'\\n  ),\\n  total_count AS (\\n      SELECT \\n          COUNT(*) as total_count \\n      FROM \\n          filtered_data\\n  )\\n  SELECT \\n      fd.*, \\n      (SELECT total_count FROM total_count) as total_count\\n  FROM \\n      filtered_data fd\\n  LIMIT $1 OFFSET $2;\\n    \"),\n            values: data\n          };\n          _context6.prev = 1;\n          _context6.next = 4;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(query);\n        case 4:\n          dbResponse = _context6.sent;\n          return _context6.abrupt(\"return\", dbResponse);\n        case 8:\n          _context6.prev = 8;\n          _context6.t0 = _context6[\"catch\"](1);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.DatabaseError(\"Error while getting documents details.\");\n        case 11:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[1, 8]]);\n  }));\n  return function getPaginatedDocumentDetailsWithSearchForDraft(_x8, _x9, _x10) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/query/file.js?");

/***/ }),

/***/ "./src/query/user.js":
/*!***************************!*\
  !*** ./src/query/user.js ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   getAllUser: () => (/* binding */ getAllUser),\n/* harmony export */   getUser: () => (/* binding */ getUser),\n/* harmony export */   getUsers: () => (/* binding */ getUsers),\n/* harmony export */   updatePassword: () => (/* binding */ updatePassword),\n/* harmony export */   updatedUser: () => (/* binding */ updatedUser)\n/* harmony export */ });\n/* unused harmony export resetPassword */\n/* harmony import */ var _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/database/db.js */ \"./src/core/database/db.js\");\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Error/customError.js */ \"./src/Error/customError.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar getUser = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {\n    var email, _user;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          email = data.email;\n          _context.prev = 1;\n          _context.next = 4;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"SELECT * FROM user_table WHERE email=$1\", [email]);\n        case 4:\n          _user = _context.sent;\n          return _context.abrupt(\"return\", _user);\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](1);\n          throw _context.t0;\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 8]]);\n  }));\n  return function getUser(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar createUser = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(userData) {\n    var firstName, lastName, email, hashedPassword, isActive, query, _user2;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          firstName = userData.firstName, lastName = userData.lastName, email = userData.email, hashedPassword = userData.hashedPassword, isActive = userData.isActive;\n          console.log(firstName, lastName, email, hashedPassword, isActive);\n          _context2.prev = 2;\n          query = {\n            text: \"INSERT INTO user_table(first_name,last_name,email,password,is_active) VALUES($1,$2,$3,$4,$5) RETURNING *\",\n            values: [firstName, lastName, email, hashedPassword, true]\n          };\n          _context2.next = 6;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(query);\n        case 6:\n          _user2 = _context2.sent;\n          return _context2.abrupt(\"return\", _user2);\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2[\"catch\"](2);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.DatabaseError(\"Error in creating User\");\n        case 13:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[2, 10]]);\n  }));\n  return function createUser(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar updatedUser = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(userData) {\n    var firstName, lastName, email, hashedPassword, isActive, query, _user3;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          firstName = userData.firstName, lastName = userData.lastName, email = userData.email, hashedPassword = userData.hashedPassword, isActive = userData.isActive;\n          console.log(firstName, lastName, email, hashedPassword, isActive);\n          _context3.prev = 2;\n          query = {\n            text: \"UPDATE user_table SET first_name=$1,last_name=$2,email=$3,password=$4,password_reset=$5 WHERE email=$3 RETURNING *\",\n            values: [firstName, lastName, email, hashedPassword, true]\n          };\n          _context3.next = 6;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(query);\n        case 6:\n          _user3 = _context3.sent;\n          console.log(_user3.rows[0]);\n          return _context3.abrupt(\"return\", _user3);\n        case 11:\n          _context3.prev = 11;\n          _context3.t0 = _context3[\"catch\"](2);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.DatabaseError(\"Error in updating User\");\n        case 14:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[2, 11]]);\n  }));\n  return function updatedUser(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar getAllUser = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n    var _user4;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"SELECT first_name,last_name,created_at,updated_at,email,id FROM user_table\");\n        case 3:\n          _user4 = _context4.sent;\n          return _context4.abrupt(\"return\", _user4);\n        case 7:\n          _context4.prev = 7;\n          _context4.t0 = _context4[\"catch\"](0);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.DatabaseError(\"Error in getting User\");\n        case 10:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 7]]);\n  }));\n  return function getAllUser() {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar updatePassword = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(data) {\n    var hashedPassword, userId, _user5;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          hashedPassword = data.hashedPassword, userId = data.userId;\n          _context5.prev = 1;\n          _context5.next = 4;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"UPDATE user_table SET password=$1 WHERE id=$2 RETURNING *\", [hashedPassword, userId]);\n        case 4:\n          _user5 = _context5.sent;\n          return _context5.abrupt(\"return\", _user5);\n        case 8:\n          _context5.prev = 8;\n          _context5.t0 = _context5[\"catch\"](1);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.DatabaseError(\"Error in Update password\");\n        case 11:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[1, 8]]);\n  }));\n  return function updatePassword(_x4) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar resetPassword = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(_ref6) {\n    var data, userId;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          data = _ref6.data;\n          userId = data.userId;\n          _context6.prev = 2;\n          return _context6.abrupt(\"return\", user);\n        case 6:\n          _context6.prev = 6;\n          _context6.t0 = _context6[\"catch\"](2);\n          throw new Error(\"Error\" + _context6.t0.message);\n        case 9:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[2, 6]]);\n  }));\n  return function resetPassword(_x5) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nvar getUsers = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(data) {\n    var name, firstName, lastName, _user6;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          name = data;\n          firstName = (name === null || name === void 0 ? void 0 : name.split(\" \")[0]) || \"\";\n          lastName = (name === null || name === void 0 ? void 0 : name.split(\" \")[1]) || \"\";\n          console.log(firstName, lastName);\n          //first name  space last name\n          _context7.prev = 4;\n          _context7.next = 7;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(\" SELECT first_name,last_name,created_at,updated_at,email,id FROM user_table WHERE first_name ILIKE '%'||$1||'%' or last_name ILIKE '%'||$1||'%' and last_name ILIKE '%'||$2||'%'  \", [firstName, lastName]);\n        case 7:\n          _user6 = _context7.sent;\n          return _context7.abrupt(\"return\", _user6);\n        case 11:\n          _context7.prev = 11;\n          _context7.t0 = _context7[\"catch\"](4);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.DatabaseError(\"Error in getting User\");\n        case 14:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[4, 11]]);\n  }));\n  return function getUsers(_x6) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/query/user.js?");

/***/ }),

/***/ "./src/routes/catogery.routes.js":
/*!***************************************!*\
  !*** ./src/routes/catogery.routes.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _controllers_catogery_catogery_controller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/catogery/catogery.controller.js */ \"./src/controllers/catogery/catogery.controller.js\");\n/* harmony import */ var _middleware_categoryMiddleware_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../middleware/categoryMiddleware.js */ \"./src/middleware/categoryMiddleware.js\");\n/* harmony import */ var _middleware_fileHandlingMiddleware_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../middleware/fileHandlingMiddleware.js */ \"./src/middleware/fileHandlingMiddleware.js\");\n\n\n\n\nvar categoryRouter = express__WEBPACK_IMPORTED_MODULE_0__.Router();\ncategoryRouter.post(\"/createNewCategory\", _middleware_categoryMiddleware_js__WEBPACK_IMPORTED_MODULE_2__.checkCategoryName, _controllers_catogery_catogery_controller_js__WEBPACK_IMPORTED_MODULE_1__.createNewCategory);\ncategoryRouter.get(\"/getAllCategories\", _controllers_catogery_catogery_controller_js__WEBPACK_IMPORTED_MODULE_1__.getAllCategories);\ncategoryRouter.patch(\"/editCategory\", _middleware_fileHandlingMiddleware_js__WEBPACK_IMPORTED_MODULE_3__.checkIdMiddleware, _middleware_categoryMiddleware_js__WEBPACK_IMPORTED_MODULE_2__.checkCategoryName, _controllers_catogery_catogery_controller_js__WEBPACK_IMPORTED_MODULE_1__.editCategory);\ncategoryRouter.patch(\"/deleteCategory\", _middleware_fileHandlingMiddleware_js__WEBPACK_IMPORTED_MODULE_3__.checkIdMiddleware, _controllers_catogery_catogery_controller_js__WEBPACK_IMPORTED_MODULE_1__.deleteCategory);\n\n// categoryRouter.get('/getDocumentCategories',);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (categoryRouter);\n\n//# sourceURL=webpack://backend/./src/routes/catogery.routes.js?");

/***/ }),

/***/ "./src/routes/file.routes.js":
/*!***********************************!*\
  !*** ./src/routes/file.routes.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/file/File.controller.js */ \"./src/controllers/file/File.controller.js\");\n/* harmony import */ var _middleware_fileHandlingMiddleware_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../middleware/fileHandlingMiddleware.js */ \"./src/middleware/fileHandlingMiddleware.js\");\n/* harmony import */ var _controllers_document_document_controller_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/document/document.controller.js */ \"./src/controllers/document/document.controller.js\");\n/* harmony import */ var _middleware_authMiddleware_authMiddleware_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../middleware/authMiddleware/authMiddleware.js */ \"./src/middleware/authMiddleware/authMiddleware.js\");\n/* harmony import */ var _middleware_miniobucketMiddleware_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../middleware/miniobucketMiddleware.js */ \"./src/middleware/miniobucketMiddleware.js\");\n/* harmony import */ var _utils_minioSetup_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/minioSetup.js */ \"./src/utils/minioSetup.js\");\n/* harmony import */ var _controllers_file_letter_controller_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../controllers/file/letter.controller.js */ \"./src/controllers/file/letter.controller.js\");\n\n\n\n\n\n\n\n\nvar fileRouter = express__WEBPACK_IMPORTED_MODULE_0__.Router();\nfileRouter.post(\"/uploadFile\", _middleware_fileHandlingMiddleware_js__WEBPACK_IMPORTED_MODULE_2__.fileuploadMiddleware, _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.uploadFile);\nfileRouter.post(\"/createPolicy\", _middleware_authMiddleware_authMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.authorizationMiddeleware, _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.createPolicy);\nfileRouter.post(\"/setPolicyDetail\", _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.setPolicyDetail);\nfileRouter.get(\"/getFile/:docId\", _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.getFile);\nfileRouter.get(\"/getLetters\", _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.getLetters);\nfileRouter.get(\"/getLetter/:id\", _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.getLetterById);\nfileRouter.post(\"/saveLetter\", _controllers_file_letter_controller_js__WEBPACK_IMPORTED_MODULE_7__.saveLetter);\nfileRouter.post(\"/uploadTemplate\", _middleware_fileHandlingMiddleware_js__WEBPACK_IMPORTED_MODULE_2__.uploadTemplateMiddleware, _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.uploadTemplate);\nfileRouter.get(\"/getTemplateById/:id\", _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.getTemplateById);\nfileRouter.post(\"/updateDocument/:id\", _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.editDocument);\n// fileRouter.post(\"/saveAsPdf\", saveAsPdf);\nfileRouter.get(\"/getTemplate\", _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.gettemplates);\nfileRouter.get(\"/getAllTemplate\", _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.getAllTemplates);\nfileRouter.get(\"/getTemplateByStatus/:status\", _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.getAllTemplatesByStatus);\n// fileRouter.delete(\"/deleteTemplate\", deleteTemplate);\nfileRouter.get(\"/getpaginateddocuments\", _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.getpaginateddocuments);\nfileRouter.get(\"/getRecentPolicies\", _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.getRecentPolicies);\n\n// Document routes\nfileRouter.get(\"/document\", _controllers_document_document_controller_js__WEBPACK_IMPORTED_MODULE_3__.getPaginatedDocumentDetailsWithSearch);\n//bucket test endpoint\nfileRouter.post(\"/uploadLetter\", _middleware_miniobucketMiddleware_js__WEBPACK_IMPORTED_MODULE_5__.upload.single(\"file\"), _controllers_file_letter_controller_js__WEBPACK_IMPORTED_MODULE_7__.uploadLetter);\nfileRouter.get(\"/getLetterUrl/:filename\", _controllers_file_letter_controller_js__WEBPACK_IMPORTED_MODULE_7__.getUrl);\nfileRouter.post(\"/upload/signswift\", _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.uploadSignSwiftLetter);\nfileRouter.post(\"/upload/letterpdf\", _middleware_miniobucketMiddleware_js__WEBPACK_IMPORTED_MODULE_5__.upload.single(\"file\"), _controllers_file_File_controller_js__WEBPACK_IMPORTED_MODULE_1__.uploadLetterMinio);\nfileRouter.post(\"/upload/updateLetterStatus\", _controllers_file_letter_controller_js__WEBPACK_IMPORTED_MODULE_7__.updateLetterStatus);\nfileRouter.get(\"/letter/:id\", _controllers_file_letter_controller_js__WEBPACK_IMPORTED_MODULE_7__.getAllLetters);\nfileRouter[\"delete\"](\"/deleteLetter/:id\", _controllers_file_letter_controller_js__WEBPACK_IMPORTED_MODULE_7__.deleteLetter);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (fileRouter);\n\n//# sourceURL=webpack://backend/./src/routes/file.routes.js?");

/***/ }),

/***/ "./src/routes/globalsearch.routes.js":
/*!*******************************************!*\
  !*** ./src/routes/globalsearch.routes.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _controllers_search_globalSearch_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/search/globalSearch.js */ \"./src/controllers/search/globalSearch.js\");\n\n\nvar searchRouter = express__WEBPACK_IMPORTED_MODULE_0__.Router();\nsearchRouter.post(\"/search\", _controllers_search_globalSearch_js__WEBPACK_IMPORTED_MODULE_1__.globalSearch);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (searchRouter);\n\n//# sourceURL=webpack://backend/./src/routes/globalsearch.routes.js?");

/***/ }),

/***/ "./src/routes/notifications.routes.js":
/*!********************************************!*\
  !*** ./src/routes/notifications.routes.js ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _services_notification_services_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/notification.services.js */ \"./src/services/notification.services.js\");\n/* harmony import */ var _utils_generateNotification_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/generateNotification.js */ \"./src/utils/generateNotification.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\nvar notificationRouter = express__WEBPACK_IMPORTED_MODULE_0__.Router();\nnotificationRouter.get(\"/getNotification/:id\", /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var userId, groupId, notification, messages;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          userId = req.params.id;\n          groupId = req.query.role; //   console.log(userId, groupId);\n          _context.prev = 2;\n          _context.next = 5;\n          return (0,_services_notification_services_js__WEBPACK_IMPORTED_MODULE_1__.getNotification)(userId, groupId);\n        case 5:\n          notification = _context.sent;\n          messages = [];\n          notification.forEach(function (item) {\n            var entity_type = item === null || item === void 0 ? void 0 : item.entity_type;\n            var user_name = item === null || item === void 0 ? void 0 : item.first_name;\n            var entity_name = item === null || item === void 0 ? void 0 : item.entity_name;\n            console.log(entity_type, entity_name, user_name);\n            messages.push((0,_utils_generateNotification_js__WEBPACK_IMPORTED_MODULE_2__.generateNotificationMessage)({\n              entity_type: entity_type,\n              user_name: user_name,\n              entity_name: entity_name\n            }));\n          });\n          console.log(messages);\n          return _context.abrupt(\"return\", res.status(200).json({\n            success: true,\n            notification: messages\n          }));\n        case 12:\n          _context.prev = 12;\n          _context.t0 = _context[\"catch\"](2);\n          next(_context.t0);\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[2, 12]]);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (notificationRouter);\n\n//# sourceURL=webpack://backend/./src/routes/notifications.routes.js?");

/***/ }),

/***/ "./src/routes/user.routes.js":
/*!***********************************!*\
  !*** ./src/routes/user.routes.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _controllers_user_auth_controller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/user/auth.controller.js */ \"./src/controllers/user/auth.controller.js\");\n/* harmony import */ var _middleware_authMiddleware_authMiddleware_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../middleware/authMiddleware/authMiddleware.js */ \"./src/middleware/authMiddleware/authMiddleware.js\");\n\n\n\nvar userRouter = express__WEBPACK_IMPORTED_MODULE_0__.Router();\nuserRouter.post(\"/registerUser\", _middleware_authMiddleware_authMiddleware_js__WEBPACK_IMPORTED_MODULE_2__.registerMiddleware, _controllers_user_auth_controller_js__WEBPACK_IMPORTED_MODULE_1__.registerUser);\nuserRouter.post(\"/loginUser\", _middleware_authMiddleware_authMiddleware_js__WEBPACK_IMPORTED_MODULE_2__.loginMiddleware, _controllers_user_auth_controller_js__WEBPACK_IMPORTED_MODULE_1__.loginUser);\nuserRouter.get(\"/getAllUsers\", _controllers_user_auth_controller_js__WEBPACK_IMPORTED_MODULE_1__.getAllUsers);\nuserRouter.get(\"/getUsers\", _controllers_user_auth_controller_js__WEBPACK_IMPORTED_MODULE_1__.getUsers);\nuserRouter.post(\"/forgotPassword\", _controllers_user_auth_controller_js__WEBPACK_IMPORTED_MODULE_1__.forgotPassword);\nuserRouter.post(\"/resetPassword/:token\", _middleware_authMiddleware_authMiddleware_js__WEBPACK_IMPORTED_MODULE_2__.tokenMiddleware, _middleware_authMiddleware_authMiddleware_js__WEBPACK_IMPORTED_MODULE_2__.resetPasswordMiddleware, _controllers_user_auth_controller_js__WEBPACK_IMPORTED_MODULE_1__.resetPassword);\nuserRouter.post(\"/resetPassword\", _middleware_authMiddleware_authMiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authorizationMiddeleware, _middleware_authMiddleware_authMiddleware_js__WEBPACK_IMPORTED_MODULE_2__.resetPasswordMiddleware, _controllers_user_auth_controller_js__WEBPACK_IMPORTED_MODULE_1__.resetPasswordAuth);\nuserRouter.get(\"/getUserInfo\", _middleware_authMiddleware_authMiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authorizationMiddeleware, _controllers_user_auth_controller_js__WEBPACK_IMPORTED_MODULE_1__.getUserInfo);\nuserRouter.get(\"/getUserById/:id\", _controllers_user_auth_controller_js__WEBPACK_IMPORTED_MODULE_1__.getUserInfoById);\nuserRouter.get(\"/getUserInfo/:id\", _controllers_user_auth_controller_js__WEBPACK_IMPORTED_MODULE_1__.getUserInfoById);\nuserRouter.post(\"/sendInvite\", _controllers_user_auth_controller_js__WEBPACK_IMPORTED_MODULE_1__.sendInvite);\nuserRouter.post(\"/accountsetup\", _middleware_authMiddleware_authMiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authorizationMiddeleware, _controllers_user_auth_controller_js__WEBPACK_IMPORTED_MODULE_1__.setupAccount);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (userRouter);\n\n//# sourceURL=webpack://backend/./src/routes/user.routes.js?");

/***/ }),

/***/ "./src/routes/versioncontrol.routes.js":
/*!*********************************************!*\
  !*** ./src/routes/versioncontrol.routes.js ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _controllers_document_document_controller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/document/document.controller.js */ \"./src/controllers/document/document.controller.js\");\n/* harmony import */ var _controllers_template_template_controller_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/template/template.controller.js */ \"./src/controllers/template/template.controller.js\");\n/* harmony import */ var _middleware_fileHandlingMiddleware_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../middleware/fileHandlingMiddleware.js */ \"./src/middleware/fileHandlingMiddleware.js\");\n/* harmony import */ var _controllers_versioncontrol_document_controller_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controllers/versioncontrol/document.controller.js */ \"./src/controllers/versioncontrol/document.controller.js\");\n\n\n\n\n\nvar versionControlRouter = express__WEBPACK_IMPORTED_MODULE_0__.Router();\nversionControlRouter.post(\"/createDocumentVersion\", _controllers_document_document_controller_js__WEBPACK_IMPORTED_MODULE_1__.createDocumentVersion);\nversionControlRouter.get(\"/getDocumentVersionsDatewise\", _middleware_fileHandlingMiddleware_js__WEBPACK_IMPORTED_MODULE_3__.checkDocIdMiddleware, _controllers_document_document_controller_js__WEBPACK_IMPORTED_MODULE_1__.getDocumentVersionsDatewise);\nversionControlRouter.get(\"/getDocumentVersionById\", _middleware_fileHandlingMiddleware_js__WEBPACK_IMPORTED_MODULE_3__.checkIdMiddleware, _controllers_document_document_controller_js__WEBPACK_IMPORTED_MODULE_1__.getDocumentVersionById);\nversionControlRouter.post(\"/createTemplateVersion\", _middleware_fileHandlingMiddleware_js__WEBPACK_IMPORTED_MODULE_3__.createVersionMiddleware, _controllers_template_template_controller_js__WEBPACK_IMPORTED_MODULE_2__.createTemplateVersion);\nversionControlRouter.get(\"/getTemplateVersionsDatewise\", _middleware_fileHandlingMiddleware_js__WEBPACK_IMPORTED_MODULE_3__.checkDocIdMiddleware, _controllers_template_template_controller_js__WEBPACK_IMPORTED_MODULE_2__.getTemplateVersionsDatewise);\nversionControlRouter.get(\"/getTemplateVersionById\", _middleware_fileHandlingMiddleware_js__WEBPACK_IMPORTED_MODULE_3__.checkIdMiddleware, _controllers_template_template_controller_js__WEBPACK_IMPORTED_MODULE_2__.getTemplateVersionById);\nversionControlRouter.get(\"/getVersions\", _controllers_versioncontrol_document_controller_js__WEBPACK_IMPORTED_MODULE_4__.getVersions);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (versionControlRouter);\n\n//# sourceURL=webpack://backend/./src/routes/versioncontrol.routes.js?");

/***/ }),

/***/ "./src/routes/webhook.routes.js":
/*!**************************************!*\
  !*** ./src/routes/webhook.routes.js ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _controllers_file_letter_controller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/file/letter.controller.js */ \"./src/controllers/file/letter.controller.js\");\n\n\nvar hookRouter = express__WEBPACK_IMPORTED_MODULE_0__.Router();\nhookRouter.post(\"/updateLetterStatus/:id\", _controllers_file_letter_controller_js__WEBPACK_IMPORTED_MODULE_1__.updateLetterStatushook);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (hookRouter);\n\n//# sourceURL=webpack://backend/./src/routes/webhook.routes.js?");

/***/ }),

/***/ "./src/services/category.services.js":
/*!*******************************************!*\
  !*** ./src/services/category.services.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNewCategoryService: () => (/* binding */ createNewCategoryService),\n/* harmony export */   deleteCategoryService: () => (/* binding */ deleteCategoryService),\n/* harmony export */   editCategoryService: () => (/* binding */ editCategoryService),\n/* harmony export */   getAllCategoriesService: () => (/* binding */ getAllCategoriesService),\n/* harmony export */   getDocumentCategoryNamesService: () => (/* binding */ getDocumentCategoryNamesService)\n/* harmony export */ });\n/* harmony import */ var _query_category_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../query/category.js */ \"./src/query/category.js\");\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Error/customError.js */ \"./src/Error/customError.js\");\n/* harmony import */ var random_hex_color_generator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! random-hex-color-generator */ \"random-hex-color-generator\");\n/* harmony import */ var _utils_dummy_categorysvg_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/dummy/categorysvg.js */ \"./src/utils/dummy/categorysvg.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\nvar createNewCategoryService = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(body) {\n    var category, color, svg, isActive, createdCategoryResult, data;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          category = body.category;\n          _context.prev = 1;\n          color = (0,random_hex_color_generator__WEBPACK_IMPORTED_MODULE_2__.randomHexColor)();\n          svg = _utils_dummy_categorysvg_js__WEBPACK_IMPORTED_MODULE_3__.dummy_svg[Math.floor(Math.random() * 9)]; // console.log(color, svg);\n          isActive = true;\n          _context.next = 7;\n          return (0,_query_category_js__WEBPACK_IMPORTED_MODULE_0__.createCategory)({\n            category: category,\n            isActive: isActive,\n            color: color,\n            svg: svg\n          });\n        case 7:\n          createdCategoryResult = _context.sent;\n          data = {\n            length: createdCategoryResult.rowCount,\n            data: createdCategoryResult.rows\n          };\n          return _context.abrupt(\"return\", data);\n        case 12:\n          _context.prev = 12;\n          _context.t0 = _context[\"catch\"](1);\n          throw _context.t0;\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 12]]);\n  }));\n  return function createNewCategoryService(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getAllCategoriesService = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var returnedCategories, data;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return (0,_query_category_js__WEBPACK_IMPORTED_MODULE_0__.getAllCategory)();\n        case 3:\n          returnedCategories = _context2.sent;\n          if (!(returnedCategories.rowCount != 0 || null)) {\n            _context2.next = 9;\n            break;\n          }\n          data = {\n            length: returnedCategories.rowCount,\n            rows: returnedCategories.rows\n          };\n          return _context2.abrupt(\"return\", data);\n        case 9:\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.NotFoundError('No categories exists.');\n        case 10:\n          _context2.next = 15;\n          break;\n        case 12:\n          _context2.prev = 12;\n          _context2.t0 = _context2[\"catch\"](0);\n          throw _context2.t0;\n        case 15:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 12]]);\n  }));\n  return function getAllCategoriesService() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar deleteCategoryService = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(body) {\n    var id, type, deleteCategoryresut, data;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          id = body.id;\n          type = \"delete\";\n          _context3.prev = 2;\n          _context3.next = 5;\n          return (0,_query_category_js__WEBPACK_IMPORTED_MODULE_0__.updateCategory)({\n            id: id,\n            type: type\n          });\n        case 5:\n          deleteCategoryresut = _context3.sent;\n          console.log(deleteCategoryresut.rowCount);\n          if (!(deleteCategoryresut.rowCount != 0)) {\n            _context3.next = 12;\n            break;\n          }\n          data = {\n            length: deleteCategoryresut.rowCount,\n            rows: deleteCategoryresut.rows\n          };\n          return _context3.abrupt(\"return\", data);\n        case 12:\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.NotFoundError('No Category found to delete.');\n        case 13:\n          _context3.next = 18;\n          break;\n        case 15:\n          _context3.prev = 15;\n          _context3.t0 = _context3[\"catch\"](2);\n          throw _context3.t0;\n        case 18:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[2, 15]]);\n  }));\n  return function deleteCategoryService(_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar editCategoryService = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(body) {\n    var id, category, type, editCategoryresut, data;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          id = body.id, category = body.category;\n          type = \"edit\";\n          if (!(category === '' || null)) {\n            _context4.next = 4;\n            break;\n          }\n          throw (0,_Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.ValidationError)(\"Category name should not be empty.\");\n        case 4:\n          _context4.prev = 4;\n          _context4.next = 7;\n          return (0,_query_category_js__WEBPACK_IMPORTED_MODULE_0__.updateCategory)({\n            id: id,\n            category: category,\n            type: type\n          });\n        case 7:\n          editCategoryresut = _context4.sent;\n          if (!(editCategoryresut.rowCount != 0)) {\n            _context4.next = 13;\n            break;\n          }\n          data = {\n            length: editCategoryresut.rowCount,\n            rows: editCategoryresut.rows\n          };\n          return _context4.abrupt(\"return\", data);\n        case 13:\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.NotFoundError(\"Category not found to update.\");\n        case 14:\n          _context4.next = 19;\n          break;\n        case 16:\n          _context4.prev = 16;\n          _context4.t0 = _context4[\"catch\"](4);\n          throw _context4.t0;\n        case 19:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[4, 16]]);\n  }));\n  return function editCategoryService(_x3) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar getDocumentCategoryNamesService = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function getDocumentCategoryNamesService() {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/services/category.services.js?");

/***/ }),

/***/ "./src/services/file.services.js":
/*!***************************************!*\
  !*** ./src/services/file.services.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createPolicy: () => (/* binding */ createPolicy),\n/* harmony export */   getPaginatedDocumentDetailsWithSearchService: () => (/* binding */ getPaginatedDocumentDetailsWithSearchService),\n/* harmony export */   getTemplateByIdService: () => (/* binding */ getTemplateByIdService),\n/* harmony export */   uploadTemplateService: () => (/* binding */ uploadTemplateService)\n/* harmony export */ });\n/* unused harmony exports fileuploadService, getFileService */\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Error/customError.js */ \"./src/Error/customError.js\");\n/* harmony import */ var _core_database_db_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/database/db.js */ \"./src/core/database/db.js\");\n/* harmony import */ var _query_file_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../query/file.js */ \"./src/query/file.js\");\n/* harmony import */ var _utils_getPagination_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/getPagination.js */ \"./src/utils/getPagination.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\nvar fileuploadService = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(htmlText, docId, res) {\n    var document;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return (0,_query_file_js__WEBPACK_IMPORTED_MODULE_2__.updateDocument)({\n            htmlText: htmlText,\n            docId: docId\n          });\n        case 3:\n          document = _context.sent;\n          if (!(document.rowCount === 0)) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"File not uploaded doc id may not exist\"\n          }));\n        case 6:\n          return _context.abrupt(\"return\", res.status(201).json({\n            success: true,\n            message: \"File uploaded\"\n          }));\n        case 9:\n          _context.prev = 9;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: _context.t0.message,\n            success: false\n          }));\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 9]]);\n  }));\n  return function fileuploadService(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getFileService = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(docId, res) {\n    var document;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          document = (0,_query_file_js__WEBPACK_IMPORTED_MODULE_2__.getDocumentById)({\n            docId: docId\n          });\n          if (!(document.rows.length === 0)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"File not found ,invalid document id\"\n          }));\n        case 4:\n          return _context2.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"File fetched\",\n            data: document.rows[0]\n          }));\n        case 7:\n          _context2.prev = 7;\n          _context2.t0 = _context2[\"catch\"](0);\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: _context2.t0.message,\n            success: false\n          }));\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n  return function getFileService(_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar uploadTemplateService = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(res, name, description, categoryId, htmlData, htmlJson, userid) {\n    var result;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return (0,_query_file_js__WEBPACK_IMPORTED_MODULE_2__.uploadTemplate)({\n            name: name,\n            description: description,\n            categoryId: categoryId,\n            htmlData: htmlData,\n            htmlJson: htmlJson,\n            userid: userid\n          });\n        case 3:\n          result = _context3.sent;\n          if (result) {\n            _context3.next = 6;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            success: false,\n            message: \"Template not uploaded\"\n          }));\n        case 6:\n          return _context3.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"Template uploaded\"\n          }));\n        case 9:\n          _context3.prev = 9;\n          _context3.t0 = _context3[\"catch\"](0);\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: _context3.t0.message,\n            success: false\n          }));\n        case 12:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 9]]);\n  }));\n  return function uploadTemplateService(_x6, _x7, _x8, _x9, _x10, _x11, _x12) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar getTemplateByIdService = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(res, id) {\n    var result;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return (0,_query_file_js__WEBPACK_IMPORTED_MODULE_2__.getTemplate)({\n            id: id\n          });\n        case 3:\n          result = _context4.sent;\n          if (!(result.rows.length === 0)) {\n            _context4.next = 6;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            success: false,\n            message: \"No template found\"\n          }));\n        case 6:\n          return _context4.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: \"Template fetched\",\n            data: result.rows\n          }));\n        case 9:\n          _context4.prev = 9;\n          _context4.t0 = _context4[\"catch\"](0);\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: _context4.t0.message,\n            success: false\n          }));\n        case 12:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 9]]);\n  }));\n  return function getTemplateByIdService(_x13, _x14) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar createPolicy = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(body, userid) {\n    var htmlText, htmlJson, categoryId, title, htmlData, document;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          htmlText = body.htmlText, htmlJson = body.htmlJson, categoryId = body.categoryId, title = body.title;\n          htmlData = Buffer.from(htmlText, \"utf8\");\n          console.log();\n          console.log(\"hit\");\n          _context5.prev = 4;\n          _context5.next = 7;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_1__.pool.query(\"INSERT INTO  document   (htmldata,category_id,title,htmljson,created_by) VALUES($1,$2,$3,$4,$5) RETURNING *\", [htmlData, categoryId, title, htmlJson, userid]);\n        case 7:\n          document = _context5.sent;\n          return _context5.abrupt(\"return\", document.rows[0]);\n        case 11:\n          _context5.prev = 11;\n          _context5.t0 = _context5[\"catch\"](4);\n          console.log(_context5.t0.message);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.DatabaseError(\"cant create policy\");\n        case 15:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[4, 11]]);\n  }));\n  return function createPolicy(_x15, _x16) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar getPaginatedDocumentDetailsWithSearchService = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req) {\n    var _query$orderByDirecti;\n    var query, title, category, page, size, _getPagination, limit, offset, orderByColumn, orderByDirection, response, data;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          query = req.query;\n          title = req.query.title;\n          category = req.query.category;\n          console.log(title);\n          //  /document?page=1&size=2\n          page = parseInt(query.page);\n          size = parseInt(query.size);\n          _getPagination = (0,_utils_getPagination_js__WEBPACK_IMPORTED_MODULE_3__.getPagination)(page, size), limit = _getPagination.limit, offset = _getPagination.offset;\n          console.log(category);\n          //order by\n          orderByColumn = (query === null || query === void 0 ? void 0 : query.orderByColumn) || \"created_at\";\n          orderByDirection = (query === null || query === void 0 || (_query$orderByDirecti = query.orderByDirection) === null || _query$orderByDirecti === void 0 ? void 0 : _query$orderByDirecti.toUpperCase()) || \"ASC\";\n          _context6.prev = 10;\n          if (!(category !== \"Draft\")) {\n            _context6.next = 17;\n            break;\n          }\n          _context6.next = 14;\n          return (0,_query_file_js__WEBPACK_IMPORTED_MODULE_2__.getPaginatedDocumentDetailsWithSearch)([limit, offset, title, category], orderByColumn, orderByDirection);\n        case 14:\n          response = _context6.sent;\n          _context6.next = 21;\n          break;\n        case 17:\n          category = \"\";\n          _context6.next = 20;\n          return (0,_query_file_js__WEBPACK_IMPORTED_MODULE_2__.getPaginatedDocumentDetailsWithSearchForDraft)([limit, offset, title, category], orderByColumn, orderByDirection);\n        case 20:\n          response = _context6.sent;\n        case 21:\n          if (!(response.rowCount != 0 || null)) {\n            _context6.next = 26;\n            break;\n          }\n          data = {\n            length: response.rowCount,\n            rows: response.rows\n          };\n          return _context6.abrupt(\"return\", data);\n        case 26:\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.NotFoundError(\"No documents found.\");\n        case 27:\n          _context6.next = 32;\n          break;\n        case 29:\n          _context6.prev = 29;\n          _context6.t0 = _context6[\"catch\"](10);\n          throw _context6.t0;\n        case 32:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[10, 29]]);\n  }));\n  return function getPaginatedDocumentDetailsWithSearchService(_x17) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/services/file.services.js?");

/***/ }),

/***/ "./src/services/notification.services.js":
/*!***********************************************!*\
  !*** ./src/services/notification.services.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add_notification: () => (/* binding */ add_notification),\n/* harmony export */   getNotification: () => (/* binding */ getNotification)\n/* harmony export */ });\n/* unused harmony exports createNotification, createBroadCastNotification, createNotificationObject, createNotificationChange */\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Error/customError.js */ \"./src/Error/customError.js\");\n/* harmony import */ var _core_database_db_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/database/db.js */ \"./src/core/database/db.js\");\n/* harmony import */ var _utils_getPagination_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/getPagination.js */ \"./src/utils/getPagination.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\nvar createNotification = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(notificationObjectId, notifier_id, status) {\n    var query, values;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          query = \" INSERT INTO notification (notification_object_id, notifier_id, status)\\nVALUES ($1, $2, $3)\\nRETURNING *\"; //notifier id can be 1,2,3 so on\n          _context.prev = 1;\n          _context.next = 4;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_1__.pool.query(query, [notificationObjectId, notifier_id, status]);\n        case 4:\n          values = _context.sent;\n          _context.next = 10;\n          break;\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](1);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.DatabaseError(\"error in creating notification\");\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 7]]);\n  }));\n  return function createNotification(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar createBroadCastNotification = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(notificationObjectId, group_id, status) {\n    var query, values;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          query = \" INSERT INTO notification (notification_object_id,broadcast_id, status,broadcast,notifier_id)\\n  VALUES ($1, $2, $3,$4,$5)\\n  RETURNING *\"; //notifier id can be 1,2,3 so on\n          _context2.prev = 1;\n          _context2.next = 4;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_1__.pool.query(query, [notificationObjectId, group_id, status, true, 0]);\n        case 4:\n          values = _context2.sent;\n          _context2.next = 11;\n          break;\n        case 7:\n          _context2.prev = 7;\n          _context2.t0 = _context2[\"catch\"](1);\n          console.log(_context2.t0);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.DatabaseError(\"error in creating notification\");\n        case 11:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 7]]);\n  }));\n  return function createBroadCastNotification(_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar createNotificationObject = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(entity_type, entity_id, status, entity_group) {\n    var query, values;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          //entity_group->letter and poilyc\n          //entity_type->notif type\n          //enity id->like document id ,letter id that trigger notification\n          //status ->1\n          query = \"INSERT INTO notification_object (entity_type,entity_id,status,entity_group)\\n    VALUES ($1, $2, $3,$4)\\n    RETURNING * \";\n          _context3.prev = 1;\n          _context3.next = 4;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_1__.pool.query(query, [entity_type, entity_id, status, entity_group]);\n        case 4:\n          values = _context3.sent;\n          return _context3.abrupt(\"return\", values.rows[0].id);\n        case 8:\n          _context3.prev = 8;\n          _context3.t0 = _context3[\"catch\"](1);\n          console.log(_context3.t0);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.DatabaseError(\"error in creating notification\");\n        case 12:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 8]]);\n  }));\n  return function createNotificationObject(_x7, _x8, _x9, _x10) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n//this is for saving who trigger what notification actor id->created by whom\nvar createNotificationChange = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(notification_object_id, actor_id) {\n    var query, values;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          query = \"INSERT INTO notification_change (notification_object_id,actor_id)\\n    VALUES ($1, $2)\\n    RETURNING * \";\n          _context4.prev = 1;\n          _context4.next = 4;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_1__.pool.query(query, [notification_object_id, actor_id]);\n        case 4:\n          values = _context4.sent;\n          return _context4.abrupt(\"return\", values.rows[0].id);\n        case 8:\n          _context4.prev = 8;\n          _context4.t0 = _context4[\"catch\"](1);\n          console.log(_context4.t0);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.DatabaseError(\"error in creating notification\");\n        case 12:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[1, 8]]);\n  }));\n  return function createNotificationChange(_x11, _x12) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar getNotification = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(userId, group_id) {\n    var query, notifications;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          query = \"\\n  SELECT \\n    n.*, \\n    CASE \\n        WHEN no.entity_group LIKE 'LETTER' THEN l.filepath \\n        WHEN no.entity_group LIKE 'POLICY' THEN p.title\\n        ELSE 'Unknown Entity'\\n    END AS entity_name,\\n    no.entity_type, \\n    no.entity_id,\\n    nc.actor_id,\\n    u.first_name,\\n    u.last_name\\nFROM \\n    notification n\\nJOIN \\n    notification_object no ON n.notification_object_id = no.id\\nJOIN\\n    notification_change nc ON n.notification_object_id = nc.notification_object_id\\nJOIN\\n    user_table u ON nc.actor_id = u.id\\nLEFT JOIN\\n    letters l ON no.entity_id = l.id AND no.entity_group = 'LETTER'\\nLEFT JOIN\\n    document p ON no.entity_id = p.id AND no.entity_group = 'POLICY'\\nWHERE \\n    (n.notifier_id = $1 OR n.broadcast = true)\\n    OR\\n    (n.broadcast = true AND n.broadcast_id=$2)\\nORDER BY \\n    n.id DESC;\\n  \";\n          _context5.prev = 1;\n          _context5.next = 4;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_1__.pool.query(query, [userId, group_id]);\n        case 4:\n          notifications = _context5.sent;\n          console.log(\"notification are\", notifications.rows);\n          return _context5.abrupt(\"return\", notifications.rows);\n        case 9:\n          _context5.prev = 9;\n          _context5.t0 = _context5[\"catch\"](1);\n          console.log(_context5.t0);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_0__.DatabaseError(\"some error in getting notification\");\n        case 13:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[1, 9]]);\n  }));\n  return function getNotification(_x13, _x14) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar add_notification = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(entity_type, entity_id, entity_group, notifier_id, actor_id) {\n    var group_id,\n      notificationObjectId,\n      _args6 = arguments;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          group_id = _args6.length > 5 && _args6[5] !== undefined ? _args6[5] : null;\n          _context6.prev = 1;\n          _context6.next = 4;\n          return createNotificationObject(entity_type, entity_id, 1, entity_group);\n        case 4:\n          notificationObjectId = _context6.sent;\n          _context6.next = 7;\n          return createNotificationChange(notificationObjectId, actor_id);\n        case 7:\n          if (!group_id) {\n            _context6.next = 12;\n            break;\n          }\n          _context6.next = 10;\n          return createBroadCastNotification(notificationObjectId, group_id, 1);\n        case 10:\n          _context6.next = 14;\n          break;\n        case 12:\n          _context6.next = 14;\n          return createNotification(notificationObjectId, notifier_id, 1);\n        case 14:\n          return _context6.abrupt(\"return\", \"Notification generated successfully\");\n        case 17:\n          _context6.prev = 17;\n          _context6.t0 = _context6[\"catch\"](1);\n          // Handle errors\n          console.error(\"Error generating notification:\", _context6.t0.message);\n          throw _context6.t0;\n        case 21:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[1, 17]]);\n  }));\n  return function add_notification(_x15, _x16, _x17, _x18, _x19) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/services/notification.services.js?");

/***/ }),

/***/ "./src/services/user.Services.js":
/*!***************************************!*\
  !*** ./src/services/user.Services.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   forgotPasswordService: () => (/* binding */ forgotPasswordService),\n/* harmony export */   getAllUserService: () => (/* binding */ getAllUserService),\n/* harmony export */   getUsersService: () => (/* binding */ getUsersService),\n/* harmony export */   loginUserService: () => (/* binding */ loginUserService),\n/* harmony export */   registerUserService: () => (/* binding */ registerUserService),\n/* harmony export */   resetPasswordAuth: () => (/* binding */ resetPasswordAuth),\n/* harmony export */   resetPasswordService: () => (/* binding */ resetPasswordService),\n/* harmony export */   sendEmailService: () => (/* binding */ sendEmailService),\n/* harmony export */   sendInvite: () => (/* binding */ sendInvite),\n/* harmony export */   updateUserService: () => (/* binding */ updateUserService)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var _core_Email_sendEmail_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Email/sendEmail.js */ \"./src/core/Email/sendEmail.js\");\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Error/customError.js */ \"./src/Error/customError.js\");\n/* harmony import */ var _utils_randomPasswordGenerator_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/randomPasswordGenerator.js */ \"./src/utils/randomPasswordGenerator.js\");\n/* harmony import */ var _query_user_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../query/user.js */ \"./src/query/user.js\");\n/* harmony import */ var _utils_generateHashPassword_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/generateHashPassword.js */ \"./src/utils/generateHashPassword.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\n\n\nvar registerUserService = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(body) {\n    var firstName, lastName, email, password, updatedBy, salt, hashedPassword, user, isActive, createdUserResult, createdUser;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // admin register user with false reset_password\n          firstName = body.firstName, lastName = body.lastName, email = body.email, password = body.password, updatedBy = body.updatedBy;\n          _context.next = 3;\n          return bcryptjs__WEBPACK_IMPORTED_MODULE_0__.genSalt(10);\n        case 3:\n          salt = _context.sent;\n          _context.next = 6;\n          return bcryptjs__WEBPACK_IMPORTED_MODULE_0__.hash(password, salt);\n        case 6:\n          hashedPassword = _context.sent;\n          _context.prev = 7;\n          _context.next = 10;\n          return (0,_query_user_js__WEBPACK_IMPORTED_MODULE_5__.getUser)({\n            email: email\n          });\n        case 10:\n          user = _context.sent;\n          if (!(user.rows.length > 0)) {\n            _context.next = 13;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.ConflictError(\"User email already Exist\");\n        case 13:\n          _context.next = 18;\n          break;\n        case 15:\n          _context.prev = 15;\n          _context.t0 = _context[\"catch\"](7);\n          throw _context.t0;\n        case 18:\n          _context.prev = 18;\n          console.log(firstName, lastName, email, password);\n          isActive = true;\n          _context.next = 23;\n          return (0,_query_user_js__WEBPACK_IMPORTED_MODULE_5__.createUser)({\n            firstName: firstName,\n            lastName: lastName,\n            email: email,\n            hashedPassword: hashedPassword,\n            isActive: isActive\n          });\n        case 23:\n          createdUserResult = _context.sent;\n          createdUser = createdUserResult.rows[0];\n          delete createdUser[\"password\"];\n          return _context.abrupt(\"return\", createdUser);\n        case 29:\n          _context.prev = 29;\n          _context.t1 = _context[\"catch\"](18);\n          throw _context.t1;\n        case 32:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[7, 15], [18, 29]]);\n  }));\n  return function registerUserService(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar updateUserService = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(body) {\n    var firstName, lastName, email, password, updatedBy, salt, hashedPassword, isActive, createdUserResult;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // admin register user with false reset_password\n          firstName = body.firstName, lastName = body.lastName, email = body.email, password = body.password, updatedBy = body.updatedBy;\n          console.log(body);\n          console.log(firstName, lastName, email, password);\n          _context2.next = 5;\n          return bcryptjs__WEBPACK_IMPORTED_MODULE_0__.genSalt(10);\n        case 5:\n          salt = _context2.sent;\n          _context2.next = 8;\n          return bcryptjs__WEBPACK_IMPORTED_MODULE_0__.hash(password, salt);\n        case 8:\n          hashedPassword = _context2.sent;\n          _context2.prev = 9;\n          console.log(firstName, lastName, email, hashedPassword);\n          isActive = true;\n          _context2.next = 14;\n          return (0,_query_user_js__WEBPACK_IMPORTED_MODULE_5__.updatedUser)({\n            firstName: firstName,\n            lastName: lastName,\n            email: email,\n            hashedPassword: hashedPassword,\n            isActive: isActive\n          });\n        case 14:\n          createdUserResult = _context2.sent;\n          return _context2.abrupt(\"return\", createdUserResult.rows[0]);\n        case 18:\n          _context2.prev = 18;\n          _context2.t0 = _context2[\"catch\"](9);\n          throw _context2.t0;\n        case 21:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[9, 18]]);\n  }));\n  return function updateUserService(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar loginUserService = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(body) {\n    var email, password, user, validPassword, token, users;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          email = body.email, password = body.password;\n          _context3.prev = 1;\n          _context3.next = 4;\n          return (0,_query_user_js__WEBPACK_IMPORTED_MODULE_5__.getUser)({\n            email: email\n          });\n        case 4:\n          user = _context3.sent;\n          console.log(\"email\", user.rows[0]);\n          if (!(user.rows.length === 0)) {\n            _context3.next = 8;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.NotFoundError(\"User not found\");\n        case 8:\n          _context3.next = 10;\n          return bcryptjs__WEBPACK_IMPORTED_MODULE_0__.compare(password, user.rows[0].password);\n        case 10:\n          validPassword = _context3.sent;\n          if (validPassword) {\n            _context3.next = 13;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.ValidationError(\"invalid credentials\");\n        case 13:\n          token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__.sign({\n            id: user.rows[0].id\n          }, process.env.JWT_SECRET, {\n            expiresIn: process.env.JWT_EXPIRY_TIME\n          }); // console.log(\"oooooooooooooooooooooo\", user.rows[0].first_name);\n          if (!(user.rows[0].first_name === '' || user.rows[0].first_name === null)) {\n            _context3.next = 16;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.AccountSetupError(\"User account is not setup\", token);\n        case 16:\n          users = user.rows[0];\n          delete users[\"password\"];\n          return _context3.abrupt(\"return\", {\n            users: users,\n            token: token\n          });\n        case 21:\n          _context3.prev = 21;\n          _context3.t0 = _context3[\"catch\"](1);\n          throw _context3.t0;\n        case 24:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 21]]);\n  }));\n  return function loginUserService(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar getAllUserService = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n    var data;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return (0,_query_user_js__WEBPACK_IMPORTED_MODULE_5__.getAllUser)();\n        case 3:\n          data = _context4.sent;\n          if (!(data.rows.length === 0)) {\n            _context4.next = 6;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.NotFoundError(\"User not found\");\n        case 6:\n          return _context4.abrupt(\"return\", data.rows);\n        case 9:\n          _context4.prev = 9;\n          _context4.t0 = _context4[\"catch\"](0);\n          throw _context4.t0;\n        case 12:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 9]]);\n  }));\n  return function getAllUserService() {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar forgotPasswordService = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(email) {\n    var user, secretToken;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          _context5.next = 3;\n          return (0,_query_user_js__WEBPACK_IMPORTED_MODULE_5__.getUser)({\n            email: email\n          });\n        case 3:\n          user = _context5.sent;\n          if (!(user.rows.length === 0)) {\n            _context5.next = 6;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.NotFoundError(\"User not found\");\n        case 6:\n          _context5.prev = 6;\n          secretToken = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__.sign({\n            id: user.rows[0].id\n          }, process.env.JWT_SECRET, {\n            expiresIn: \"1h\"\n          });\n          return _context5.abrupt(\"return\", secretToken);\n        case 11:\n          _context5.prev = 11;\n          _context5.t0 = _context5[\"catch\"](6);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.DatabaseError(\"error in generating token\");\n        case 14:\n          _context5.next = 19;\n          break;\n        case 16:\n          _context5.prev = 16;\n          _context5.t1 = _context5[\"catch\"](0);\n          throw _context5.t1;\n        case 19:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[0, 16], [6, 11]]);\n  }));\n  return function forgotPasswordService(_x4) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar sendEmailService = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(email, secretToken) {\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          _context6.next = 3;\n          return (0,_core_Email_sendEmail_js__WEBPACK_IMPORTED_MODULE_2__.sendEmail)(email, secretToken);\n        case 3:\n          _context6.next = 8;\n          break;\n        case 5:\n          _context6.prev = 5;\n          _context6.t0 = _context6[\"catch\"](0);\n          throw _context6.t0;\n        case 8:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[0, 5]]);\n  }));\n  return function sendEmailService(_x5, _x6) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar resetPasswordService = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(password, userId) {\n    var salt, hashedPassword, _updatedUser, users, token2;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          _context7.next = 3;\n          return bcryptjs__WEBPACK_IMPORTED_MODULE_0__.genSalt(10);\n        case 3:\n          salt = _context7.sent;\n          _context7.next = 6;\n          return bcryptjs__WEBPACK_IMPORTED_MODULE_0__.hash(password, salt);\n        case 6:\n          hashedPassword = _context7.sent;\n          _context7.next = 9;\n          return (0,_query_user_js__WEBPACK_IMPORTED_MODULE_5__.updatePassword)({\n            hashedPassword: hashedPassword,\n            userId: userId\n          });\n        case 9:\n          _updatedUser = _context7.sent;\n          users = _updatedUser.rows[0];\n          token2 = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__.sign({\n            id: userId\n          }, process.env.JWT_SECRET, {\n            expiresIn: process.env.JWT_EXPIRY_TIME\n          });\n          delete users[\"password\"];\n          console.log(users, token2);\n          return _context7.abrupt(\"return\", {\n            users: users,\n            token2: token2\n          });\n        case 17:\n          _context7.prev = 17;\n          _context7.t0 = _context7[\"catch\"](0);\n          throw _context7.t0;\n        case 20:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[0, 17]]);\n  }));\n  return function resetPasswordService(_x7, _x8) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nvar resetPasswordAuth = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(password, userId) {\n    var salt, hashedPassword, _updatedUser2, token, user;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.prev = 0;\n          _context8.next = 3;\n          return bcryptjs__WEBPACK_IMPORTED_MODULE_0__.genSalt(10);\n        case 3:\n          salt = _context8.sent;\n          _context8.next = 6;\n          return bcryptjs__WEBPACK_IMPORTED_MODULE_0__.hash(password, salt);\n        case 6:\n          hashedPassword = _context8.sent;\n          _context8.next = 9;\n          return (0,_query_user_js__WEBPACK_IMPORTED_MODULE_5__.updatePassword)({\n            hashedPassword: hashedPassword,\n            userId: userId\n          });\n        case 9:\n          _updatedUser2 = _context8.sent;\n          token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__.sign({\n            id: userId\n          }, process.env.JWT_SECRET, {\n            expiresIn: process.env.JWT_EXPIRY_TIME\n          });\n          user = _updatedUser2.rows[0];\n          delete user[\"password\"];\n          return _context8.abrupt(\"return\", {\n            user: user,\n            token: token\n          });\n        case 16:\n          _context8.prev = 16;\n          _context8.t0 = _context8[\"catch\"](0);\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.ValidationError(\"error in reseting password\");\n        case 19:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8, null, [[0, 16]]);\n  }));\n  return function resetPasswordAuth(_x9, _x10) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nvar sendInvite = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(body) {\n    var email, firstName, lastName, user, password, hashedPassword, isActive, newUser, mailsuccess;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.prev = 0;\n          email = body.email;\n          if (email) {\n            _context9.next = 4;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.ValidationError(\"missing fields\");\n        case 4:\n          firstName = \"\";\n          lastName = \"\";\n          _context9.next = 8;\n          return (0,_query_user_js__WEBPACK_IMPORTED_MODULE_5__.getUser)({\n            email: email\n          });\n        case 8:\n          user = _context9.sent;\n          if (!(user.rows.length > 0)) {\n            _context9.next = 13;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.ConflictError(\"User email already Exist\");\n        case 13:\n          password = (0,_utils_randomPasswordGenerator_js__WEBPACK_IMPORTED_MODULE_4__.generatePassword)();\n          _context9.next = 16;\n          return (0,_utils_generateHashPassword_js__WEBPACK_IMPORTED_MODULE_6__.generateHashPassword)(password);\n        case 16:\n          hashedPassword = _context9.sent;\n          isActive = true;\n          if (!hashedPassword) {\n            _context9.next = 27;\n            break;\n          }\n          _context9.next = 21;\n          return (0,_query_user_js__WEBPACK_IMPORTED_MODULE_5__.createUser)({\n            email: email,\n            hashedPassword: hashedPassword,\n            isActive: isActive\n          });\n        case 21:\n          newUser = _context9.sent;\n          if (!newUser) {\n            _context9.next = 27;\n            break;\n          }\n          _context9.next = 25;\n          return (0,_core_Email_sendEmail_js__WEBPACK_IMPORTED_MODULE_2__.sendInvitationEmail)(email, password);\n        case 25:\n          mailsuccess = _context9.sent;\n          console.log(\"mail success\");\n        case 27:\n          _context9.next = 32;\n          break;\n        case 29:\n          _context9.prev = 29;\n          _context9.t0 = _context9[\"catch\"](0);\n          throw _context9.t0;\n        case 32:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[0, 29]]);\n  }));\n  return function sendInvite(_x11) {\n    return _ref9.apply(this, arguments);\n  };\n}();\nvar getUsersService = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(name) {\n    var data;\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.prev = 0;\n          _context10.next = 3;\n          return (0,_query_user_js__WEBPACK_IMPORTED_MODULE_5__.getUsers)(name);\n        case 3:\n          data = _context10.sent;\n          if (!(data.rows.length === 0)) {\n            _context10.next = 6;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_3__.NotFoundError(\"User not found\");\n        case 6:\n          return _context10.abrupt(\"return\", data.rows);\n        case 9:\n          _context10.prev = 9;\n          _context10.t0 = _context10[\"catch\"](0);\n          throw _context10.t0;\n        case 12:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10, null, [[0, 9]]);\n  }));\n  return function getUsersService(_x12) {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/services/user.Services.js?");

/***/ }),

/***/ "./src/services/versioncontrol.services.js":
/*!*************************************************!*\
  !*** ./src/services/versioncontrol.services.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VersionfileuploadService: () => (/* binding */ VersionfileuploadService)\n/* harmony export */ });\n/* harmony import */ var _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/database/db.js */ \"./src/core/database/db.js\");\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Error/customError.js */ \"./src/Error/customError.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar VersionfileuploadService = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(version_number, doc_id, delta, created_by) {\n    var query, values, result;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // console.log(\"in serviuce\", version_number, doc_id, delta);\n          query = \"\\n      INSERT INTO document_version(version_number, doc_id, delta, created_by)\\n      VALUES($1, $2, $3, $4)\\n      RETURNING *;\\n    \";\n          values = [version_number, parseInt(doc_id), delta, created_by];\n          _context.prev = 2;\n          _context.next = 5;\n          return _core_database_db_js__WEBPACK_IMPORTED_MODULE_0__.pool.query(query, values);\n        case 5:\n          result = _context.sent;\n          console.log(result);\n          _context.next = 13;\n          break;\n        case 9:\n          _context.prev = 9;\n          _context.t0 = _context[\"catch\"](2);\n          console.log(_context.t0.message, \"rg\");\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.DatabaseError(\"cant set version \");\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[2, 9]]);\n  }));\n  return function VersionfileuploadService(_x, _x2, _x3, _x4) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/services/versioncontrol.services.js?");

/***/ }),

/***/ "./src/utils/dummy/categorysvg.js":
/*!****************************************!*\
  !*** ./src/utils/dummy/categorysvg.js ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dummy_svg: () => (/* binding */ dummy_svg)\n/* harmony export */ });\nvar dummy_svg = [\"<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 36 20\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <path d=\\\"M18.03 11.8426C21.0421 11.8426 23.4933 9.39145 23.4933 6.37932C23.4933 3.36719 21.0421 0.916016 18.03 0.916016C15.0178 0.916016 12.5667 3.36719 12.5667 6.37973C12.5667 9.39226 15.0174 11.8426 18.03 11.8426ZM18.03 2.62169C20.1019 2.62169 21.7876 4.30741 21.7876 6.37932C21.7876 8.45123 20.1019 10.1369 18.03 10.1369C15.958 10.1369 14.2723 8.45123 14.2723 6.37932C14.2719 4.30741 15.9576 2.62169 18.03 2.62169Z\\\" fill=\\\"white\\\"/>\\n    <path d=\\\"M20.7349 12.3521H15.0817C11.5506 12.3521 8.67822 15.2244 8.67822 18.7556C8.67822 19.2269 9.05953 19.6082 9.53086 19.6082C10.0022 19.6082 10.3835 19.2269 10.3835 18.7556C10.3835 16.1655 12.4913 14.0577 15.0813 14.0577H20.7345C23.3246 14.0577 25.4323 16.1655 25.4323 18.7556C25.4323 19.2269 25.8136 19.6082 26.285 19.6082C26.7563 19.6082 27.1376 19.2269 27.1376 18.7556C27.1384 15.2244 24.266 12.3521 20.7349 12.3521Z\\\" fill=\\\"white\\\"/>\\n    <path d=\\\"M7.62341 11.6182C9.95522 11.6182 11.8524 9.72109 11.8524 7.38928C11.8524 5.05828 9.95522 3.16113 7.62341 3.16113C5.29241 3.16113 3.39526 5.05828 3.39526 7.38928C3.39526 9.72109 5.29241 11.6182 7.62341 11.6182ZM7.62341 4.86681C9.015 4.86681 10.1467 5.9985 10.1467 7.38928C10.1467 8.78087 9.015 9.91255 7.62341 9.91255C6.23263 9.91255 5.10094 8.78087 5.10094 7.38928C5.10094 5.9985 6.23263 4.86681 7.62341 4.86681Z\\\" fill=\\\"white\\\"/>\\n    <path d=\\\"M10.4568 13.1144C10.4568 12.643 10.0755 12.2617 9.6042 12.2617H5.46609C2.75541 12.2617 0.549072 14.4677 0.549072 17.1787C0.549072 17.6501 0.930375 18.0314 1.40171 18.0314C1.87304 18.0314 2.25434 17.6501 2.25434 17.1787C2.25434 15.4083 3.69523 13.9674 5.46568 13.9674H9.6042C10.0755 13.9674 10.4568 13.5857 10.4568 13.1144Z\\\" fill=\\\"white\\\"/>\\n    <path d=\\\"M28.3769 11.6182C30.7079 11.6182 32.6051 9.72109 32.6051 7.38928C32.6051 5.05828 30.7079 3.16113 28.3769 3.16113C26.0451 3.16113 24.1479 5.05828 24.1479 7.38928C24.1475 9.72109 26.0447 11.6182 28.3769 11.6182ZM28.3769 4.86681C29.7677 4.86681 30.8994 5.9985 30.8994 7.38928C30.8994 8.78087 29.7677 9.91255 28.3769 9.91255C26.9853 9.91255 25.8536 8.78087 25.8536 7.38928C25.8532 5.9985 26.9849 4.86681 28.3769 4.86681Z\\\" fill=\\\"white\\\"/>\\n    <path d=\\\"M30.5342 12.2617H26.3961C25.9248 12.2617 25.5435 12.643 25.5435 13.1144C25.5435 13.5857 25.9248 13.967 26.3961 13.967H30.5342C32.3047 13.967 33.7455 15.4079 33.7455 17.1783C33.7455 17.6497 34.1268 18.031 34.5982 18.031C35.0695 18.031 35.4508 17.6497 35.4508 17.1783C35.4512 14.4677 33.2453 12.2617 30.5342 12.2617Z\\\" fill=\\\"white\\\"/>\\n    </svg>\\n        \", \"<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 24 25\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <path d=\\\"M19.6362 4.37366V5.06786C19.6362 5.45125 19.3254 5.76205 18.942 5.76205C18.5586 5.76205 18.2478 5.45125 18.2478 5.06786V4.37366H12.6942V5.06786C12.6942 5.45125 12.3834 5.76205 12 5.76205C11.6166 5.76205 11.3058 5.45125 11.3058 5.06786V4.37366H5.75229V5.06786C5.75229 5.45125 5.44148 5.76205 5.05809 5.76205C4.6747 5.76205 4.3639 5.45125 4.3639 5.06786V4.37366H2.28131C1.89751 4.37366 1.58712 4.68427 1.58712 5.06786V7.15044H22.413V5.06786C22.413 4.68427 22.1026 4.37366 21.7188 4.37366H19.6362ZM19.6362 2.98527H21.7188C22.8696 2.98527 23.8013 3.9177 23.8013 5.06786V22.2314C23.8013 23.3815 22.8696 24.3139 21.7188 24.3139H2.28131C1.13051 24.3139 0.19873 23.3815 0.19873 22.2314V5.06786C0.19873 3.9177 1.13051 2.98527 2.28131 2.98527H4.3639V0.90269C4.3639 0.519298 4.6747 0.208496 5.05809 0.208496C5.44148 0.208496 5.75229 0.519298 5.75229 0.90269V2.98527H11.3058V0.90269C11.3058 0.519298 11.6166 0.208496 12 0.208496C12.3834 0.208496 12.6942 0.519298 12.6942 0.90269V2.98527H18.2478V0.90269C18.2478 0.519298 18.5586 0.208496 18.942 0.208496C19.3254 0.208496 19.6362 0.519298 19.6362 0.90269V2.98527ZM22.413 8.53883H1.58712V22.2314C1.58712 22.6149 1.89751 22.9255 2.28131 22.9255H21.7188C22.1026 22.9255 22.413 22.6149 22.413 22.2314V8.53883Z\\\" fill=\\\"white\\\"/>\\n    </svg>\\n    \", \"<svg fill=\\\"#ffffff\\\" height=\\\"30\\\" width=\\\"30\\\" version=\\\"1.1\\\" id=\\\"Capa_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 283.581 283.581\\\" xml:space=\\\"preserve\\\" stroke=\\\"#ffffff\\\"><g id=\\\"SVGRepo_bgCarrier\\\" stroke-width=\\\"0\\\"></g><g id=\\\"SVGRepo_tracerCarrier\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"></g><g id=\\\"SVGRepo_iconCarrier\\\"> <path d=\\\"M281.384,112.941l-76.8-76.811c-1.406-1.407-3.314-2.197-5.304-2.197c-1.989,0-3.897,0.791-5.304,2.197l-37.244,37.248 c-0.003,0.003-0.006,0.007-0.009,0.01l-17.398,17.398l-12.519-12.519c-0.027-0.028-0.051-0.059-0.078-0.086L89.492,40.935 c-1.406-1.407-3.313-2.197-5.303-2.197c-0.001,0-0.001,0-0.001,0c-1.989,0-3.896,0.79-5.304,2.197L2.197,117.622 c-2.929,2.929-2.929,7.677,0,10.606l37.244,37.249c1.406,1.407,3.314,2.197,5.304,2.197s3.897-0.791,5.304-2.197l7.436-7.436 l7.292,7.292l-5.004,5.004c-2.928,2.928-2.929,7.676-0.001,10.605l60.434,60.456c1.407,1.407,3.315,2.198,5.306,2.198 c1.99,0,3.898-0.791,5.305-2.199l5.001-5.005l11.058,11.059c1.406,1.406,3.314,2.197,5.304,2.197c1.989,0,3.896-0.79,5.304-2.197 l28.128-28.129c0.021-0.021,0.044-0.038,0.064-0.058c0.021-0.02,0.037-0.043,0.059-0.064l17.791-17.792 c0.007-0.007,0.015-0.013,0.021-0.02c0.007-0.007,0.013-0.015,0.02-0.022l17.872-17.873c1.406-1.407,2.196-3.314,2.196-5.304 c0-1.99-0.791-3.897-2.197-5.304l-11.061-11.058l12.103-12.114l11.07,11.067c1.465,1.464,3.384,2.196,5.303,2.196 c1.919,0,3.839-0.732,5.304-2.197l37.23-37.234C284.313,120.617,284.313,115.869,281.384,112.941z M18.107,122.926l66.081-66.081 l26.632,26.638l-5.016,5.016l-53.627,53.63c-0.012,0.012-0.021,0.024-0.032,0.036l-7.4,7.401L18.107,122.926z M125.508,225.486 L75.681,175.64l4.984-4.986c0.007-0.006,0.014-0.012,0.021-0.018c0.007-0.006,0.012-0.014,0.019-0.02l4.974-4.975l49.832,49.833 L125.508,225.486z M152.177,231.541l-5.76-5.76l5.003-5.007c2.927-2.929,2.926-7.676-0.002-10.604l-60.437-60.438 c-1.407-1.407-3.314-2.197-5.304-2.197c-1.989,0-3.897,0.791-5.304,2.197l-4.993,4.994l-7.292-7.292l42.439-42.445l10.893-10.894 l7.297,7.297l-30.779,30.779c-1.407,1.407-2.197,3.314-2.197,5.304c0,1.989,0.791,3.897,2.197,5.304l24.139,24.131 c1.407,1.406,3.314,2.196,5.303,2.196h0.002c1.989-0.001,3.896-0.791,5.303-2.198l30.759-30.774l31.013,31.011 c0.063,0.062,0.131,0.117,0.195,0.177l10.873,10.87l-7.284,7.284l-18.934-18.94c-2.927-2.93-7.676-2.93-10.606-0.002 c-2.929,2.929-2.93,7.677-0.001,10.606l18.936,18.942l-7.268,7.27l-18.939-18.938c-2.928-2.929-7.677-2.928-10.606,0.001 c-2.929,2.929-2.929,7.678,0.001,10.607l18.938,18.936L152.177,231.541z M211.863,139.114l-12.099,12.109l-2.572-2.572 c-0.059-0.059-0.123-0.109-0.184-0.165l-28.265-28.263c-1.406-1.407-3.314-2.197-5.304-2.197c-1.989,0-3.898,0.791-5.304,2.198 l-30.759,30.775l-13.529-13.525l30.767-30.766c0.004-0.004,0.009-0.007,0.013-0.011c0.004-0.004,0.008-0.008,0.012-0.012 l17.398-17.397l6.727,6.725L211.863,139.114z M238.849,144.871L181.595,87.63l-8.951-8.951l26.637-26.639l66.194,66.203 L238.849,144.871z\\\"></path> </g></svg>\", \"<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 34 19\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n<path d=\\\"M2.36424 7.04999L14.0513 1.44769C15.8741 0.589917 17.8845 0.107422 19.8949 0.107422C21.5568 0.107422 23.2188 0.429086 24.7735 1.0188C24.8271 1.0188 24.9075 1.04561 24.9611 1.07241L25.0683 1.12602C25.1219 1.15283 25.1755 1.17963 25.2292 1.20644L30.3222 3.27045C32.4934 4.15502 33.8873 6.21903 33.8873 8.55109V13.5637C33.8873 14.0194 33.5388 14.3678 33.0831 14.3678H29.7861C29.4108 16.6463 27.4272 18.3886 25.0415 18.3886C22.3878 18.3886 20.2166 16.2174 20.2166 13.5637C20.2166 10.91 22.3878 8.73873 25.0415 8.73873C27.4272 8.73873 29.4108 10.4811 29.7861 12.7595H32.279V8.55109C32.279 6.88916 31.2872 5.38807 29.7324 4.77154L25.2292 2.94878C24.0765 5.60251 21.4228 7.39846 18.4742 7.39846H13.1668C12.7111 7.39846 12.3626 7.04999 12.3626 6.5943C12.3626 6.13861 12.7111 5.79015 13.1668 5.79015H18.4742C20.7527 5.79015 22.8167 4.42307 23.7281 2.35907C22.495 1.93018 21.2084 1.71574 19.8681 1.71574C18.0989 1.71574 16.3298 2.11782 14.7215 2.89517L3.06118 8.49748C2.25702 8.89956 1.72091 9.73052 1.72091 10.6419V12.7863H2.87354C3.24882 10.5079 5.23241 8.76553 7.61808 8.76553C10.2718 8.76553 12.443 10.9368 12.443 13.5905C12.443 16.2442 10.2718 18.4154 7.61808 18.4154C5.23241 18.4154 3.24882 16.6731 2.87354 14.3946H0.916752C0.461063 14.3946 0.112595 14.0462 0.112595 13.5905V10.6151C0.112595 9.114 0.997169 7.69332 2.36424 7.04999ZM25.0415 10.347C23.2724 10.347 21.8249 11.7945 21.8249 13.5637C21.8249 15.3328 23.2724 16.7803 25.0415 16.7803C26.8107 16.7803 28.2582 15.3328 28.2582 13.5637C28.2582 11.7945 26.8107 10.347 25.0415 10.347ZM7.61808 16.7803C9.38723 16.7803 10.8347 15.3328 10.8347 13.5637C10.8347 11.7945 9.38723 10.347 7.61808 10.347C5.84893 10.347 4.40144 11.7945 4.40144 13.5637C4.40144 15.3328 5.84893 16.7803 7.61808 16.7803Z\\\" fill=\\\"white\\\"/>\\n</svg>\", \"<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 36 20\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n<path d=\\\"M18.0298 11.8426C21.042 11.8426 23.4931 9.39145 23.4931 6.37932C23.4931 3.36719 21.042 0.916016 18.0298 0.916016C15.0177 0.916016 12.5665 3.36719 12.5665 6.37973C12.5665 9.39226 15.0173 11.8426 18.0298 11.8426ZM18.0298 2.62169C20.1017 2.62169 21.7875 4.30741 21.7875 6.37932C21.7875 8.45123 20.1017 10.1369 18.0298 10.1369C15.9579 10.1369 14.2722 8.45123 14.2722 6.37932C14.2718 4.30741 15.9575 2.62169 18.0298 2.62169Z\\\" fill=\\\"white\\\"/>\\n<path d=\\\"M20.7349 12.3521H15.0817C11.5506 12.3521 8.67822 15.2244 8.67822 18.7556C8.67822 19.2269 9.05953 19.6082 9.53086 19.6082C10.0022 19.6082 10.3835 19.2269 10.3835 18.7556C10.3835 16.1655 12.4913 14.0577 15.0813 14.0577H20.7345C23.3246 14.0577 25.4323 16.1655 25.4323 18.7556C25.4323 19.2269 25.8136 19.6082 26.285 19.6082C26.7563 19.6082 27.1376 19.2269 27.1376 18.7556C27.1384 15.2244 24.266 12.3521 20.7349 12.3521Z\\\" fill=\\\"white\\\"/>\\n<path d=\\\"M7.62353 11.6182C9.95534 11.6182 11.8525 9.72109 11.8525 7.38928C11.8525 5.05828 9.95534 3.16113 7.62353 3.16113C5.29253 3.16113 3.39539 5.05828 3.39539 7.38928C3.39539 9.72109 5.29253 11.6182 7.62353 11.6182ZM7.62353 4.86681C9.01512 4.86681 10.1468 5.9985 10.1468 7.38928C10.1468 8.78087 9.01512 9.91255 7.62353 9.91255C6.23275 9.91255 5.10106 8.78087 5.10106 7.38928C5.10106 5.9985 6.23275 4.86681 7.62353 4.86681Z\\\" fill=\\\"white\\\"/>\\n<path d=\\\"M10.4567 13.1144C10.4567 12.643 10.0754 12.2617 9.60408 12.2617H5.46596C2.75529 12.2617 0.54895 14.4677 0.54895 17.1787C0.54895 17.6501 0.930253 18.0314 1.40159 18.0314C1.87292 18.0314 2.25422 17.6501 2.25422 17.1787C2.25422 15.4083 3.69511 13.9674 5.46556 13.9674H9.60408C10.0754 13.9674 10.4567 13.5857 10.4567 13.1144Z\\\" fill=\\\"white\\\"/>\\n<path d=\\\"M28.3768 11.6182C30.7078 11.6182 32.6049 9.72109 32.6049 7.38928C32.6049 5.05828 30.7078 3.16113 28.3768 3.16113C26.045 3.16113 24.1478 5.05828 24.1478 7.38928C24.1474 9.72109 26.0446 11.6182 28.3768 11.6182ZM28.3768 4.86681C29.7676 4.86681 30.8992 5.9985 30.8992 7.38928C30.8992 8.78087 29.7676 9.91255 28.3768 9.91255C26.9852 9.91255 25.8535 8.78087 25.8535 7.38928C25.8531 5.9985 26.9848 4.86681 28.3768 4.86681Z\\\" fill=\\\"white\\\"/>\\n<path d=\\\"M30.5343 12.2617H26.3962C25.9249 12.2617 25.5436 12.643 25.5436 13.1144C25.5436 13.5857 25.9249 13.967 26.3962 13.967H30.5343C32.3048 13.967 33.7457 15.4079 33.7457 17.1783C33.7457 17.6497 34.127 18.031 34.5983 18.031C35.0696 18.031 35.4509 17.6497 35.4509 17.1783C35.4513 14.4677 33.2454 12.2617 30.5343 12.2617Z\\\" fill=\\\"white\\\"/>\\n</svg>\\n\", \"\\n<svg width=\\\"24\\\" height=\\\"27\\\" viewBox=\\\"0 0 24 27\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <g clip-path=\\\"url(#clip0_723_5868)\\\">\\n    <path d=\\\"M7.35176 12.1659L6.03717 13.4532L10.7231 18.0419L17.9629 10.9519L16.6483 9.66455L10.7231 15.4673L7.35176 12.1659Z\\\" fill=\\\"white\\\"/>\\n    <path d=\\\"M12 0.89209L11.4526 1.28282C8.11118 3.66811 4.7362 4.94477 1.42204 5.07723L0.530518 5.11279V10.6977C0.530518 17.6642 4.99221 24.0248 11.6305 26.5244L11.9977 26.6635L12.3318 26.5386C18.9937 24.0475 23.4695 17.6811 23.4695 10.6977V5.11279L22.578 5.07723C19.2638 4.94477 15.8888 3.66811 12.5475 1.28282L12 0.89209ZM21.6102 10.6977C21.6102 16.8147 17.7627 22.401 12 24.7094C6.23826 22.4015 2.38982 16.8112 2.38982 10.6977V6.83664C5.59958 6.53392 8.82612 5.29193 12 3.13558C15.1739 5.29193 18.4005 6.53392 21.6102 6.83664V10.6977Z\\\" fill=\\\"white\\\"/>\\n    </g>\\n    <defs>\\n    <clipPath id=\\\"clip0_723_5868\\\">\\n    <rect width=\\\"23.4975\\\" height=\\\"25.7714\\\" fill=\\\"white\\\" transform=\\\"translate(0.251282 0.89209)\\\"/>\\n    </clipPath>\\n    </defs>\\n    </svg>\", \"\\n    <svg width=\\\"26\\\" height=\\\"25\\\" viewBox=\\\"0 0 26 25\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <path d=\\\"M20.0522 23.0769L20.0531 23.0762C20.1817 22.9827 20.2489 22.8256 20.2276 22.6677C20.2276 22.6674 20.2276 22.6671 20.2275 22.6669L19.3237 16.1327C19.2512 15.6618 19.4079 15.1897 19.7367 14.8554L24.3118 10.0987L24.3185 10.0917L24.3185 10.0917C24.4305 9.97752 24.4706 9.8089 24.4208 9.6546L24.4206 9.65403C24.3713 9.50087 24.2408 9.38759 24.0817 9.36028L24.0753 9.35918L24.0753 9.35916L17.5751 8.19962C17.105 8.11928 16.703 7.82147 16.4882 7.39823L16.4736 7.36941L13.3832 1.58951C13.3072 1.44738 13.16 1.35938 12.9998 1.35938C12.849 1.35938 12.7098 1.43726 12.6306 1.56483L12.6174 1.58941L9.50512 7.4103C9.28889 7.82718 8.89001 8.12006 8.42445 8.19963L1.92428 9.35916L1.91784 9.3603L1.91784 9.36028C1.75878 9.38758 1.62829 9.50086 1.57892 9.65403L1.57873 9.65461C1.5289 9.8089 1.56901 9.97751 1.68102 10.0917L1.68827 10.0991L1.68823 10.0992L6.2573 14.8558C6.58593 15.19 6.74249 15.662 6.66998 16.1327L5.76595 22.6683C5.76594 22.6684 5.76592 22.6685 5.76591 22.6686C5.74395 22.8284 5.8112 22.986 5.94034 23.0803C6.07034 23.1745 6.24091 23.1895 6.38574 23.1195L20.0522 23.0769ZM20.0522 23.0769C19.9233 23.1709 19.7541 23.1865 19.6111 23.1185C19.6106 23.1183 19.6101 23.118 19.6096 23.1178L13.6616 20.2324C13.2433 20.0294 12.7558 20.0294 12.3374 20.2323C12.3374 20.2323 12.3374 20.2323 12.3373 20.2324L6.38612 23.1194L20.0522 23.0769Z\\\" stroke=\\\"white\\\"/>\\n    </svg>\", \"\\n    <svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 38 29\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <path d=\\\"M11.8809 15.7199L11.8809 15.7199C11.3243 15.5531 10.7486 15.4684 10.1681 15.4684H10.0245C8.96961 15.4684 7.93144 15.7491 7.02134 16.2802L1.22137 19.663C1.22135 19.663 1.22134 19.663 1.22132 19.663C1.00937 19.7865 0.880469 20.0129 0.880469 20.2563V27.874C0.880469 28.1245 1.017 28.3549 1.2364 28.4756L1.23663 28.4757C1.33946 28.5319 1.45326 28.56 1.56645 28.56C1.69498 28.56 1.82239 28.5236 1.93431 28.4533L1.93481 28.453L8.21188 24.4582H17.3879C17.5498 24.4582 17.7074 24.4006 17.831 24.2963L17.8311 24.2962L24.8815 18.3298C25.3963 17.8953 25.6917 17.2585 25.6917 16.5834C25.6917 15.3228 24.6654 14.2965 23.4048 14.2965H23.2337C22.7067 14.2965 22.192 14.4803 21.7856 14.8137L17.4203 18.385C17.2425 17.7156 16.7322 17.1752 16.0414 16.9681C16.0414 16.9681 16.0413 16.9681 16.0413 16.9681L11.8809 15.7199ZM23.9959 17.2823L23.9959 17.2823L17.1368 23.0862H8.01224C7.88158 23.0862 7.75424 23.124 7.64442 23.1929L7.64387 23.1932L2.25243 26.6248V20.6501L7.71216 17.4649C7.71218 17.4649 7.71219 17.4649 7.71221 17.4649C8.413 17.0566 9.21247 16.8404 10.0245 16.8404H10.1681C10.6149 16.8404 11.0587 16.9052 11.487 17.0342L11.4871 17.0343L15.6475 18.2824L15.6476 18.2824C15.9281 18.3664 16.116 18.6192 16.116 18.9121C16.116 19.2752 15.8209 19.5703 15.4577 19.5703H11.5281H11.4281V19.6703V20.8423V20.9423H11.5281H16.216C16.3739 20.9423 16.5275 20.8874 16.6501 20.7873L16.6502 20.7872L22.6541 15.8751C22.8174 15.7419 23.0224 15.6684 23.2337 15.6684H23.4048C23.9092 15.6684 24.3197 16.079 24.3197 16.5834C24.3197 16.854 24.2014 17.1085 23.9959 17.2823Z\\\" fill=\\\"white\\\" stroke=\\\"white\\\" stroke-width=\\\"0.2\\\"/>\\n    <path d=\\\"M37.0071 0.405884L37.0551 0.318147C37.2747 0.43826 37.4113 0.66882 37.4113 0.919203V8.53695C37.4113 8.78024 37.2825 9.00665 37.0704 9.12962C37.0703 9.12966 37.0702 9.12972 37.0702 9.12977L31.2704 12.513C31.2704 12.5131 31.2704 12.5131 31.2704 12.5131C30.3608 13.0441 29.3221 13.3248 28.2672 13.3248H28.1237C27.5443 13.3248 26.968 13.2402 26.4108 13.0727L22.2504 11.8246C21.5596 11.6175 21.0493 11.0776 20.8719 10.4078L16.5061 13.9796L16.4427 13.9022L16.506 13.9796C16.0985 14.3129 15.5845 14.4968 15.0581 14.4968H14.887C13.6264 14.4968 12.6001 13.4711 12.6001 12.2099C12.6001 11.5354 12.8948 10.8986 13.4102 10.4629L20.4605 4.49777C20.4605 4.49773 20.4606 4.49768 20.4606 4.49764C20.5843 4.39261 20.742 4.33509 20.9038 4.33509H30.0799L36.3563 0.340856L36.3566 0.340698C36.5688 0.206535 36.835 0.197464 37.0552 0.318199L37.0071 0.405884ZM37.0071 0.405884C37.1946 0.508431 37.3113 0.70532 37.3113 0.919203V8.53695C37.3113 8.74497 37.2011 8.93835 37.02 9.04324L37.0071 0.405884ZM21.6415 8.00601L15.6382 12.9176C15.4744 13.0514 15.2687 13.1248 15.0581 13.1248H14.887C14.3826 13.1248 13.972 12.7143 13.972 12.2099C13.972 11.9399 14.0903 11.6853 14.2959 11.5109L21.1549 5.70705H30.2795C30.4098 5.70705 30.5374 5.67 30.6477 5.60011L30.6479 5.6L36.0393 2.16903V8.14316L30.5795 11.3277L30.6299 11.4141L30.5795 11.3277C29.8787 11.7366 29.0793 11.9528 28.2672 11.9528H28.1237C27.6775 11.9528 27.233 11.888 26.8046 11.7596L22.6443 10.5115C22.3637 10.4269 22.1758 10.174 22.1758 9.8806C22.1758 9.51808 22.4708 9.22293 22.834 9.22293H26.7636H26.8636V9.12293V7.95097V7.85097H26.7636H22.0758C21.9178 7.85097 21.7643 7.90588 21.6416 8.00591L21.6415 8.00601Z\\\" fill=\\\"white\\\" stroke=\\\"white\\\" stroke-width=\\\"0.2\\\"/>\\n    </svg>\"];\n\n//# sourceURL=webpack://backend/./src/utils/dummy/categorysvg.js?");

/***/ }),

/***/ "./src/utils/generateHashPassword.js":
/*!*******************************************!*\
  !*** ./src/utils/generateHashPassword.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateHashPassword: () => (/* binding */ generateHashPassword)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Error/customError.js */ \"./src/Error/customError.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar generateHashPassword = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(password) {\n    var salt, hashedPassword;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          if (password) {\n            _context.next = 3;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.ValidationError(\"password is null\");\n        case 3:\n          _context.next = 5;\n          return bcryptjs__WEBPACK_IMPORTED_MODULE_0__.genSalt(10);\n        case 5:\n          salt = _context.sent;\n          _context.next = 8;\n          return bcryptjs__WEBPACK_IMPORTED_MODULE_0__.hash(password, salt);\n        case 8:\n          hashedPassword = _context.sent;\n          if (hashedPassword) {\n            _context.next = 11;\n            break;\n          }\n          throw new _Error_customError_js__WEBPACK_IMPORTED_MODULE_1__.ValidationError(\"not able to genertae hash password\");\n        case 11:\n          return _context.abrupt(\"return\", hashedPassword);\n        case 14:\n          _context.prev = 14;\n          _context.t0 = _context[\"catch\"](0);\n          throw _context.t0;\n        case 17:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 14]]);\n  }));\n  return function generateHashPassword(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://backend/./src/utils/generateHashPassword.js?");

/***/ }),

/***/ "./src/utils/generateNotification.js":
/*!*******************************************!*\
  !*** ./src/utils/generateNotification.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateNotificationMessage: () => (/* binding */ generateNotificationMessage)\n/* harmony export */ });\n/* harmony import */ var _constants_notificationsConstants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants/notificationsConstants.js */ \"./src/constants/notificationsConstants.js\");\n/* harmony import */ var _notification_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./notification.config.js */ \"./src/utils/notification.config.js\");\n\n\nvar generateNotificationMessage = function generateNotificationMessage(notificationData) {\n  var entity_type = notificationData.entity_type,\n    user_name = notificationData.user_name,\n    entity_name = notificationData.entity_name;\n  var actions = (0,_notification_config_js__WEBPACK_IMPORTED_MODULE_1__.entityTypeActions)(user_name, entity_name);\n  var messageTemplate = actions[entity_type];\n  if (messageTemplate) {\n    var message = messageTemplate.toString();\n    console.log(message, \"message is\");\n    return message;\n  } else {\n    console.error(\"Invalid entity_type provided\");\n    return null;\n  }\n};\n\n//# sourceURL=webpack://backend/./src/utils/generateNotification.js?");

/***/ }),

/***/ "./src/utils/getPagination.js":
/*!************************************!*\
  !*** ./src/utils/getPagination.js ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPagination: () => (/* binding */ getPagination)\n/* harmony export */ });\nvar getPagination = function getPagination(page, size) {\n  //page-> page number     size-> how many in one page\n  var limit = size ? +size : 5;\n  //page 0 ->offset 0 page 1->offset size\n  // if 0 base indexing\n  var offset = page * size ? page * size : 0;\n  return {\n    limit: limit,\n    offset: offset\n  };\n};\n\n//# sourceURL=webpack://backend/./src/utils/getPagination.js?");

/***/ }),

/***/ "./src/utils/inputValidation.js":
/*!**************************************!*\
  !*** ./src/utils/inputValidation.js ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   emailValidation: () => (/* binding */ emailValidation),\n/* harmony export */   passwordValidation: () => (/* binding */ passwordValidation)\n/* harmony export */ });\nvar emailValidation = function emailValidation(email) {\n  var check = new RegExp(\"^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$\");\n  if (!check.test(email)) {\n    return {\n      error: \"Invalid Email format\",\n      success: false\n    };\n  }\n  var index = email.indexOf(\"@\");\n  var domain = email.slice(index + 1).toLowerCase();\n  return {\n    success: true\n  };\n};\n\n// At least one uppercase letter\n// At least one lowercase letter\n// At least one digit\n// At least one special symbol\n// should be more than 4 character\n\nvar passwordValidation = function passwordValidation(password) {\n  if (!/[A-Z]/.test(password)) {\n    return {\n      error: \"Password should contain at least one uppercase letter\",\n      success: false\n    };\n  } else if (!/[a-z]/.test(password)) {\n    return {\n      error: \"Password should contain at least one lowercase letter\",\n      success: false\n    };\n  } else if (!/[0-9]/.test(password)) {\n    return {\n      error: \"Password should contain at least one digit\",\n      success: false\n    };\n  } else if (!/[^A-Za-z0-9]/.test(password)) {\n    return {\n      error: \"Password should contain at least one special symbol\",\n      success: false\n    };\n  } else if (password.length < 4) {\n    return {\n      error: \"Password should be more than 4 character\",\n      success: false\n    };\n  } else {\n    return {\n      success: true\n    };\n  }\n};\n// At least one uppercase letter\n// At least one lowercase letter\n// At least one digit\n// At least one special symbol\n// should be more than 4 character\n\n//# sourceURL=webpack://backend/./src/utils/inputValidation.js?");

/***/ }),

/***/ "./src/utils/minioSetup.js":
/*!*********************************!*\
  !*** ./src/utils/minioSetup.js ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   minioClient: () => (/* binding */ minioClient)\n/* harmony export */ });\n/* harmony import */ var minio__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! minio */ \"minio\");\n\nvar minioClient = new minio__WEBPACK_IMPORTED_MODULE_0__.Client({\n  endPoint: \"minio-endpoint.skilldify.ai\",\n  port: 443,\n  useSSL: true,\n  accessKey: \"037UPKHTR2OlYlZW\",\n  secretKey: \"caB5V71k1dBmYhhUN8PqlBNkJRJk6UR4\"\n});\n\n//# sourceURL=webpack://backend/./src/utils/minioSetup.js?");

/***/ }),

/***/ "./src/utils/notification.config.js":
/*!******************************************!*\
  !*** ./src/utils/notification.config.js ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   entityTypeActions: () => (/* binding */ entityTypeActions),\n/* harmony export */   entityTypeIdMapping: () => (/* binding */ entityTypeIdMapping)\n/* harmony export */ });\nvar entityTypeActions = function entityTypeActions(user_name, entity_name) {\n  return {\n    201: \"letter is send by \".concat(user_name),\n    202: \"letter is signed by \".concat(user_name),\n    301: \"\".concat(entity_name, \" is approved by \").concat(user_name),\n    302: \"\".concat(entity_name, \" is rejected by \").concat(user_name)\n  };\n};\nvar entityTypeIdMapping = {\n  APPROVED: \"301\",\n  REJECTED: \"302\",\n  LETTER_SENT: \"201\",\n  LETTER_SIGNED: \"202\"\n};\n\n//# sourceURL=webpack://backend/./src/utils/notification.config.js?");

/***/ }),

/***/ "./src/utils/randomPasswordGenerator.js":
/*!**********************************************!*\
  !*** ./src/utils/randomPasswordGenerator.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generatePassword: () => (/* binding */ generatePassword)\n/* harmony export */ });\nvar generatePassword = function generatePassword() {\n  var length = 8,\n    charset = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\",\n    retVal = \"@1T\";\n  for (var i = 0, n = charset.length; i < length; ++i) {\n    retVal += charset.charAt(Math.floor(Math.random() * n));\n  }\n  return retVal;\n};\n\n//# sourceURL=webpack://backend/./src/utils/randomPasswordGenerator.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./index.js");
/******/ 	
/******/ })()
;